/*! For license information please see chunk.route.Related.js.LICENSE.txt?a239dc6d8d7f61779cbb */
(window.webpackJsonp=window.webpackJsonp||[]).push([[155,4,5,7],Array(189).concat([function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var r=i(1869),o=i(2054),s=i(556),a=i(878),l=i(881),c=i(880),u=i(866),d=i(843),h=i(1994),p=i(1315),f=i(1496),g=i(1236),v=i(2130),m=i(15);i(951);var b={image:"images",vector:"vectors",video:"videos"};e.exports=o.extend({initialize:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];o.prototype.initialize.apply(this,n),this.searchQueryRelated=new v(t({},this.app.queryParams),{app:this.app,parse:!0}),this.app.store.link("SearchQueryRelated",this.searchQueryRelated),this.collection=this.buildCollection(),this.collection.onFiltersChange=function(){e.collection.setPager({offset:0}),e.doSearch(),e.trackKeywordsSearch()},this.collection.onPagerChange=function(){e.doSearch(),e.trackKeywordsSearch(!0)},this.listenTo(this.collection.pager,{"change:page change:limit":function(){e.handlePagerChange()},"change:page":this.handlePageChange}),this.listenTo(this.collection,{sync:this.doAfterSearch,exception:this.generate500,itemNotFound:this.generate404,searchFailed:this.generate503,bannedKeywordInSearch:this.onBannedKeywordInSearch}),this.buildSortingCollection(),this.collection.fetch(),this.once("clientAfterRender",(function(){e.app.observer.broadcast(e.collection.length?"Track:UE:Search:Result":"Track:UE:Search:NoResult")}))},getUrlParams:function(){return this.collection.pager.getUrlParams()},getQueryParamsForSearchQueryModel:function(){return{}},buildCollection:function(){var e=new p([],{app:this.app,url:"Related",filters:this.searchQueryRelated,pager:new g({route:this.name,limit:+this.app.userSettings.get("SearchQuery").limit,offset:+this.app.queryParams.offset},{app:this.app})});return e.pager.getUrlParams=function(){return e.getQueryParams()},e},buildSortingCollection:function(){this.sortingCollection=new f([],{app:this.app,parse:!0,type:this.searchQueryRelated.get("relatedTo")})},prepareRender:function(){this.setView("",new s({tagName:"div",name:"wrapper",className:"wrapper",views:{"":[new a({app:this.app,views:{"._search-bar":new u({app:this.app,isSearchPage:!0}),"._user-bar":new d({app:this.app})},headerSearchBarOpen:!0}),new l({customClassNames:this.getRootClassNames(),views:{"._content":this.getContentViews()}}),new c({app:this.app})]}}))},getContentViews:function(){return[new s({template:r,el:!1,views:{".__search-result":new h({app:this.app,collection:this.collection,searchBanner:this.searchBanner,searchInfo:this.searchInfo,searchAuthor:this.searchAuthor,enterpriseGroups:this.enterpriseGroups,lastCollections:this.lastCollections,topKeywords:this.topKeywords,sortingCollection:this.sortingCollection,isEnterpriseSearchHeaderUsed:!1})}})]},doSearch:function(){this.collection.fetch()},doAfterSearch:function(e,i){var r=this,o=e.length&&this.findView("SearchResultEmpty");i.seo_meta&&(this.meta=i.seo_meta.meta),(i.item||i.seo_meta)&&this.searchInfo.secureSet(t({},this.searchInfo.defaults,this.searchInfo.parse(i))),i.author&&this.searchAuthor.secureSet(this.searchAuthor.parse(i.author)),n.browser&&(this.updateBrowserHistory(),this.updateClientMeta(),setTimeout((function(){return r.trackAfterSearch()})),this.recentSearches.write({query:this.collection.getFilters("query"),sorting:this.collection.getFilters("sorting"),count:this.collection.totalItems||0})),this.collection.length||this.onEmptySearchResult(),o&&this.render()},trackAfterSearch:function(){if(n.browser){var e="/ingoing/search/noresult?query=noresult";this.collection.length&&(e=1!=+this.collection.pager.get("page")?"/ingoing/"+this.searchQuery.toTracking("type")+"/pager/"+this.collection.pager.get("page"):this.app.parsedUrl.pathname+"?query="+this.searchQuery.get("query").replace(/\s/g,"+")),this.app.observer.broadcast("Track:PV,RE:Route",{route:"Search",url:e})}},trackKeywordsSearch:function(e){void 0===e&&(e=!1),this.app.observer.broadcast("Track:UE:Related:KeywordSearch",{collection:this.collection,isPagerInitiator:e})},getRootClassNames:function(){return m.classNames({content_search:!0,content_portfolio:!1,"content_right-only":!0})},getCorrectUrl:function(){var e=this.getUrlParams(),i=this.searchInfo.get("relatedItem");if("similar"===this.collection.getFilters("relatedTo")&&!this.collection.getFilters("relatedFileType")&&i){var n=b[i.get("type")];e.relatedFileType=n}if(+this.app.queryParams.offset>this.collection.pager.get("totalItems")){var r=this.collection.pager.getLastPage(),o=this.collection.getPager("limit")*(r-1);e.offset=o}var s={qview:this.app.queryParams.qview||null,query:this.collection.filters.get("query")||null};return this.app.makeUrl(t({},e,{route:this.name}),{query:s})},handlePagerChange:function(){this.tryToShowSignUpModal(),this.app.observer.broadcast("Track:UE:SearchFilter:Submit",{filter:"absent",value:1,key:"AutoSearch"})},handlePagePopState:function(e){var i=this.findView("SearchFiles"),n=e.queryParams;if(i&&i.onPopStateChange(),n.query&&n.query!==this.collection.filters.get("query")){var r=this.collection.filters.parse(n);this.collection.setFilters(t({},r))}else this.collection.setPager(t({},n))}})}))}).call(this,i(23))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}i.d(t,"a",(function(){return n}))},,function(e,t,i){(function(e){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),r=i(634),o=(0,i(12).getLogger)(e),s=["003","004","005","007","012","015","041","043","057","062","078","093","117","0R0","0R1","0R3"];e.exports={parse:function(e,t,i,r){var s=this;if(void 0===t&&(t=[]),void 0===i&&(i={}),void 0===r&&(r={}),!e)return o.error("App is required for errors parser."),[];var a=t.map((function(t){return s.parseError(e,s.prepareError(t),r)}));return this.format(n.flatten(a),i)},format:function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t={}),t.associate){var i={};return n.each(e,(function(e){i[e.field]=e.message})),i}return e},prepareError:function(e){var t=e.error_code,i=void 0===t?"":t,n=e.error_message,r=void 0===n?"":n,o=e.error_data,s=(void 0===o?{}:o).validationCode;if(3e4===i){var a=r.split(":");return{code:a[0],message:a.slice(1).join(),validationCode:s}}return{code:i,message:r,validationCode:s}},parseError:function(e,i,o){void 0===o&&(o={});var s=r.get(i.code),a=r.get("default"),l=a.message(e,{code:i.code,message:i.message}),c={code:i.code,field:a.field,message:l};if(!s)return[c];var u=t({fullName:e.user.getFullName()},o);if("100"===s.code){if(!i.validationCode)return[c];var d=n(s.errors).findWhere({validationCode:i.validationCode});return d?[{code:i.code,field:d.field,message:d.message?d.message(e,u):l}]:[c]}return s.errors.map((function(t){return{code:s.code,field:t.field,message:t.message?t.message(e,u):l}}))},filterOwn:function(e,t,i){return void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i={global:!1}),i.global&&t.push(r.get("default").field),n.pick(n.clone(e),t)},isPaymentFailureError:function(e){return n.contains(s,e)},getErrorsMessage:function(e,t,i){void 0===t&&(t=[]),void 0===i&&(i={});var n=i.separator,r=void 0===n?". ":n;return this.parse(e,t).map((function(e){return e.message})).join(r)}}}))}).call(this,i(8)(e))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(856).spinner,n=i(0),r=i(857),o=i(15);e.exports={fieldCorrect:function(e,t){this.fieldReset(e,t),e.addClass("field-box_correct").removeClass("field-box_label-text")},fieldIncorrect:function(e,t){if(void 0===t&&(t={}),this.fieldReset(e,t),t.msgOnly||(e.addClass("field-box_incorrect").removeClass("field-box_label-text"),e.find(".field-box__right-elem").addClass("hidden")),"string"==typeof t.errorMessage){var i='<span class="field-box__error" data-id="'+this.getContextId(e)+'">'+this.tr(t.errorMessage)+"</span>";this.getErrorHolder(e,t).append(i)}this.fieldsGroupIncorrect(e)},fieldProgress:function(e,i){this.fieldReset(e,i),this.spinner||(this.spinner=new r(n.extend({},n.clone(t),{className:"field-box_spinner"}))),this.spinner.spin(e.get(0)),i&&i.keepEnabled||e.find("input, select, textarea").attr("disabled","disabled")},fieldReset:function(e,t){e.find("field-box_progress:disabled").removeAttr("disabled"),e.removeClass("field-box_correct field-box_incorrect field-box_progress"),e.find(".field-box__right-elem").removeClass("hidden"),e.attr("data-label-text")&&e.addClass("field-box_label-text"),this.spinner&&this.spinner.stop(e.get(0)),this.getErrorHolder(e,t).find('span.field-box__error[data-id="'+this.getContextId(e)+'"]').remove(),this.fieldsGroupReset(e)},onCapitalizeEvent:function(e){this.capitalize(e)},capitalize:function(e){var t=e.currentTarget.value;if(t.length<=1||"input"===e.type&&"paste"===this.prevCapitalizeEvt){var i=t.charAt(0);i!==i.toUpperCase()&&(e.currentTarget.value=o.capitalize(t))}this.prevCapitalizeEvt=e.type},getContextId:function(e){return e.attr("data-id")||e.attr("data-id",n.uniqueId("autoId_")).attr("data-id")},getErrorHolder:function(e,t){return t&&void 0!==t.errorHolder?t.errorHolder:e},handleUpdateField:function(e){void 0!==e.currentTarget.dataset.capitalize&&this.capitalize(e),this.$(e.currentTarget).toggleClass("empty",0===e.currentTarget.value.length)},getInputAdditional:function(e){return Object.keys(e).reduce((function(t,i){return t[i]=0!==parseInt(e[i],10)&&e[i]&&0!==e[i].length?"":"empty",t}),{})},getFieldsGroup:function(e){var t=e.closest("._fields-group-part"),i=e.closest("._fields-group");return i&&t?i.add(t):i||t},handleUpdateFieldFocus:function(e){var t=this.getFieldsGroup(this.$(e.currentTarget));t&&t.toggleClass("focus","focusin"===e.type)},fieldsGroupIncorrect:function(e){if(0!==e.length){var t=this.getFieldsGroup(e);t&&t.addClass("invalid")}},fieldsGroupReset:function(e){if(0!==e.length){var t=this.getFieldsGroup(e);t&&0===t.find(".field-box_correct").length&&t.removeClass("invalid")}}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(33),r=i(556),o=i(771),s=i(560),a=i(559),l=i(625),c={audio:"music"};e.exports=r.extend(s).extend({name:"BaseProduct",el:!1,serializeParams:{},showRebillHandlers:!1,originalEvents:{"mouseenter ._help":"showHelpTooltip","mouseleave ._help":"hideHelpTooltip","mouseenter ._info":"showInfoTooltip","mouseleave ._info":"hideInfoTooltip","click ._force-rebill":"handleForceRebillClick"},additionalEvents:{},countries:[],userGroupInfo:void 0,canShowRebillDiscount:!0,initialize:function(){this.showRebillHandlers&&Object.assign(this,o),this.statuses={ended:this.tr("Ended"),blocked:this.tr("Blocked"),expired:this.tr("Expired"),pending:this.tr("Pending"),rejected:this.tr("Rejected"),waitingRebill:this.tr("Waiting for Rebill")}},events:function(){return Object.assign({},this.originalEvents,this.additionalEvents)},prepareRender:function(){this.showRebillHandlers&&this.initRebillProduct()},serialize:function(){var e=this.app.user.serialize(),i=Object.assign({},this.product);return t({user:e,product:i,rebill:t({showDiscount:this.canShowRebillDiscount&&i.rebill.discount>0},this.getRebillInfo()),actionBtn:this.getActionBtnInfo(),needToShowHelpTooltip:this.needToShowHelpTooltip(),labels:{base:this.getBaseLabel(),left:this.getLeftLabel(),expires:this.getExpiresLabel(),status:this.getStatusLabel(),splitCount:this.getSplitCountLabel(),renew:this.getRenewLabel(),daysLeft:this.getDaysLeft(),license:this.getLicenseLabel(),licenseType:this.getLicenseTypeLabel(),curated:this.getCuratedLabel(),trial:this.getTrialLabel()},content:this.getProductContent()},this.getAdditionalSerializeParams())},getActionBtnInfo:function(){var e=this.getRebillInfo(),t=this.product,i=t.type,n=t.status,r=t.contentType,o="membership"===i&&"active"===n,s=this.app.makeUrl({route:"Subscribe",type:c[r]||r},{backUrl:!0}),a=o?this.tr("Buy Downloads"):this.tr("Buy More");(e.waiting||e.forceRequested)&&(a=this.tr("Force Rebill"));var l="";return e.forceRequested?l="disabled":e.waiting&&!e.editable?l="hidden":e.waiting&&e.editable?l="_force-rebill":o&&(l="_buy-more"),{className:l,text:a,link:s}},getAdditionalSerializeParams:function(){return t({},this.serializeParams)},getProductContent:function(e){void 0===e&&(e=this.product);var t={type:e.type,title:this.getBaseLabel(e),info:[{key:"left",value:this.getLeftLabel(e)}],action:this.tr("Buy More")};return"membership"!==e.type&&"subscription"!==e.type&&t.info.push({key:"expires",value:this.getExpiresLabel(e)}),"membership"!==e.type&&e.split_count>0&&t.info.push({key:"splitCount",value:this.getSplitCountLabel(e)}),t},getRebillInfo:function(){return{waiting:this.product.rebill&&this.product.rebill.waiting,editable:this.product.rebill&&this.product.rebill.editable,forceRequested:this.rebillManager&&this.rebillManager.force&&this.rebillManager.synced}},getStatusLabel:function(e){void 0===e&&(e=this.product);var t=e.status;this.getRebillInfo().waiting&&(t="waitingRebill");var i=this.statuses[t];return i?this.tr("Status")+": <b>"+i+"</b>":""},getBaseLabel:function(e){return void 0===e&&(e=this.product),this.tr(e.baseLabel)},getLeftLabel:function(e){void 0===e&&(e=this.product);var t=n.productLeftLabels.find((function(t){return t.type===e.type})).label;return this.tr(t,e.left)},getSplitCountLabel:function(e){void 0===e&&(e=this.product);var t=n.productSplitCountLabels.find((function(t){return t.type===e.type}));return t?this.tr(t.label):""},getTrialLabel:function(e){if(void 0===e&&(e=this.product),!e.hasTrial)return"";var t=e.trial,i=[t.count,t.period,e.prices.start],n=this.app.store.get("TaxHelper").isTaxEnabled()?"("+this.tr("plus %s",this.app.store.get("TaxHelper").get("name"))+")":"",r=360===e.period?this.tr("%s images Free for %s days, then %s /year",i):this.tr("%s images Free for %s days, then %s /month",i);return n?r+" "+n:r},initForceRebillModel:function(){var e=this;l(this.$("._force-rebill")),this.initRebillManager(),this.rebillManager.force=!0,this.listenTo(this.rebillManager,{request:function(){return e.$("._force-rebill").trigger("loading")},sync:this.handleForceRebillSync.bind(this),error:this.handleForceRebillError.bind(this)})},handleForceRebillSync:function(e,t){this.$("._force-rebill").trigger("loaded"),t&&!t.errors&&(this.app.observer.fire("Notification",{type:"success",description:this.tr("Rebill requested successfully.")}),this.el.querySelector("._force-rebill").classList.add("disabled"),this.el.querySelector("._waiting-rebill").classList.add("product-item__cell_waiting-rebill_sent"))},handleForceRebillError:function(e,t){var i=t.errors,n=void 0===i?[]:i,r=a.getErrorsMessage(this.app,n);if(r){var o=this.$("._waiting-rebill");this.fieldIncorrect(o,{errorHolder:o,errorMessage:r})}},handleForceRebillClick:function(e){e.preventDefault(),this.rebillManager||this.initForceRebillModel();var t=this.model.get("rebill").get("card"),i=t?t.get("billingName"):this.app.user.get("billingName");this.rebillManager.save({productId:this.model.id,productType:this.model.get("type"),rebillState:!0,billingName:i})},initRebillProduct:function(){},getExpiresLabel:function(){},getRenewLabel:function(){},getDaysLeft:function(){},getCuratedLabel:function(){},getLicenseLabel:function(){},getLicenseTypeLabel:function(){},needToShowHelpTooltip:function(){},showHelpTooltip:function(){},hideHelpTooltip:function(){},showInfoTooltip:function(){},hideInfoTooltip:function(){}})}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(556),r=i(560),o=n.extend({name:"Form",el:!1,model:null,events:{submit:"onSubmit","input ._field":"onRegularFieldInput","focusin ._field":"onRegularFieldFocusIn","focusout ._field":"onRegularFieldFocusOut"},initialize:function(){if(!this.model)throw new Error(this.name+": form model is required!");this.model.enableViewValidation(this),this.setModelListeners()},setModelListeners:function(){this.listenTo(this.model,{invalid:this.handleModelInvalid,error:this.handleModelError,request:this.handleModelRequest,sync:this.handleModelResponse})},remove:function(){this.model.disableViewValidation(this);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.prototype.remove.apply(this,t)},onSubmit:function(e){e&&e.preventDefault(),this.prepareSubmit(),this.validate()?this.submit():this.onPreSubmitFail()},submit:function(){this.model.save()},validate:function(){return this.model.isValid(!0)},handleModelInvalid:function(e,i){var n=this;t.size(i)&&Object.entries(i).forEach((function(e){var t=e[0],i=e[1],r=Array.isArray(i)?i[0]:i;n.fieldIncorrect(n.$("[name="+t+"]").parent(),{errorMessage:"string"==typeof r?n.tr(r):r})}))},resetErrors:function(){var e=this;t.each(this.$(".field-box_incorrect input, .field-box_incorrect select"),(function(t){return e.fieldReset(e.$(t).parent())}))},onRegularFieldInput:function(e){this.handleUpdateField(e),this.model.set(e.currentTarget.name,e.currentTarget.value)},onRegularFieldFocusIn:function(e){this.fieldReset(this.$(e.currentTarget).parent())},serialize:function(){},prepareSubmit:function(){},onPreSubmitFail:function(){},handleModelRequest:function(){},handleModelResponse:function(){},handleModelError:function(){},onRegularFieldFocusOut:function(){}});Object.assign(o.prototype,r),e.exports=o},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){"use strict";var n=i(644),r=i(863),o=i(991),s=i(658),a=i(992),l=i(993),c={};function u(e){var t=this;function i(){r.add(e,"ps--focus")}function l(){r.remove(e,"ps--focus")}t.settings=n.clone(o),t.containerWidth=null,t.containerHeight=null,t.contentWidth=null,t.contentHeight=null,t.isRtl="rtl"===s.css(e,"direction"),t.isNegativeScroll=function(){var t,i=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=i,t}(),t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,t.event=new a,t.ownerDocument=e.ownerDocument||document,t.scrollbarXRail=s.appendTo(s.e("div","ps__scrollbar-x-rail"),e),t.scrollbarX=s.appendTo(s.e("div","ps__scrollbar-x"),t.scrollbarXRail),t.scrollbarX.setAttribute("tabindex",0),t.event.bind(t.scrollbarX,"focus",i),t.event.bind(t.scrollbarX,"blur",l),t.scrollbarXActive=null,t.scrollbarXWidth=null,t.scrollbarXLeft=null,t.scrollbarXBottom=n.toInt(s.css(t.scrollbarXRail,"bottom")),t.isScrollbarXUsingBottom=t.scrollbarXBottom==t.scrollbarXBottom,t.scrollbarXTop=t.isScrollbarXUsingBottom?null:n.toInt(s.css(t.scrollbarXRail,"top")),t.railBorderXWidth=n.toInt(s.css(t.scrollbarXRail,"borderLeftWidth"))+n.toInt(s.css(t.scrollbarXRail,"borderRightWidth")),s.css(t.scrollbarXRail,"display","block"),t.railXMarginWidth=n.toInt(s.css(t.scrollbarXRail,"marginLeft"))+n.toInt(s.css(t.scrollbarXRail,"marginRight")),s.css(t.scrollbarXRail,"display",""),t.railXWidth=null,t.railXRatio=null,t.scrollbarYRail=s.appendTo(s.e("div","ps__scrollbar-y-rail"),e),t.scrollbarY=s.appendTo(s.e("div","ps__scrollbar-y"),t.scrollbarYRail),t.scrollbarY.setAttribute("tabindex",0),t.event.bind(t.scrollbarY,"focus",i),t.event.bind(t.scrollbarY,"blur",l),t.scrollbarYActive=null,t.scrollbarYHeight=null,t.scrollbarYTop=null,t.scrollbarYRight=n.toInt(s.css(t.scrollbarYRail,"right")),t.isScrollbarYUsingRight=t.scrollbarYRight==t.scrollbarYRight,t.scrollbarYLeft=t.isScrollbarYUsingRight?null:n.toInt(s.css(t.scrollbarYRail,"left")),t.scrollbarYOuterWidth=t.isRtl?n.outerWidth(t.scrollbarY):null,t.railBorderYWidth=n.toInt(s.css(t.scrollbarYRail,"borderTopWidth"))+n.toInt(s.css(t.scrollbarYRail,"borderBottomWidth")),s.css(t.scrollbarYRail,"display","block"),t.railYMarginHeight=n.toInt(s.css(t.scrollbarYRail,"marginTop"))+n.toInt(s.css(t.scrollbarYRail,"marginBottom")),s.css(t.scrollbarYRail,"display",""),t.railYHeight=null,t.railYRatio=null}function d(e){return e.getAttribute("data-ps-id")}t.add=function(e){var t=l();return function(e,t){e.setAttribute("data-ps-id",t)}(e,t),c[t]=new u(e),c[t]},t.remove=function(e){delete c[d(e)],function(e){e.removeAttribute("data-ps-id")}(e)},t.get=function(e){return c[d(e)]}},,,,,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var i="global",n="pan",r="expiryMonth",o="cvv",s="expiryYear",a="address",l="zip",c={field:i,message:function(e){return e.translator.tr("Please try to repeat this transaction using a different card or get in touch with your bank to resolve the payment issue.")}},u={default:{field:i,message:function(e,t){return void 0===t&&(t={}),e.translator.tr("Error: %s (%s).",[t.code,t.message])+" "+e.translator.tr('Please contact our <a href="%s" class="%s">support service</a> or your card issuer.',[e.makeUrl("contact_us"),"link-blue"])}},"001":{errors:[c]},"003":{errors:[c]},"004":{errors:[c]},"006":{errors:[c]},"007":{errors:[c]},"014":{errors:[c]},"030":{errors:[c]},"036":{errors:[c]},"041":{errors:[c]},"043":{errors:[c]},"051":{errors:[{field:i,message:function(e){return e.translator.tr("The card has insufficient funds. Please use a different card or contact your card issuer.")}}]},"052":{errors:[{field:i,message:function(e){return e.translator.tr("No checking account. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"053":{errors:[{field:i,message:function(e){return e.translator.tr("No savings account. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"054":{errors:[{field:i,message:function(e){return e.translator.tr("The card is expired. Please use a different card or contact your card issuer.")}}]},"057":{errors:[{field:i,message:function(e){return e.translator.tr("It is possible that your online payment option is disabled. Please check with your card issuer to solve the problem.")}}]},"058":{errors:[c]},"061":{errors:[{field:i,message:function(e){return e.translator.tr("Exceeds withdrawal amount limit")}}]},"062":{errors:[{field:n,message:function(e){return e.translator.tr("Restricted card (card invalid in this region or country). Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"063":{errors:[{field:i,message:function(e){return e.translator.tr("Security violation")}}]},"065":{errors:[{field:i,message:function(e){return e.translator.tr("Activity count limit for card exceeded. Please contact your card issuer.")}}]},"075":{errors:[{field:i,message:function(e){return e.translator.tr("Allowable number of PIN tries exceeded. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"077":{errors:[c]},"078":{errors:[{field:i,message:function(e){return e.translator.tr("Invalid / nonexistent account specified. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"091":{errors:[c]},"093":{errors:[{field:i,message:function(e){return e.translator.tr("Transaction cannot be completed - violation of law. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},100:{errors:[{validationCode:"01",field:n,message:function(e){return e.translator.tr("Invalid Credit Card Number")}},{validationCode:"02",field:o,message:function(e){return e.translator.tr("Invalid Security Code")}},{validationCode:"03",field:r,message:function(e){return e.translator.tr("Please check the Expiration Date")}},{validationCode:"04",field:s,message:function(e){return e.translator.tr("Please check the Expiration Date")}}]},105:{errors:[{field:a,message:function(e){return e.translator.tr("Please check Street Address")}}]},106:{errors:[{field:l,message:function(e){return e.translator.tr("Invalid Zip/Postal Code")}}]},114:{errors:[{field:i,message:function(e){return e.translator.tr("Please check the cardholder's name")}}]},115:{errors:[{field:n,message:function(e){return e.translator.tr("Invalid Credit Card Number")}}]},117:{errors:[{field:n}]},118:{errors:[{field:i,message:function(e){return e.translator.tr("Currency Type Not Accepted")}}]},129:{errors:[{field:r}]},140:{errors:[{field:r}]},141:{errors:[{field:r}]},991:{errors:[{field:i,message:function(e){return e.translator.tr("The card is blocked. Please use a different card or contact your card issuer.")}}]},992:{errors:[{field:i,message:function(e){return e.translator.tr('Your IP blocked. Please contact our <a href="%s" class="%s">support service</a>\n\t\t\t\t\tto resolve this problem.',[e.makeUrl("contact_us"),"link-blue"])}}]},54002:{errors:[{field:i,message:function(e){return e.translator.tr("Looks like you signed up for a free trial before. You can purchase the plan to continue.")}}]},63002:{errors:[{field:n}]},"0N7":{errors:[{field:o,message:function(e){return e.translator.tr("Invalid Security Code")}}]},100111:{errors:[{field:i}]},101800:{errors:[{field:i,message:function(e,t){return void 0===t&&(t={}),e.translator.tr("Dear %s, we can process payments through %s with AMEX cards in USD only.\n\t\t\t\tPlease choose another card or pick USD as the currency of payment.",[t.fullName,t.paymentMethod])}}]},30117:{errors:[{field:i,message:function(e){return e.translator.tr("We cannot process payments in current currency. Please choose another payment method\n or pick USD as the currency of payment.")}}]}};e.exports.get=function(e){var i=u[e];return i?t({code:""+e},i):null}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(5),r=i(26),o=i(634),s=i(91),a=i(753),l=i(556),c=i(152),u=i(560),d=i(742),h=i(559),p=i(15).classNames;i(754),i(747),e.exports=l.extend(t({},u,d,{name:"MerchantCardManager",el:!1,template:a,savedCards:null,isUseSavedChecked:!0,isCompactMode:!0,expireFields:["expiryMonth","expiryYear","expiry"],events:{"focusin input":"handleFieldFocusIn","focusin select":"handleFieldFocusIn",'focusin [name="expiryMonth"]':"handleExpiryFocusIn",'focusin [name="expiryYear"]':"handleExpiryFocusIn","input ._cardNumber":"handleCardNumberInput","change ._cardNumber":"handleCardNumberChange","change ._expiryMonth":"handleSelectChange","change ._expiryYear":"handleSelectChange","input ._cvv":"handleRegularFieldChange","focusin ._field":"handleUpdateFieldFocus","focusout ._field":"handleUpdateFieldFocus","change ._field":"handleUpdateField","keyup ._field":"handleUpdateField","input ._field":"handleUpdateField","paste ._field":"handleUpdateField","input ._masked-exp":"handleMaskedExpirationInput","change ._selected-card":"handleSelectedCardChange","change ._use-saved-cards":"handleUseSavedStateChange",'change [name="saved"]':"handleUseSavedStateChange","click ._cards-holder":"handleCardsHolderClick"},globals:{click:"handleBodyClick"},initialize:function(e){var t=(void 0===e?{}:e).model;this.isSavedCardsAvailable=this.checkForSavedCards(),this.model=t||new c({},{app:this.app}),this.isSavedCardsAvailable&&this.setSavedCardModel(),this.setCardListeners()},serialize:function(){var e=this.model.serialize(),i=this.isUseSavedEnabled()&&!this.model.isMaestro();return{classes:this.getClassNames(),switcher:{saved:{isAvailable:this.isSavedCardsAvailable,tag:"span",name:"saved",checked:this.isUseSavedChecked,className:"switcher_small"}},card:t({},e,{number:this.isUseSavedEnabled()?e.labels.number:e.number,cvv:i?this.model.mask.cvv:e.labels.cvv}),saved:{list:this.isSavedCardsAvailable?this.savedCards.serialize():[]},state:{disabled:{number:this.isUseSavedEnabled(),expiry:this.isUseSavedEnabled(),cvv:i},empty:{number:!e.number||!e.number.length,expiry:!e.labels.expireShort.length,cvv:!i}},captcha:{siteKey:n.client.recaptcha.publicKey}}},validate:function(){if(this.isUseSavedEnabled()){if(!this.model.isMaestro())return!0;var e=this.model.validate(),t=!e||null==e.cvv;return t||this.markError("cvv",s.InvalidCvv),t}return this.isCaptchaValid()?this.model.isValid(!0):(this.fieldIncorrect(this.$("._captcha").parent(),{errorMessage:this.getCaptchaErrMessage()}),!1)},getActiveCard:function(){return this.model},getClassNames:function(){var e=this.model.getTypeFromNumber();return{holder:p({"merchant-manager_saved":this.isUseSavedEnabled()}),fields:p({"fields-group_compact":this.isCompactMode}),number:p({"merchant-manager__field_number-select":this.isMoreThanOneCardAvailable()}),cardIcon:e?"icon-card-type-"+e:"icon-card-type-default"}},getFieldErrorHolder:function(e){var t=this.$("._fields-group-error");if(["number","expiry","cvv"].includes(e)&&t.length)return t},setSavedCardModel:function(){var e=this.savedCards.get(this.model.get("id"))||this.savedCards.first();this.model.set(e.toJSON())},setCardListeners:function(){this.model&&this.listenTo(this.model,{invalid:this.onModelInvalid,error:this.onModelError,change:this.onModelChangeCallback})},resetErrors:function(){var e=this;this.fieldReset(this.$("._errorHolder")),this.resetCaptchaError(),this.$("input, select").each((function(t,i){return e.fieldReset(e.$(i).parent())}))},resetCaptchaError:function(){this.fieldReset(this.$("._captcha").parent())},checkForSavedCards:function(){return this.savedCards&&this.savedCards.length>0},isUseSavedEnabled:function(){return this.isSavedCardsAvailable&&this.isUseSavedChecked},isMoreThanOneCardAvailable:function(){return this.isUseSavedEnabled()&&this.savedCards.length>1},onModelInvalid:function(e,t){var i=this;void 0===t&&(t={}),Object.entries(t).forEach((function(e){var t=e[0],n=e[1];return i.markError(t,n)}))},onModelError:function(e,t){var i=this,n=h.parse(this.app,t.errors,{associate:!0});n=h.filterOwn(n,Object.keys(e.defaults),{global:!0}),this.resetCaptcha(),Object.entries(n).forEach((function(e){var r=e[0],o=e[1],s=t.errors[Object.keys(n).indexOf(r)].error_code;i.markError(r,o,s)}))},handleMaskedExpirationInput:function(e){var t=e.currentTarget.value,i=t.replace(/[/\s]/g,""),n=i.length>=2,r=n?i.replace(/^(\d{0,2})(\d{0,2})$/g,"$1/$2"):i,o=r.split("/"),s=o[0],a=o[1];this.model.set({expiryMonth:s,expiryYear:a}),this.$(e.currentTarget).val(r);var l=r.length===i.length?1:r.length-i.length+(n?1:0),c=t.lastIndexOf(i[i.length-1])+l;e.currentTarget.setSelectionRange(c,c)},handleBodyClick:function(e){var t=this.$("._cards-list"),i=this.$("._cards-holder");t.length&&i.length&&!t[0].contains(e.target)&&!i[0].contains(e.target)&&t.addClass("hidden")},handleUseSavedStateChange:function(e){this.isUseSavedChecked=e.currentTarget.checked,this.isUseSavedChecked?(this.model.set(this.savedCards.first().toJSON()),this.onCardSwitchCallback(this.savedCards.first())):(this.model.resetToDefaults(),this.onCardSwitchCallback()),this.render(),this.onUseSavedCardsCallback(this.isUseSavedChecked)},handleCardsHolderClick:function(){this.isMoreThanOneCardAvailable()&&this.$("._cards-list").toggleClass("hidden")},handleCardNumberChange:function(){this.onCardNumberChangeCallback.apply(this,arguments)},handleExpiryFocusIn:function(){this.fieldReset(this.$('[name="expiryMonth"]').parent()),this.fieldReset(this.$('[name="expiryYear"]').parent())},handleCardNumberInput:function(e){var t=this.model.cleanNumber(e.currentTarget.value);this.model.set({number:t}),r.$(e.currentTarget).val(this.model.formatNumber(t))},handleRegularFieldChange:function(e){this.model.set(e.currentTarget.name,e.currentTarget.value)},handleFieldFocusIn:function(e){this.fieldReset(this.$("._errorHolder")),this.fieldReset(this.$(e.currentTarget).parent(),{errorHolder:this.getFieldErrorHolder(e.currentTarget.getAttribute("name"))})},handleSelectChange:function(e){this.model.set(e.currentTarget.name,+e.currentTarget.value)},handleSelectedCardChange:function(e){var t=this.savedCards.get(e.currentTarget.value);this.model.set(t.toJSON()),this.render(),this.onCardSwitchCallback(t)},markError:function(e,t,i){this.shouldShowCaptcha(i)?this.showCaptcha():this.expireFields.includes(e)?this.markExpiryFieldsError(t):e!==o.get("default").field&&e?this.fieldIncorrect(this.$("[name="+e+"]").parent(),{errorMessage:t,errorHolder:this.getFieldErrorHolder(e)}):this.fieldIncorrect(this.$("._errorHolder"),{errorMessage:t})},markExpiryFieldsError:function(e){void 0===e&&(e=this.tr(s.InvalidExpirationDate)),this.fieldIncorrect(this.$('[name="expiryMonth"]').parent(),{errorMessage:e}),this.fieldIncorrect(this.$('[name="expiryYear"]').parent()),this.fieldIncorrect(this.$('[name="expiry"]').parent())},onCardSwitchCallback:function(){},onModelChangeCallback:function(){},onUseSavedCardsCallback:function(){},onCardNumberChangeCallback:function(){}}))}))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports={devKeys:{"br.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9ici5kZXBvc2l0cGhvdG9zLm5ldA.ZI0zrCZzyomuSwkXqbmeW6aWKO7nOoBJIz1iK4RRueo","br.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ici5pbnRlZ3JhdGlvbi5kZXY.MueDKsy6unZapI37o4Bv6otQ_5Qi5bU7dVm6hY-DvaU","br.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ici5tYXN0ZXIuZGV2.osAo6nSQl8jBL9Vp1VUMWM5y6spVH2b6vDC5niR9YRQ","cn.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9jbi5kZXBvc2l0cGhvdG9zLm5ldA.CrLrJHPf5bJAhO11lwjgZc_FdGvraJLAxVKg0pEysqk","cn.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9jbi5pbnRlZ3JhdGlvbi5kZXY.RBto3048phdH1DxCpxXsQQvkGj50fetC0r3aS-Telrc","cn.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9jbi5tYXN0ZXIuZGV2.zOyruFTzKPRSI0s805Xbf8QG8b741QOPc29myJjW8IU","cz.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9jei5kZXBvc2l0cGhvdG9zLm5ldA.Ed3UBDMlktIFEizG9jo_JdHOomALD7tS3G8qKOJI1i4","cz.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9jei5pbnRlZ3JhdGlvbi5kZXY.BO-6fjppghV8-1TiyA1l8f2gQufKuQe7y3KftUJ-O0Q","cz.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9jei5tYXN0ZXIuZGV2.nnfEXLtD-_vMjgp4bSLR1ChMgb8nPC-p9GydQQNh_M4","de.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9kZS5kZXBvc2l0cGhvdG9zLm5ldA.MJHYXrNeTc4-oZWEUYZmwF4xDuifJ7UA5iouFn8inOw","de.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9kZS5pbnRlZ3JhdGlvbi5kZXY.jZXH8sI4l6eotJuxAzU9xfJxASyeBgQc-xl71MDxH30","de.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9kZS5tYXN0ZXIuZGV2.JmC-NLl7pjRddsRor6canEWHoSDXTZ51hk0WFjlK_d0","depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9kZXBvc2l0cGhvdG9zLm5ldA.Udwr92zq3M7ySj0pD_IRFZ5Xm4czk99LpRFPysTOQXQ","fr.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9mci5kZXBvc2l0cGhvdG9zLm5ldA.Gc5_-O1uVv5o1W7gyOQhK_O6PVQL9aVC8poNrLO2SLk","fr.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9mci5pbnRlZ3JhdGlvbi5kZXY.WqERzakmPlfxZIgaiPgivEoYGgkmZCXHi8q2UY_OdnU","fr.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9mci5tYXN0ZXIuZGV2.mYvqOW43zSGlKmdzjfS5m_68Zn3L5MN0W_XUQRAvggE","gr.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9nci5kZXBvc2l0cGhvdG9zLm5ldA.HfkNK02W73XlFK5Tsrs7zvNifKhKNQZKJXJ-gjQijnw","gr.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9nci5pbnRlZ3JhdGlvbi5kZXY.cGKHqmzL5cr_qwkGpjPPl5OhzxbKX2SVrSyJZ4GT8Ho","gr.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9nci5tYXN0ZXIuZGV2.YUNHp1FeSTeD55nYvsCdXkSy-3raeFzWMqsTdv9GOq0","hu.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9odS5kZXBvc2l0cGhvdG9zLm5ldA.DdwnzgrnECU0fA0Uq52HJsaigOtCrkXD6DGbLxKiRBQ","hu.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9odS5pbnRlZ3JhdGlvbi5kZXY.G4RsyHLMubpTcHMSOVvT3GaBAoq2Qz4NNYIDlZYOAyg","hu.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9odS5tYXN0ZXIuZGV2.jCeWEIyvaWP-GZrQs5fJOqX4gALr53ZJPk8R6fCLs3s","id.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9pZC5kZXBvc2l0cGhvdG9zLm5ldA.JvBFlZM1pDbB97LmW8un8Fk7_EmsY-RBl9t3qCBIIQg","id.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pZC5pbnRlZ3JhdGlvbi5kZXY.AISO0DVlM8cWlq5Xs__lbQRjagE7dxTz1q5J_TVP0Cw","id.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pZC5tYXN0ZXIuZGV2.DZRHMvpa-xEiujyMyIV9tw5TfdKUFgJDGmqr1eNul6c","integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pbnRlZ3JhdGlvbi5kZXY.U4buumE03O1_IjFmOHtwhqAze9JNwr8E98ZgMeGBuJM","it.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9pdC5kZXBvc2l0cGhvdG9zLm5ldA.ensilu1ZTfdS8DgOva_Zo_ASzeIt1FziTkgq7L-cfko","it.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pdC5pbnRlZ3JhdGlvbi5kZXY.V6FusgtRvLjbW5wNy2TKmsHhRcLxxBMUPvF0fRW_CNM","it.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pdC5tYXN0ZXIuZGV2.XWVuAtCJTCJrD-RRM3R-FVOLjB8woLEA_YZiKAf0gtA","jp.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9qcC5kZXBvc2l0cGhvdG9zLm5ldA.Sbo8KIjioL3l4NKfeX_oMdg-ziLuROfyI2MhjnUy_QQ","jp.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9qcC5pbnRlZ3JhdGlvbi5kZXY.yUzc-LsHo0I2KbrJPOkKLGVsGq7qkC-sgKoBEt4A-Pg","jp.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9qcC5tYXN0ZXIuZGV2.otSRwjjA4PbusFl-mePpYHzAWFpthkORkcK1Fl-AwDM","ko.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9rby5kZXBvc2l0cGhvdG9zLm5ldA.ahhBL5jLjX3x2ScJsi_XfksY0zjcUQ97qD9CTHXuCgM","ko.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9rby5pbnRlZ3JhdGlvbi5kZXY.eQ8XyAfTM3sUfmcw_UJOjPMlD1DWQBnmnanbNlCP4Bw","ko.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9rby5tYXN0ZXIuZGV2.rQVlixQRxAoQhWlN2BNjdn-styBtcyXumSO5gRmQcjI","master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9tYXN0ZXIuZGV2.k1ZMKCGoKm559SRa55NAsDm-O7uOQs1OeFnTJQen7qU","mx.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9teC5kZXBvc2l0cGhvdG9zLm5ldA.FJYbYQRjiVYdu9uZyaOqWxbF1K8nIXvGHqQA_09Zyfo","mx.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9teC5pbnRlZ3JhdGlvbi5kZXY.LP4S5G_AZ_GIO-4ZQ7gEKgvgv9s8sDFehSOdoqukCEI","mx.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9teC5tYXN0ZXIuZGV2.DVsZui4UP3-CwHkBLfApnm5JRsfzCYESFWqBGlvJQ3E","nl.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9ubC5kZXBvc2l0cGhvdG9zLm5ldA.KFny5M8QNqHpgX6Wx1D1Du16vWugsPiCk0fi3caohWo","nl.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ubC5pbnRlZ3JhdGlvbi5kZXY.mFNSyUYElDBiBIurMG0QQIjp6LA64W8X-Cj2QSBEK9w","nl.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ubC5tYXN0ZXIuZGV2.NSKABKTT_RO3vMZtUseHaI_R86-05Q3MN-BYPm_i1-E","pl.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9wbC5kZXBvc2l0cGhvdG9zLm5ldA.LfFlY6iTh1TVyjyRh_qFw-iXQIOBjNmRe4aL6GlHsbg","pl.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9wbC5pbnRlZ3JhdGlvbi5kZXY.uy7AtJd6uzXtXxCZL4_acZz0n2FeD076urcumK--3Tg","pl.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9wbC5tYXN0ZXIuZGV2.BKgh0rCp5B8lTizXHkwU6qDSVmcfFKQVYIELG09KPto","pt.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9wdC5kZXBvc2l0cGhvdG9zLm5ldA.hH8BjpHUgLwA_EzdJez-nlz1tJq1TalR1LlYaq5RL7A","pt.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9wdC5pbnRlZ3JhdGlvbi5kZXY.5FYkZA028Eu1sHXjeWtpHkFOjbAFPxQ31Pi446q3i1k","pt.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9wdC5tYXN0ZXIuZGV2.bbCxvMwl7QddHl8yL4ayltOyFKXFV56xDKIzQbHSROo","ro.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9yby5kZXBvc2l0cGhvdG9zLm5ldA.TB5qp7WvvxURAQSEaz204girqOsOTwjUeLWXdKB-VX4","ro.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9yby5pbnRlZ3JhdGlvbi5kZXY.4lzpTZ5MqEnkW7Wixzi92DtByUKmUFgTkaLLDwC0YfE","ro.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9yby5tYXN0ZXIuZGV2.bWYRlPhKRc6foBwE8WNdECDjNS_9YY2HIhvyLORaYPM","ru.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9ydS5kZXBvc2l0cGhvdG9zLm5ldA.2WjLegEoDkGrYxcv_sDqCO0VqT2_X5oPDMZI7MtIcWg","ru.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ydS5pbnRlZ3JhdGlvbi5kZXY.0asR4tb1NxSdJHo9cKVen3yyrqTMAOyc-jXSw71kS6M","ru.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ydS5tYXN0ZXIuZGV2.RkD-1c3soNkX8iHbcyV03kCADEmihA91VMB3ivYtTHg","se.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9zZS5kZXBvc2l0cGhvdG9zLm5ldA.aqtM6tVWh_fW0GgZw2zPADBqSXlpHUeSrs3Z2zYy7Nc","se.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9zZS5pbnRlZ3JhdGlvbi5kZXY.0X3xybjdGjuinipEziZE1ml8Ok9Z5nWmbqpxT0Qhr1s","se.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9zZS5tYXN0ZXIuZGV2.W9rZjVV7WloBkmbNE_iouGZ7fTx89x7K9s8_sxyL9jg","sp.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9zcC5kZXBvc2l0cGhvdG9zLm5ldA.a9aj86AvTuv-rS-4yLkEnsEP4y5LYUSoSrS5BJOaRaw","sp.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9zcC5pbnRlZ3JhdGlvbi5kZXY.wI3Pmh0k5UjhcTv5zOk4nilnANbJFOCUfoKJqpKbq4A","sp.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9zcC5tYXN0ZXIuZGV2.1BLxzCFUs_5iXqHWedtjqyavW3Oqf0NylPKgMFhAMms","th.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly90aC5kZXBvc2l0cGhvdG9zLm5ldA.JqANwWW3Zxoxqvlh4_LJwndpcBj-rsCdqp_clbO5xGs","th.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly90aC5pbnRlZ3JhdGlvbi5kZXY.XDFbSUlm4SVOdzG6etJ6l_2Re9njmwVFnlvy2sjJuJM","th.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly90aC5tYXN0ZXIuZGV2.eINnhv9RuVPrl3pab_pDIxTWEAnC8Rx8LWudF4PQxPQ","tr.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly90ci5kZXBvc2l0cGhvdG9zLm5ldA.K0d7nprLIU-tH2Ttf4tQ9RtFlPqjW3tVYaZRkHJM8to","tr.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly90ci5pbnRlZ3JhdGlvbi5kZXY.Pt4o-LmpmmIi6O6NiQvwTjtsxjCGyoWu9LwFi3gX1Cs","tr.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly90ci5tYXN0ZXIuZGV2.8B3wRQbu8jpwBxXXKfCvU9j1JPvTHz7CxQgK4mhEGoY","ua.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly91YS5kZXBvc2l0cGhvdG9zLm5ldA.njGprqwOwwefxOMxEQLRbIFW9yu4R1OgqrDBdO6hBZY","ua.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly91YS5pbnRlZ3JhdGlvbi5kZXY.WevB_YlbRWfrAMy4mlalcqcsPkhgZOYBHu0XPHZyDVI","ua.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly91YS5tYXN0ZXIuZGV2.YYRZy2vXnmL5Bpz3FM601lqOnz_yoSD4c5iWCMsXKMg","da.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9kYS5kZXBvc2l0cGhvdG9zLm5ldA.zC9sh3lJwmD7WoWsNhcyxzVTBIkY9qRHHrmUbwlh__k","da.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9kYS5pbnRlZ3JhdGlvbi5kZXY.bAmrezt88yHzfmVLPuANedrOHIOT4uSa9G934kgzRn0","da.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9kYS5tYXN0ZXIuZGV2.lYwjp5FcWm_EWSTkQeuQ8bqq6CPf7lZPYmpGTY4NxkE","fi.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9maS5kZXBvc2l0cGhvdG9zLm5ldA.cppu1S0kvTmWVy1XjKRGkd1qPzHHeX8LE9Tbw6QUqHQ","fi.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9maS5pbnRlZ3JhdGlvbi5kZXY.SAP2iRB1bfgN40uhVLVJVSCKmYPnCK8WLJVARH_PHc4","fi.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9maS5tYXN0ZXIuZGV2.CfNemRokGO91RmN74hmDALbaqWQkmH_7ffKptwQ6p-o","no.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9uby5kZXBvc2l0cGhvdG9zLm5ldA.gwq2sL9iWygw-I2sjO1kxreA5TR-b-EeTXN0tZQI7SE","no.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9uby5pbnRlZ3JhdGlvbi5kZXY.hqOVBdXjcxGSe_twvjTHcOXz8xRj3jFd_nIZHLcMgYc","no.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9uby5tYXN0ZXIuZGV2.iT--xyoceT9OF21nJw8IpJwbjUZ53ITQj5Z53yLQNwM"},prodKeys:{"br.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9ici5kZXBvc2l0cGhvdG9zLmNvbQ.bpXKU4Iry7MJDX4MttBKfTFpJqardXP9k5kqE0fQqgU","cn.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9jbi5kZXBvc2l0cGhvdG9zLmNvbQ.WJYr-RSgrKSkbB44Ntxk5Z04KS5Ma8Rd5Spkrob-OkU","cz.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9jei5kZXBvc2l0cGhvdG9zLmNvbQ.DSQWaBp3Ro4VtMi0HUavW_W0u4mX2sQnZuKu4Ig6OQM","de.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9kZS5kZXBvc2l0cGhvdG9zLmNvbQ.coEOYkFCAqxTegePfBuRRGTHQjT6hFz1WpsdINctOks","depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9kZXBvc2l0cGhvdG9zLmNvbQ.yuFBPxF-euUDhjmeHNvf-n3-c0C0EIXxwEgZM0rSdzc","fr.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9mci5kZXBvc2l0cGhvdG9zLmNvbQ.gtDuepXcedrnFycgD1PdzMldkRRffkZuwyXFPUNL3Bg","gr.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9nci5kZXBvc2l0cGhvdG9zLmNvbQ.XGnaaIzWCwGJrg5HXKxUNM7EKr_F7L0RupNehdfqXh8","hu.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9odS5kZXBvc2l0cGhvdG9zLmNvbQ.vLM0d3jXGMaprBP0jqN-e_N92nwIc2jAJ23Y42TbOTI","id.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9pZC5kZXBvc2l0cGhvdG9zLmNvbQ.JJQsLUiamyyZWrvTP3t1R9xX33d36juoyAK8yRWW7yY","it.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9pdC5kZXBvc2l0cGhvdG9zLmNvbQ.rTOXSctmDyORfIi2hYRHf-aWrn8H11108-7F6Et9qlM","jp.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9qcC5kZXBvc2l0cGhvdG9zLmNvbQ.LZfaqnz8D9tSTSdnwjDa_6l3oW4LvkrAlgBbjsVRZO8","ko.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9rby5kZXBvc2l0cGhvdG9zLmNvbQ.2Y1-CjGP3SG0-r12hxxpm-Ji9X9xUMYk0pJjBkCfcPA","mx.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9teC5kZXBvc2l0cGhvdG9zLmNvbQ.nMXUJo7MlyV6y05VZcAxL0W_VzJQ1rUeoHVW-lQCJuY","nl.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9ubC5kZXBvc2l0cGhvdG9zLmNvbQ.OH5D0kZZrXC2rIA-94a8IFYnVYV8TAZcNujd6AGFfVw","pl.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9wbC5kZXBvc2l0cGhvdG9zLmNvbQ.K36SIH-K2y1aL6EvApqIPQONCkOTkg8_nlPkKGrxlLU","pt.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9wdC5kZXBvc2l0cGhvdG9zLmNvbQ.MfNwgz_rv3KBpL63jwMOFfpKfij02KEuvXcQrPxcmr8","ro.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9yby5kZXBvc2l0cGhvdG9zLmNvbQ.VtHwUrFi_xwycMczGt3rMeEPp0k5cSYah5gv6F62kGs","ru.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9ydS5kZXBvc2l0cGhvdG9zLmNvbQ.DmGwY0nC8cIRszt2o6BjTT4UoD5L5neTznd8gIfIi5I","se.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9zZS5kZXBvc2l0cGhvdG9zLmNvbQ.riOvvLm9i24mwlnbbRxerOi4xX0pVIaUpTHkV5HjaEU","sp.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9zcC5kZXBvc2l0cGhvdG9zLmNvbQ.Va4P1I-vfFzr6918TrHoSUI4Qt7-5tcQDsOSVmAzCIs","th.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly90aC5kZXBvc2l0cGhvdG9zLmNvbQ.JWgFyidX4GxO_-2iaopgcKlRxXoSrW0g-P-TX_qKVR4","tr.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly90ci5kZXBvc2l0cGhvdG9zLmNvbQ.vJQgIvyThFg2-kAI1EcH68Jy4itxWN855ixOPihI5Vo","ua.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly91YS5kZXBvc2l0cGhvdG9zLmNvbQ.l5Ser0TEjeAn6emcsgCrIQds_jqrO2gAAZcrmyINj5U","da.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9kYS5kZXBvc2l0cGhvdG9zLmNvbQ.WUIGAPBNVzTFcFaqQMXMZOxglg4tqN8ocHxe5oSdiKg","fi.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9maS5kZXBvc2l0cGhvdG9zLmNvbQ.2kQtSf4vXCGe09asudVC-aVXboT-pgY88ASQtJJ9qvE","no.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9uby5kZXBvc2l0cGhvdG9zLmNvbQ.KHwGzk7ArJtci20wT5tH_S1OdLaTt7tXU3w6gONZ6Ko"},supportedCardTypes:["amex","cup","diners","discover","jcb","maestro","mc","visa"]}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(772),n=i(556);e.exports=n.extend({name:"Card",el:!1,template:t,mode:"view",size:"medium",initialize:function(){this.listenTo(this.model,"change",this.render)},serialize:function(){var e=this.model.serialize();return e.labels.cvv=e.labels.cvv||this.model.mask.cvv,{model:e,classes:this.createCardClasses(),numberLength:this.model.cleanNumber(e.number).length}},createCardClasses:function(){var e="card-box_size-"+this.size[0].toLowerCase();"edit"===this.mode&&(e+=" card-box_edit");var t=this.model.getTypeFromNumber(),i=this.model.get("paymentTokenType");return t?e+=" card-box_type-"+t.replace(/_/g,"-"):i&&"raw"!==i&&(e+=" card-box_type-"+i.replace(/_/g,"-")),e}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(775);var t=i(0),n=i(776),r=i(626),o=i(635),s=i(640),a=i(559);e.exports=r.extend({name:"MerchantForm",template:n,classNames:"",savedCards:[],initialize:function(e){var t=this;this.formId=e.formId||this.cid,this.listenTo(this.model,{request:this.onModelRequest,sync:this.onModelSyncSuccess,invalid:this.onModelInvalid,error:this.onModelError}),this.setViews({"._merchant-card-manager":new o({app:this.app,model:this.model,savedCards:this.savedCards,onModelChangeCallback:function(){return t.onCardChangeCallback.apply(t,arguments)}})})},serialize:function(){return{formId:this.formId,classNames:this.classNames}},prepareSubmit:function(){var e=this.getView("._merchant-card-manager");e&&(this.model.set({captcha:e.getCaptchaValue()}),e.resetErrors())},validate:function(){return this.getView("._merchant-card-manager").validate()},submit:function(e){var t=this;void 0===e&&(e=!0);var i=function(){t.onStartFormSubmit(),t.model.save({},{success:t.onSaveSuccess.bind(t)})};e?this.confirmSubmit(i):i()},confirmSubmit:function(e){this.setNotExistView("ConfirmationModal",s,{onSubmitCallback:e}).show()},markError:function(){var e;(e=this.getView("._merchant-card-manager")).markError.apply(e,arguments)},onSaveSuccess:function(e,t){e.validationError||t.errors||this.onSuccessFormSubmit(e,t)},onModelRequest:function(){this.getView("._merchant-card-manager").resetCaptchaError()},onModelSyncSuccess:function(e,t){this.onFinishFormSubmit(),t.errors&&this.getView("._merchant-card-manager").resetCaptcha()},onModelInvalid:function(e,t){this.checkForExternalErrors(e,t)},onModelError:function(e,t){this.onFinishFormSubmit();var i=a.parse(this.app,t.errors,{associate:!0});this.checkForExternalErrors(e,i),this.app.observer.broadcast("Track:UE:Billing:BillingError",{errorInfo:JSON.stringify(i)})},checkForExternalErrors:function(e,i){var n=t.omit(i,Object.keys(e.defaults));t.isEmpty(n)||this.onModelExternalError(n)},onCardChangeCallback:function(){},onModelExternalError:function(){},onStartFormSubmit:function(){},onFinishFormSubmit:function(){},onSuccessFormSubmit:function(){}})}))},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(777);i(778);var r=i(626),o=i(750),s=i(640),a=i(559),l=i(751).collect;e.exports=r.extend({name:"AdyenCardForm",el:!1,template:n,classNames:"",formId:null,cards:null,model:null,isCompactMode:!1,initialize:function(){this.setView("._card-manager",new o({app:this.app,cards:this.cards,isCompactMode:this.isCompactMode})),this.setModelListeners()},serialize:function(){return{formId:this.getFormId(),classNames:this.classNames}},prepareSubmit:function(){this.resetErrors(),this.model.set(this.getView("._card-manager").getActiveCard())},validate:function(){return this.getView("._card-manager").validate()},submit:function(e){var i=this;void 0===e&&(e=!0);var n=function(){return i.model.save({},{validate:!1,getQueryParams:t({},i.model.getQueryParams(),{browserInfo:l()})})};e?this.confirmSubmit(n):n()},confirmSubmit:function(e){this.setNotExistView("ConfirmationModal",s,{onSubmitCallback:e}).show()},getFormId:function(){return this.formId||this.cid},markError:function(e,t){this.fieldIncorrect(this.$("._error-holder"),{errorMessage:t})},resetErrors:function(){this.fieldReset(this.$("._error-holder"))},handleModelResponse:function(e,t){this.onModelResponseCallback(),e.validationError||t.errors||this.onModelSuccessResponseCallback(e,t)},handleModelError:function(e,t){var i=this;void 0===t&&(t={}),this.onModelResponseCallback();var n=a.parse(this.app,t.errors,{associate:!0});this.app.observer.broadcast("Track:UE:Billing:BillingError",{errorInfo:JSON.stringify(n)}),Object.values(n).forEach((function(e){return i.markError(e)}))},onModelResponseCallback:function(){},onModelSuccessResponseCallback:function(){}})}))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(91),n=i(563);e.exports=n.extend({name:"CardConfirmation",initialize:function(){for(var e=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];n.prototype.initialize.apply(this,r),this.title=t.CardConfirmation,this.message=this.tr(t.CardConfirmationMessage),this.footer=[{label:t.CancelBtn,hide:!0,callback:function(){return e.onCancelCallback()}},{label:t.ConfirmBtn,hide:!0,color:"blue",defaultAction:!0,callback:function(){return e.onSubmitCallback()}}]}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="installment-rebill-info"><span>'+this.tr("You have purchased a one-year plan with monthly billing. This means, you opted for a plan which offers a discounted monthly price for a one year commitment.")+"</span><br><br><span>"+this.tr("You can turn off the Auto-Renewal during the last month of your annual commitment. This will prevent the plan from renewing for another one-year commitment.")+"</span><br><br><span>"+this.tr("If you’re looking to cancel your annual plan early, please contact us and we can explore your options.")+"</span></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(797),n=i(556);e.exports=n.extend({name:"EarnedMoney",el:!1,template:t,balance:0,serialize:function(){return{balance:this.balance.toFixed(2)}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="user-menu"><a class="user-menu__header" href="'+e.menuLinks.profile+'"><span class="user-menu__avatar avatar-box avatar-box_grey avatar-box-l">';return e.avatarExists&&(i+='<img class="avatar avatar-l" src="'+e.avatars.big+'">'),i+='<i class="avatar-box__letter" data-user-placeholder="'+t(e.login[0])+'"></i></span><span class="user-menu__title">'+t(e.login)+'</span></a><menu class="user-menu__content">',e.accountSwitcher&&(i+='<li class="user-menu__item user-menu__item_separated"><a class="user-menu__link _user-switch-account"><i class="user-menu__icon icon icon-user-menu-switch"></i>'+this.tr("Switch to Enterprise")+"</a></li>"),e.isSeller&&(i+='<li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.sellerPrice+'"><i class="user-menu__icon icon icon-user-menu-invoices"></i>'+this.tr("Contribute Program")+"</a></li>"),i+='<li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.subscribe+'"><i class="user-menu__icon icon icon-user-menu-plans"></i>'+this.tr("Plans & Prices")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.purchased+'"><i class="user-menu__icon icon icon-user-menu-downloads"></i>'+this.tr("Downloaded Files")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.invoices+'"><i class="user-menu__icon icon icon-user-menu-invoices"></i>'+this.tr("Invoices")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.favorites+'"><i class="user-menu__icon icon icon-user-menu-favorites"></i>'+this.tr("Favorites")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.profile+'"><i class="user-menu__icon icon icon-user-menu-profile"></i>'+this.tr("My Profile")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.referral+'"><i class="user-menu__icon icon icon-user-menu-referral"></i>'+this.tr("Referral Program")+'</a></li></menu><a class="user-menu__logout _user-logout" href="'+e.menuLinks.logout+'">'+this.tr("Log Out")+"</a></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){"use strict";var n=i(863),r=i(658),o=t.toInt=function(e){return parseInt(e,10)||0},s=t.clone=function(e){if(e){if(Array.isArray(e))return e.map(s);if("object"==typeof e){var t={};for(var i in e)t[i]=s(e[i]);return t}return e}return null};function a(e){return function(t,i){e(t,"ps--in-scrolling"),void 0!==i?e(t,"ps--"+i):(e(t,"ps--x"),e(t,"ps--y"))}}t.extend=function(e,t){var i=s(e);for(var n in t)i[n]=s(t[n]);return i},t.isEditable=function(e){return r.matches(e,"input,[contenteditable]")||r.matches(e,"select,[contenteditable]")||r.matches(e,"textarea,[contenteditable]")||r.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=n.list(e),i=0;i<t.length;i++){var r=t[i];0===r.indexOf("ps-")&&n.remove(e,r)}},t.outerWidth=function(e){return o(r.css(e,"width"))+o(r.css(e,"paddingLeft"))+o(r.css(e,"paddingRight"))+o(r.css(e,"borderLeftWidth"))+o(r.css(e,"borderRightWidth"))},t.startScrolling=a(n.add),t.stopScrolling=a(n.remove),t.env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof window&&null!==window.navigator.msMaxTouchPoints}},function(e,t,i){"use strict";var n=i(644),r=i(863),o=i(658),s=i(627),a=i(652);function l(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}e.exports=function(e){var t,i=s.get(e);i.containerWidth=e.clientWidth,i.containerHeight=e.clientHeight,i.contentWidth=e.scrollWidth,i.contentHeight=e.scrollHeight,e.contains(i.scrollbarXRail)||((t=o.queryChildren(e,".ps__scrollbar-x-rail")).length>0&&t.forEach((function(e){o.remove(e)})),o.appendTo(i.scrollbarXRail,e)),e.contains(i.scrollbarYRail)||((t=o.queryChildren(e,".ps__scrollbar-y-rail")).length>0&&t.forEach((function(e){o.remove(e)})),o.appendTo(i.scrollbarYRail,e)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=l(i,n.toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=n.toInt((i.negativeScrollAdjustment+e.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=l(i,n.toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=n.toInt(e.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),function(e,t){var i={width:t.railXWidth};t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-e.scrollTop:i.top=t.scrollbarXTop+e.scrollTop,o.css(t.scrollbarXRail,i);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,o.css(t.scrollbarYRail,n),o.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),o.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(e,i),i.scrollbarXActive?r.add(e,"ps--active-x"):(r.remove(e,"ps--active-x"),i.scrollbarXWidth=0,i.scrollbarXLeft=0,a(e,"left",0)),i.scrollbarYActive?r.add(e,"ps--active-y"):(r.remove(e,"ps--active-y"),i.scrollbarYHeight=0,i.scrollbarYTop=0,a(e,"top",0))}},,,,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t="MMM DD, YYYY",i="YYYY-MM-DD HH:mm:ssZZ",n="YYYY-MM-DD HH:mm:ss";e.exports={statisticsRequest:i,statisticsDays:t,licenseDays:t,enterpriseDownloads:t,downloadsRequest:i,datepickerCache:n,logsDate:"MMM DD, YYYY HH:mm:ss",logsRequest:i,logsRequestFilter:n}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){"use strict";var n=i(627),r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,i){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===i)throw"You must provide a value to the update-scroll function";"top"===t&&i<=0&&(e.scrollTop=i=0,e.dispatchEvent(r("ps-y-reach-start"))),"left"===t&&i<=0&&(e.scrollLeft=i=0,e.dispatchEvent(r("ps-x-reach-start")));var o=n.get(e);"top"===t&&i>=o.contentHeight-o.containerHeight&&((i=o.contentHeight-o.containerHeight)-e.scrollTop<=1?i=e.scrollTop:e.scrollTop=i,e.dispatchEvent(r("ps-y-reach-end"))),"left"===t&&i>=o.contentWidth-o.containerWidth&&((i=o.contentWidth-o.containerWidth)-e.scrollLeft<=1?i=e.scrollLeft:e.scrollLeft=i,e.dispatchEvent(r("ps-x-reach-end"))),void 0===o.lastTop&&(o.lastTop=e.scrollTop),void 0===o.lastLeft&&(o.lastLeft=e.scrollLeft),"top"===t&&i<o.lastTop&&e.dispatchEvent(r("ps-scroll-up")),"top"===t&&i>o.lastTop&&e.dispatchEvent(r("ps-scroll-down")),"left"===t&&i<o.lastLeft&&e.dispatchEvent(r("ps-scroll-left")),"left"===t&&i>o.lastLeft&&e.dispatchEvent(r("ps-scroll-right")),"top"===t&&i!==o.lastTop&&(e.scrollTop=o.lastTop=i,e.dispatchEvent(r("ps-scroll-y"))),"left"===t&&i!==o.lastLeft&&(e.scrollLeft=o.lastLeft=i,e.dispatchEvent(r("ps-scroll-x")))}},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(833);var t=i(834),n=i(835),r=i(0),o=i(26),s=i(556),a=i(642),l={credits:{},subscription:{},ondemand:{},membership:{},imagepack:{}};l.credits.View=i(752),l.credits.template=i(786),l.subscription.View=i(746),l.subscription.template=i(792),l.ondemand.View=i(748),l.ondemand.template=i(793),l.imagepack.View=i(765),l.imagepack.template=i(794),l.membership.View=i(741),l.membership.template=i(795),e.exports=s.extend({name:"UserProductsList",el:!1,template:t,showBalance:!1,linksEnabled:!1,handleProductClick:!0,canShowRebillDiscount:!1,plans:void 0,events:{"click ._product":"onUserProductClick"},initialize:function(){this.listenTo(this.app.user,"sync",this.render)},prepareRender:function(){this.showBalance&&this.insertView("._list",new a({app:this.app,template:n,balance:this.app.user.get("balance")})),r.each(this.plans.serializeUserPlans(),(function(e){this.insertView("._list",this.getProductView(e))}),this)},serialize:function(){return{products:this.plans.serializeUserPlans()}},getProductView:function(e){var t=this.linksEnabled?this.app.makeUrl("subscribe",{backURL:!0}):"",i=l[e.type],n=this.app.user.products.findWhere({type:e.type,id:e.id});return i&&n?new i.View({app:this.app,template:i.template,product:n.serialize(),model:n,canShowRebillDiscount:this.canShowRebillDiscount,showRefillModalOnClick:this.handleProductClick,serializeParams:{href:t,shouldShowAsSelected:this.shouldShowAsSelected(n)}}):null},onUserProductClick:function(e){this.linksEnabled||(e.stopPropagation(),e.preventDefault()),e.stopImmediatePropagation(),this.chooseProductCallback(this.plans.serializeUserPlans()[o.$(e.currentTarget).index()])},shouldShowAsSelected:function(){return!1},chooseProductCallback:r.noop})}))},function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var e=i(5),r=i(35),o=[];t.reset=function(e){if(n.browser&&window.grecaptcha){var t=function(e){if(e&&e.length){var t=e.attr("id").split("g-recaptcha-response-");return t[1]?t[1]:void 0}}(e);try{grecaptcha.reset(t)}catch(e){}}},t.injectScript=function(){return new Promise((function(t,i){n.browser?window.grecaptcha?t():0===o.length?(o.push(t),window.onloadRecaptchaCallback=function(){o.forEach((function(e){return e()})),o=[]},r({id:"recaptcha",async:!0,src:e.client.recaptcha.apiUrl+"?onload=onloadRecaptchaCallback&render=explicit"})):o.push(t):i()}))},t.render=function(e){return new Promise((function(t,i){if(e)try{grecaptcha.render(e),t()}catch(e){i(e)}else i()}))}}))}).call(this,i(23))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var r=i(0),o=i(26).$,s=i(883),a=i(624),l=i(744),c=i(556),u=i(566),d=i(560);i(745);var h=s.sort((function(e,t){return e.country_name>t.country_name?1:-1})),p=c.extend({name:"PhoneNumber",el:!1,template:l,templateSelection:r.template('<i class="callingcodeselector-cc callingcodeselector-cc-selection"><%= label %></i><i class="callingcodeselector-flag callingcodeselector-flag-selection flag <%= flag %>"></i>'),templateResult:r.template('<div class="callingcodeselector-row"><span class="callingcodeselector-col callingcodeselector-col-left"><i class="callingcodeselector-cn callingcodeselector-cn-item"><%= name %></i></span><span class="callingcodeselector-col callingcodeselector-col-middle"><i class="callingcodeselector-cc callingcodeselector-cc-item">+<%= phone %></i></span><span class="callingcodeselector-col callingcodeselector-col-right"><i class="callingcodeselector-flag callingcodeselector-flag-selection flag <%= flag %>"></i></span></div>'),required:!1,phone:"",placeholder:"Phone",phoneFieldName:"phone",anDisallowedCharsRegex:/[^\d -]/gim,preDefineCode:!0,events:{click:"onClick","click .phonenumber-cc":"onCallingCodeClick","blur .phonenumber-an":"onBlur","focus .phonenumber-an":"onFocus","paste .phonenumber-an":"onPasteCleanAN","keydown .phonenumber-an":"onKeyDownPreventNonAllowedKeys","keyup .phonenumber-an":"onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN","change .phonenumber-an":"onChange"},globals:{click:"handleDocumentClick"},initialize:function(){this.on("change",this.setCompiledNumber.bind(this))},getCountriesData:function(e){var t=[],i={};return h.forEach((function(n){var r={code:n.country_code,title:n.country_name,phoneCode:n.phoneCode,flag:"flag-"+n.country_code.toLowerCase(),selected:n.phoneCode===e};r.selected&&(i=r),t.push(r)})),{list:t,selected:i}},serialize:function(){var e;if(this.phone)e=u.parseNumber(this.phone,this.app);else if(this.preDefineCode){var t=u.getContact(this.app)||{};e={code:(u.parseNumber(t.number,this.app)||{}).code}}var i=this.getCountriesData(e&&e.code);return{countries:i.list,phone:e&&e.number||"",required:this.options.required,placeholder:this.options.required?this.placeholder+" *":this.placeholder,phoneFieldName:this.phoneFieldName,selectedCountry:i.selected}},getPhoneNumber:function(){return this.$(".phonenumber-an").val()},getPhoneCode:function(){return this.$(".phonenumber-cc-value").val()},setCompiledNumber:function(){var e=!this.required||this.isValid()?this.getCompiledPhoneNumber():"";this.$("[name="+this.phoneFieldName+"]").val(e)},getCompiledPhoneNumber:function(){return this.getPhoneCode()&&this.getPhoneNumber()?"+"+this.getPhoneCode()+this.getPhoneNumber():""},clientAfterRender:function(){var e=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function n(){var r,o;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(26).then(i.t.bind(null,884,7));case 2:r=t.sent,o=r.default,e.initSelect2({helper:o});case 5:case"end":return t.stop()}}),n)})))()},initSelect2:function(e){var t=this,i=e.helper,n=this.$(".phonenumber-cc");n.height((function(){var e=o(this);e.height(e.parent().height()-2)}));var r=i.getConfig(),s=r.dropdownAdapter,a=r.resultsAdapter;n.addClass("phonenumber-select2").select2({theme:"phonenumber",width:"100%",placeholder:"&mdash;",dropdownAutoWidth:!0,preventWindowScroll:!0,allowClear:!1,minimumResultsForSearch:1/0,templateSelection:this.select2SelectionTemplate.bind(this),templateResult:this.select2ResultTemplate.bind(this),dropdownAdapter:s,resultsAdapter:a,escapeMarkup:function(e){return e},matcher:function(e,t){if(!e.term||!e.term.trim())return t;var i=t.text.trim().toLowerCase(),n=e.term.trim().toLowerCase();return i.substr(0,1)===n.substr(0,1)?t:null}}),this.$("._select-placeholder").remove();var l=this;n.on("select2:open",(function(){l.opened=!0,l.onFocus(),o(this).data("select2").$dropdown.width(n.closest(".phonenumber").outerWidth()),n.find(".select2").height((function(){var e=o(this);e.height(e.closest(".phonenumber-cell").height())}))})),n.on("select2:close",(function(){t.opened=!1,t.onBlur()})),n.on("select2:select",(function(){o(this).blur(),l.focusAbonentNumberInput()})),n.on("change",this.updateCCFromCC.bind(this)),this.updateCCFromCC()},select2SelectionTemplate:function(e){if(!e.id)return e.text;var t=e.element.getAttribute("data-cc"),i=t?"+"+t:"&#8212;&nbsp;&nbsp;&nbsp;";return this.templateSelection({label:i,flag:e.element.getAttribute("data-flag")})},select2ResultTemplate:function(e){return e.id&&e.element?this.templateResult({name:e.text,phone:e.element.getAttribute("data-cc"),flag:e.element.getAttribute("data-flag")}):e.text},onPasteCleanAN:function(){var e=this,t=this.$(".phonenumber-an"),i=t.attr("maxlength");t.removeAttr("maxlength"),clearTimeout(this.pasteTimer),this.pasteTimer=setTimeout((function(){e.cleanAN(),t=e.$(".phonenumber-an");var n=e.getAN();t.attr("maxlength",i),n=n.replace(/[^\d-]/gi,""),e.setAN(n.length>i?n.substring(0,i):n)}),30)},onKeyDownPreventNonAllowedKeys:function(e){[a.deleteKey,a.backspace,a.tab,a.esc,a.enter,a.space].includes(e.which)||!e.shiftKey&&[a.dash,a.subtract,173].includes(e.which)||!0===e.ctrlKey||!0===e.metaKey||e.which>=a.end&&e.which<=a.down||e.altKey&&e.shiftKey||(e.shiftKey||e.which<a.digit0||e.which>a.digit9)&&(e.which<a.numDigit0||e.which>a.numDigit9)&&e.preventDefault()},onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN:function(e){var t=this;clearTimeout(this.keyupTimer),this.keyupTimer=setTimeout((function(){e.which===a.alt&&t.cleanAN()}),30)},onChange:function(){this.required&&this.validateAndHighlight(),this.trigger("change",this)},cleanAN:function(){var e=this.getAN(),t=this.cleanANValue(e);e!==t&&this.setAN(t)},cleanANValue:function(e){return(e||0===e?e:"").toString().replace(this.options.anDisallowedCharsRegex,"")},updateCCFromCC:function(){var e=this.getCCSelected();this.setCCValue(e),this.trigger("change",this)},getCCSelected:function(){return this.$(".phonenumber-cc :selected").attr("data-cc")},getAN:function(){return this.$(".phonenumber-an").val()},setAN:function(e){this.$(".phonenumber-an").val(e)},getCCValue:function(){return this.$(".phonenumber-cc-value").val()},setCCValue:function(e){this.$(".phonenumber-cc-value").val(e)},handleDocumentClick:function(){this.opened&&(this.$(".phonenumber-cc").select2("close"),this.onBlur())},onCallingCodeClick:function(){return this.onFocus(),!1},onClick:function(){return this.resetHighlight(),!1},focusAbonentNumberInput:function(){this.$(".phonenumber-an").focus()},resetHighlight:function(){this.fieldReset(this.$el)},highlightInvalid:function(){this.fieldIncorrect(this.$el)},highlightValid:function(){this.fieldCorrect(this.$el)},validateAndHighlight:function(){var e=this.isValid();return e?this.highlightValid():this.highlightInvalid(),e},params:function(){var e=this.getCCValue();return{callingCode:"NONE"===e?"":e,abonentNumber:this.getAN()}},value:function(){var e=this.params();return""+e.callingCode+e.abonentNumber},isValid:function(){var e=this.params();return this.options.required?e.callingCode&&e.abonentNumber:!e.abonentNumber||!!e.callingCode},onFocus:function(){this.$el.addClass("phonenumber-focused")},onBlur:function(){this.$el.removeClass("phonenumber-focused")}});Object.assign(p.prototype,d),e.exports=p},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(558);e.exports=t.extend({name:"UserPlansTooltip",params:{type:"html",rootClose:!0,displayEffect:"increase",displayPosition:"fixed",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:2,left:0},pointerShow:!1},classes:{"tooltip_extra-shadow":!0,"tooltip_not-border":!0,tooltip_rounding:!0},prepareContent:function(){this.content=this.getContentView()},getContentView:function(){}})})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(643),n=i(558),r=i(842);e.exports=n.extend({name:"UserMenuTooltip",menuTemplate:t,params:{type:"html",rootClose:!0,displayEffect:"increase",displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templatePriority:["br","bl","bm","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:-9,left:4},pointerShow:!0,pointerPosition:"tr"},prepareContent:function(){this.content=new r({app:this.app,template:this.menuTemplate,menuLinks:this.getMenuLinks()})},getMenuLinks:function(){return{sellerPrice:this.app.makeUrl("seller-price",{backURL:!0}),subscribe:this.app.makeUrl("subscribe",{backURL:!0}),purchased:this.app.makeUrl("purchased",{backURL:!0}),invoices:this.app.makeUrl("invoices",{backURL:!0}),favorites:this.app.makeUrl("favorites",{backURL:!0}),profile:this.app.makeUrl("profile",{backURL:!0}),referral:this.app.makeUrl("referral",{backURL:!0}),enterpriseDownloads:this.app.makeUrl("enterprise/downloads",{backURL:!0}),logout:this.app.makeUrl("login/logout")}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){"use strict";var n={};n.e=function(e,t){var i=document.createElement(e);return i.className=t,i},n.appendTo=function(e,t){return t.appendChild(e),e},n.css=function(e,t,i){return"object"==typeof t?function(e,t){for(var i in t){var n=t[i];"number"==typeof n&&(n=n.toString()+"px"),e.style[i]=n}return e}(e,t):void 0===i?function(e,t){return window.getComputedStyle(e)[t]}(e,t):function(e,t,i){return"number"==typeof i&&(i=i.toString()+"px"),e.style[t]=i,e}(e,t,i)},n.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},n.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},n.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return n.matches(e,t)}))},e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(743);e.exports={init3ds:function(e){var i=this,n=e.app,r=e.html;t.subscribe({client:this.webSocketClient,path:"api/payments/connectUser",payload:{userId:n.user.get("id")},onInit:function(){return i.on3dsInit(r)},onInitSuccess:function(e){i.webSocketClient=e,i.on3dsInitSuccess(r,i.webSocketClient)},onInitError:function(){return i.on3dsInitError(r)},onConnect:function(){return i.on3dsConnect(r)},onSuccess:function(){return i.on3dsSuccess.apply(i,arguments)},onError:function(e){return i.on3dsError(e)}})},open3dsBlankWindow:function(e){void 0===e&&(e="");var t=window.open("","3dsWindow");null!=t?(t.document.write(e),t.window.onload()):this.open3dsSameWindow(e)},open3dsSameWindow:function(e){window.document.write(e),window.onload()},on3dsInit:function(){},on3dsInitSuccess:function(){},on3dsInitError:function(){},on3dsConnect:function(){},on3dsSuccess:function(){},on3dsError:function(){}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(4),r=i(33),o=i(562);e.exports=o.extend({name:"Membership",showRefillModalOnClick:!0,originalEvents:Object.assign({},o.prototype.originalEvents,{click:"onClick","click ._buy-more":"onBuyMoreClick"}),onClick:function(e){this.$el.hasClass("_buy-more")&&this.showRefillModalOnClick&&(e.preventDefault(),this.showRefillMembershipModal())},onBuyMoreClick:function(e){e.preventDefault(),this.showRefillModalOnClick&&this.showRefillMembershipModal()},showRefillMembershipModal:function(){this.app.store.get("ModalsManager").show("RefillMembershipModal",{app:this.app,type:"buyMore"}).catch((function(){}))},getCuratedLabel:function(e){return void 0===e&&(e=this.product),e.basic||e.curated?this.tr("Downloads from the Free Collection: <b>Unlimited</b>"):""},getRenewLabel:function(e){if(void 0===e&&(e=this.product),!e.count)return"";var i=n.duration(n.unix(e.renewal).valueOf()),o=i.days()>0?"moreThanDay":"lessThanDay",s="lessThanDay"===o?[i.hours(),i.minutes()]:Math.round(i.asDays()),a=t.findWhere(r.productRenewLabels,{type:e.type,renewal:o});return a&&a.label?this.tr(a.label.trim(),s):""},getLeftLabel:function(e){return void 0===e&&(e=this.product),e.count||e.left?e.curated?this.tr("Downloads from the Main Collection: <b>%s</b>",e.left):o.prototype.getLeftLabel.call(this,e):""},getProductContent:function(e){var t;void 0===e&&(e=this.product);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var s=(t=o.prototype.getProductContent).call.apply(t,[this,e].concat(n));return s.action=this.tr("Buy Downloads"),e.curated&&s.info.push({key:"curated",value:this.getCuratedLabel(e)}),s.info.push({key:"renew",value:this.getRenewLabel(e)}),s}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(154).captchaErrors,n=i(654),r=".g-recaptcha-response";e.exports={getCaptchaErrMessage:function(){return"Please check the ReCaptcha check box."},shouldShowCaptcha:function(e){return Object.values(t).includes(e)},showCaptcha:function(){var e=this;this.isCaptchaAvailable()||n.injectScript().then((function(){return n.render(e.$("._captcha")[0])}))},resetCaptcha:function(){n.reset(this.$(r))},getCaptchaValue:function(){return this.$(r).val()||""},isCaptchaAvailable:function(){return this.$(r).length>0},isCaptchaValid:function(){return!this.isCaptchaAvailable()||""!==this.getCaptchaValue()}}}))},function(e,t,i){(function(e){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var n=i(5),r=i(26),o=(0,i(12).getLogger)(e),s=function(){return new Promise((function(e,t){return r.ajax({url:n.client.websocket.clientUrl,dataType:"script",success:function(){var i=new(window.ActionheroClient?window.ActionheroClient:window.ActionheroWebsocketClient)({strategy:"online, timeout, disconnect"});i.on("error",(function(e){o.error("WebSocket Error",e.stack)})),i.connect((function(n){return n?t(n):e(i)}))},error:function(e){return t(e)},async:!0})}))},a=function(e){var t=e.message,i=e.onSuccess,n=e.onError;t.success?i({message:t}):null!=t.error&&n({code:t.error.code,message:t.error.desc})};t.subscribe=function(e){void 0===e&&(e={});var t=e,i=t.client,n=t.path,r=void 0===n?"":n,o=t.payload,l=void 0===o?{}:o,c=t.onInitSuccess,u=void 0===c?function(){}:c,d=t.onInitError,h=void 0===d?function(){}:d,p=t.onInit,f=void 0===p?function(){}:p,g=t.onConnect,v=void 0===g?function(){}:g,m=t.onDisconnect,b=void 0===m?function(){}:m,y=t.onSuccess,_=void 0===y?function(){}:y,w=t.onError,x=void 0===w?function(){}:w,T=t.processMessage,k=void 0===T?a:T,S=function(e){e.on("message",(function(e){return k({message:e.message||e,onSuccess:_,onError:x})})),e.on("disconnected",b),e.action(r,l,v)};i?S(i):s().then((function(e){u(e),S(e)})).catch(h).finally(f)}}))}).call(this,i(8)(e))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="phonenumber"><div class="phonenumber-container"><div class="phonenumber-cell phonenumber-cell-left"><select class="phonenumber-cc hidden" tabindex="-1" style="visibility: hidden;"><option></option>',n=e.countries;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<option value="'+t((r=n[o+=1]).code)+'"data-cc="'+t(r.phoneCode)+'"data-flag="'+t(r.flag)+'" ',r.selected&&(i+=' selected="selected"'),i+=">"+t(r.title)+"</option>";return i+='</select><span class="select2 select2-container select2-container--phonenumber select2-container--below select2-container--open _select-placeholder"><span class="selection"><span class="select2-selection select2-selection--single"><span class="select2-selection__rendered"><i class="callingcodeselector-cc callingcodeselector-cc-selection">+'+t(e.selectedCountry.phoneCode)+'</i><i class="callingcodeselector-flag callingcodeselector-flag-selection flag '+t(e.selectedCountry.flag)+'"></i></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span></span><input class="phonenumber-cc-value" type="hidden"></div><div class="phonenumber-cell phonenumber-cell-right"><input class="phonenumber-an" type="tel" data-name="phone" maxlength="15" placeholder="'+this.tr("Phone"),e.required&&(i+=" *"),i+='" value="'+t(e.phone)+'"></div></div><input type="hidden" name="'+t(e.phoneFieldName)+'"></div>'}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(33),r=i(561),o=i(91),s=i(4),a=i(562),l=i(556),c=i(787),u=i(790),d=i(558);e.exports=a.extend({name:"Subscription",periods:[30,90,180,360],prepareRender:function(){a.prototype.prepareRender.call(this),this.removeView("helpTooltip"),this.removeView("infoTooltip"),this.needToShowHelpTooltip()&&this.setView("helpTooltip",new d({params:r.Product,content:this.getHelpTooltipContent()})),this.setView("infoTooltip",new d({params:r.ProductInfo,content:this.getInfoTooltipContent()}))},serialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=a.prototype.serialize.apply(this,t);return this.product.installment.enabled&&(n.labels.installmentProgress=this.getInstallmentProgressLabel()),n},getProductContent:function(e){var t;void 0===e&&(e=this.product);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var o=(t=a.prototype.getProductContent).call.apply(t,[this,e].concat(n));return e.curated&&o.info.push({key:"curated",value:this.getCuratedLabel(e)}),o.info.push({key:"renew",value:this.getRenewLabel(e)}),o},getCuratedLabel:function(e){if(void 0===e&&(e=this.product),!e.curated)return"";var t=this.app.store.get("Stats"),i=t&&t.serialize().thousandsCuratedItems;return i?this.tr("Unlimited downloads from premium collection of %sk images",i):this.tr("Downloads from the Free Collection: <b>Unlimited</b>")},getInstallmentProgressLabel:function(){return this.tr("Payment: <b>%s of %s</b>",[this.product.installment.currentPeriod,this.product.installment.periodsCount])},needToShowHelpTooltip:function(){return!this.app.user.get("isSubaccount")||this.app.user.get("isSubaccount")&&this.product.owner},getSplitCountLabel:function(e){void 0===e&&(e=this.product);var t=e.split_count>0&&e.split_count<=10?"custom":"unlimit",i=n.productSplitCountLabels.find((function(i){return i.type===e.type&&i.value===t})).label;return this.tr(i,e.split_count)},getLeftLabel:function(e){if(void 0===e&&(e=this.product),e.curated)return"";if(e.unlimited)return this.tr("Downloads: <b>Unlimited</b>");var t=1===e.buy_period?"daily":"default",i=0===e.rebill_started?[e.left,e.count]:[0,0],n=e.rollover?{default:this.tr("Downloads left this month: <b>%s</b>",i),daily:this.tr("Downloads left today: <b>%s</b>",i)}:{default:this.tr("Downloads left this month: <b>%s of %s</b>",i),daily:this.tr("Downloads left today: <b>%s of %s</b>",i)};return n[t]||n.default},getHelpTooltipContent:function(e){return void 0===e&&(e=this.product),0===e.rebill_started?new c({app:this.app,product:this.product}):new u({app:this.app,product:this.product})},getInfoTooltipContent:function(e){return void 0===e&&(e=this.product),0===e.rebill_started?new l({el:!1,app:this.app,template:function(){return this.tr(o.DaysLeft)}}):new u({app:this.app,product:this.product})},getRenewLabel:function(e){void 0===e&&(e=this.product);var i,r=s.duration(s.unix(e.renewal).valueOf()),o="default",a=r.days()>0?"moreThanDay":"lessThanDay";1===e.buy_period&&(o="daily",a="lessThanDay"),i=1===e.rebill_started?"lessThanDay"===a?[0,0]:0:"lessThanDay"===a?[r.hours(),r.minutes()]:Math.round(r.asDays());var l=t.findWhere(n.productRenewLabels,{type:e.type,period:o,renewal:a,unlimited:e.unlimited});return l&&l.label?this.tr(l.label.trim(),i):""},getDaysLeft:function(e){if(void 0===e&&(e=this.product),"active"!==e.status)return 0;if(1===e.rebill_started)return 1;var t=e.installment.enabled?e.installment.expires:e.expires;return Math.round(s.unix(t).diff(s(),"d",!0))||1},showHelpTooltip:function(e){e.preventDefault(),this.getView("helpTooltip").show(e)},hideHelpTooltip:function(e){e.preventDefault(),this.getView("helpTooltip").hide(e)},showInfoTooltip:function(e){e.preventDefault(),this.getView("infoTooltip").show(e)},hideInfoTooltip:function(e){e.preventDefault(),this.getView("infoTooltip").hide(e)}})}))},function(e,t,i){},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(33),n=i(562);e.exports=n.extend({name:"OnDemand",getSplitCountLabel:function(e){void 0===e&&(e=this.product);var i=e.split_count>0&&e.split_count<=10?"custom":"unlimit",n=t.productSplitCountLabels.find((function(t){return t.type===e.type&&t.value===i})).label;return this.tr(n,e.split_count)},getRebillTitle:function(){return this.model.get("rebill").get("count")>0?this.tr("Auto-renewal <br />on %s downloads",this.model.get("rebill").get("count")):""},getExpiresLabel:function(e){void 0===e&&(e=this.product);var i=e.expires<86400?"today":"default",n=Math.floor(e.expires/86400),r=t.productExpiresLabels.find((function(t){return t.type===e.type&&t.period===i})).label;return this.tr(r,n)}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(19);e.exports={defaultType:"image",config:{wideSize:200,tinyWideSize:150,mobileWideSize:110,normalSize:110,image:{normal:110,normalSquare:111,big:170,bigWide:"170w",wideSmall:380,wide:450,huge:450,modal:550,xwide:600,broad:660,large:950,max:950},vector:{normal:110,normalSquare:111,big:170,bigWide:"170w",wideSmall:380,wide:450,huge:450,modal:550,xwide:600,broad:660,large:950,max:950},video:{normal:110,normalSquare:111,big:450,bigWide:450,broad:450,wideSmall:380,wide:450,huge:450,large:450,xwide:600}},configHuge:{video:{normal:110,normalSquare:111,big:380,bigWide:380,wideSmall:380,wide:600,xwide:600,huge:600,large:600},image:{normal:110,normalSquare:111,big:170,bigWide:"170w",wideSmall:380,wide:450,huge:450,modal:550,xwide:600,broad:660,large:950,max:1600},vector:{normal:110,normalSquare:111,big:170,bigWide:"170w",wideSmall:380,wide:450,huge:450,modal:550,xwide:600,broad:660,large:950,max:1600}},videoClipConfig:{regular:{},huge:{wide:"huge"}},getSizesConfig:function(e,t,i){return e.hasHugeVideoThumb||e.hasHugeImageThumb||e.hasHugeVectorThumb?(this.configHuge[t]||{})[i]:(this.config[t]||{})[i]},getVideoClipConfig:function(e){return e.hasHugeVideoThumb?this.videoClipConfig.huge:this.videoClipConfig.regular},getThumbUrl:function(e){if("crelloTemplate"===e.file.type&&e.file.crelloTemplateThumb)return e.file.crelloTemplateThumb;e.ext=e.ext||"jpg";var i=e.file.id.toString(),n=i.substring(0,i.length-4),r=e.file.type||this.defaultType,o=(e.genFilename?e.genFilename(e.file):e.file.filename)||"thumb",s=this.getSizesConfig(e.file,r,e.size),a="";return r&&s&&(a=t.urlFormat({protocol:e.protocol,host:e.file.thumbSource,pathname:e.file.sellerId+"/"+n+"/"+r[0]+"/"+s+"/depositphotos_"+e.file.id+"-"+o+"."+e.ext})),a},getThumbSizes:function(e,t){var i=this;if("number"==typeof t)return this.calculateSize(e,t);if("string"==typeof t)return this.getSize(e,t);var n={};return t.forEach((function(t){n[t]=i.getSize(e,t)})),n},getSize:function(e,t){var i=e.type||this.defaultType,n=this.getSizesConfig(e,i,t),r=this.calculateSize(e,n);if("wide"===t){var o=r.w,s={w:Math.round(r.w*this.config.wideSize/r.h),h:this.config.wideSize};s.w>o&&(s.w=o,s.h=Math.round(+e.height*s.w/+e.width)),r=s}else"normalSquare"===t?r.h=n:"max"===t&&(e.hasHugeImageThumb||e.hasHugeVectorThumb)&&(r.h+=100);return r},calculateSize:function(e,t,i){var n=+e.width,r=+e.height;return"normalSquare"===i?{w:t,h:t}:{w:n>r?t:parseInt(n/Math.max(1,r)*t,10),h:n>r?parseInt(r/Math.max(1,n)*t,10):t}},hasLabel:function(e,t){return 1600===this.getSizesConfig(e,e.type,t)},getVideoClipThumbSize:function(e,t){var i=this.getVideoClipConfig(e);return i&&i[t]||t}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(755),n=i(556),r=i(635),o=i(756),s=i(15).classNames;i(760),e.exports=n.extend({name:"AdyenCardManager",el:!1,template:t,cards:null,useSavedCardsChecked:!0,isCompactMode:!1,events:{"change ._saved":"handleUseSavedCardsChange"},prepareRender:function(){this.setCardComponent()},serialize:function(){return{classNames:s({"adyen-card-manager_compact":this.isCompactMode}),savedCardsAvailable:this.savedCardsAvailable(),switcher:{tag:"span",name:"saved",checked:this.useMerchantCardManager(),className:"switcher_small",inputClass:"_saved"}}},savedCardsAvailable:function(){return this.cards&&this.cards.length},useMerchantCardManager:function(){return this.savedCardsAvailable()&&this.useSavedCardsChecked},getActiveCard:function(){return this.useMerchantCardManager()?this.getMerchantCard():this.getAdyenCard()},setCardComponent:function(){var e;e=this.useMerchantCardManager()?new r({app:this.app,savedCards:this.cards,isCompactMode:this.isCompactMode}):new o({app:this.app}),this.setView("._component",e).render()},getMerchantCard:function(){var e=this.getView("._component").getActiveCard();return e?e.serialize():null},getAdyenCard:function(){var e=this.getView("._component").getCardData();return e?{encrypted:e}:null},handleUseSavedCardsChange:function(e){this.useSavedCardsChecked=e.currentTarget.checked,this.setCardComponent(),this.onUseSavedChangeCallback(this.useSavedCardsChecked)},validate:function(){return this.useMerchantCardManager()?this.getView("._component").validate():this.getView("._component").isCardValid(!0)},onUseSavedChangeCallback:function(){}})}))},function(e,t,i){(function(i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports.collect=function(){if(!i.browser)return{};var e={screenWidth:"",screenHeight:"",colorDepth:"",language:"",userAgent:"",javaEnabled:!1,timeZoneOffset:(new Date).getTimezoneOffset()};return window.screen&&Object.assign(e,{screenWidth:window.screen.width,screenHeight:window.screen.height,colorDepth:window.screen.colorDepth}),window.navigator&&Object.assign(e,{javaEnabled:window.navigator.javaEnabled(),userAgent:window.navigator.userAgent,language:window.navigator.language?window.navigator.language:window.navigator.browserLanguage}),e}})?n.apply(t,r):n)||(e.exports=o)}).call(this,i(23))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(33),n=i(4),r=i(562);e.exports=r.extend({name:"Credits",getRebillTitle:function(){return this.model.get("rebill").get("count")>0?this.tr("Auto-renewal <br />on %s credits",this.model.get("rebill").get("count")):""},getExpiresLabel:function(e){void 0===e&&(e=this.product);var i=n.unix(e.expires).diff(n(),"d"),r=i<1?"today":"default",o=t.productExpiresLabels.find((function(t){return t.type===e.type&&t.period===r})).label;return this.tr(o,i)}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="merchant-manager '+t(e.classes.holder)+'"><div class="merchant-manager_fields">';e.switcher.saved.isAvailable&&(i+='<div class="merchant-manager__item merchant-manager__item_saved"><label class="field-box switcher-box switcher-box_small"><span class="switcher-box-text">'+this.tr("Use my saved cards")+"</span><",e.switcher.saved.tag?i+=""+t(e.switcher.saved.tag):i+="label",i+=' class="switcher',e.switcher.saved.disabled&&(i+=" disabled _switcher-disabled"),i+=" "+t(e.switcher.saved.className||"")+'"><input class="switcher-checkbox '+t(e.switcher.saved.inputClass||"")+'" type="checkbox" name="'+t(e.switcher.saved.name)+'"',e.switcher.saved.value&&(i+=' value="'+t(e.switcher.saved.value)+'"'),e.switcher.saved.checked&&(i+=' checked="checked"'),e.switcher.saved.disabled&&(i+=" disabled"),i+=' /><span class="switcher-holder"><span class="switch-on"><span class="title">'+t(e.switcher.saved.labelOn||"On")+'</span></span><span class="switch-off"><span class="title">'+t(e.switcher.saved.labelOff||"Off")+'</span></span></span><i class="circle"></i></',e.switcher.saved.tag?i+=""+t(e.switcher.saved.tag):i+="label",i+="></label></div>"),i+='<div class="merchant-manager__item"><div class="fields-group _fields-group '+t(e.classes.fields)+'"><div class="fields-group__wrap"><div class="fields-group__part fields-group__part_half _fields-group-part"><div class="merchant-manager__field merchant-manager__field_number field-box field-box_light input-box input-box-xxl _cards-holder '+t(e.classes.number)+'"><i class="merchant-manager__card-type icon '+t(e.classes.cardIcon)+'"></i><i class="merchant-manager__select-arrow arrow arrow-strict arrow-down"></i><input type="hidden" name="cardId" value="'+t(e.card.id)+'"><input class="input input-xxl',e.state.empty.number&&(i+=" empty"),i+=' _cardNumber _field" type="text" name="number" value="'+t(e.card.number)+'" ',e.state.disabled.number&&(i+="disabled "),i+='maxlength="27" autofocus autocomplete="cc-number" inputmode="numeric"><span class="field-box__title">'+this.tr("Credit Card Number")+'</span><ul class="saved-cards-list hidden _cards-list">';var n=e.saved.list;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<li><label class="saved-cards-list__item"><i class="saved-cards-list__icon icon icon-card-type-'+t((r=n[o+=1]).type)+'"></i>'+t(r.labels.number)+'<input class="saved-cards-list__radio _selected-card" type="radio" value="'+t(r.id)+'"',e.card.id===r.id&&(i+=" checked"),i+='><i class="saved-cards-list__active icon icon-ok-blue"></i></label></li>';return i+='</ul></div></div><div class="fields-group__part fields-group__part_fill _fields-group-part"><label class="merchant-manager__field merchant-manager__field_exp field-box field-box_light input-box input-box-xxl"><input class="input input-xxl _masked-exp _field',e.state.empty.expiry&&(i+=" empty"),i+='" type="text" name="expiry" value="'+e.card.labels.expireShort+'" placeholder="'+this.tr("mm / yy")+'"maxlength="5"',e.state.disabled.expiry&&(i+=" disabled"),i+=' autocomplete="cc-exp"><span class="field-box__title">'+this.tr("Expiration Date")+'</span></label><label class="merchant-manager__field merchant-manager__field_cvv field-box field-box_light input-box input-box-xxl"><input class="input input-xxl _cvv _field',e.state.empty.cvv&&(i+=" empty"),i+='" type="password" name="cvv" maxlength="4"value="'+e.card.cvv+'" ',e.state.disabled.cvv&&(i+=" disabled"),i+=' autocomplete="cc-csc"><span class="field-box__title">'+this.tr("CVV / CVC")+'</span></label></div></div><div class="fields-group__errors _fields-group-error"></div></div></div><div class="merchant-manager__item"><div class="g-recaptcha _captcha" data-sitekey="'+t(e.captcha.siteKey)+'"></div></div><div class="merchant-manager__item _errorHolder"><div class="merchant-manager__error-holder field-box"></div></div></div></div>'}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="adyen-card-manager '+e.classNames+'">';return e.savedCardsAvailable&&(i+='<div class="adyen-card-manager__saved"><label class="field-box switcher-box switcher-box_small"><span class="switcher-box-text">'+this.tr("Use my saved cards")+"</span><",e.switcher.tag?i+=""+t(e.switcher.tag):i+="label",i+=' class="switcher',e.switcher.disabled&&(i+=" disabled _switcher-disabled"),i+=" "+t(e.switcher.className||"")+'"><input class="switcher-checkbox '+t(e.switcher.inputClass||"")+'" type="checkbox" name="'+t(e.switcher.name)+'"',e.switcher.value&&(i+=' value="'+t(e.switcher.value)+'"'),e.switcher.checked&&(i+=' checked="checked"'),e.switcher.disabled&&(i+=" disabled"),i+=' /><span class="switcher-holder"><span class="switch-on"><span class="title">'+t(e.switcher.labelOn||"On")+'</span></span><span class="switch-off"><span class="title">'+t(e.switcher.labelOff||"Off")+'</span></span></span><i class="circle"></i></',e.switcher.tag?i+=""+t(e.switcher.tag):i+="label",i+="></label></div>"),i+='<div class="_component"></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(757),r=i(636).supportedCardTypes,o=i(556),s=i(758);e.exports=o.extend({name:"AdyenCardWidget",el:!1,template:n,card:null,serialize:function(){return{mountClass:this.getMountClass()}},clientAfterRender:function(){var e=this;s.getAdyenPaymentsClient({lang:this.app.lang,host:this.app.parsedUrl.host}).then((function(t){return e.initCardComponent(t)}))},initCardComponent:function(e){if(e&&!this.card){var t=document.querySelector("."+this.getMountClass());t&&(this.card=e.create("card",{brands:r}).mount(t))}},isCardValid:function(e){if(!this.card.state)return!1;var t=this.card.state.isValid;return!t&&e&&this.card.showValidation(),t},getMountClass:function(){return"_adyen-card_"+this.cid},getCardData:function(){return this.card&&this.card.data?t({},this.card.data.paymentMethod):null}})}))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="adyen-card-widget"><div class="'+e.mountClass+'"></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(e){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}e=function(e){return e&&e.__esModule?e:{default:e}}(e);var r,o,s=i(5),a=i(26),l=i(636),c=l.devKeys,u=l.prodKeys,d=i(759),h=function(e){return s.client.adyen.depUrl.replace("%e",s.client.adyen.environment).replace("%v",s.client.adyen.sdkVer).replace("%t",e)},p=function(e){var t={en:"en-US",de:"de-DE",fr:"fr-FR",sp:"es-ES",ru:"ru-RU",it:"it-IT",pt:"pt-BR",pl:"pl-PL",nl:"nl-NL",jp:"ja-JP",se:"sv-SE",cn:"zh-CN",mx:"es-ES",ko:"ko-KR",br:"pt-BR"};return t[e]||t.en},f=function(e,t){return(t?u:c)[e]};t.getAdyenPaymentsClient=function(){var t=function(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}(e.default.mark((function t(i){var n,l,c;return e.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(n=void 0===i?{}:i).lang,c=n.host,null!=r){e.next=6;break}return d({id:"adyenStyles",href:h("css")}),e.next=5,new Promise((function(e,t){return a.ajax({url:h("js"),dataType:"script",success:function(){window.AdyenCheckout?e(window.AdyenCheckout):t(new Error("adyen lib loaded but not found"))},error:function(e){return t(e)},async:!0})}));case 5:r=e.sent;case 6:return null==o&&(o=new r({environment:s.client.adyen.environment,originKey:f(c,s.isProduction),locale:p(l)})),e.abrupt("return",o);case 8:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return new Promise((function(t){if(e.id&&document.getElementById(e.id))t();else{var i=Object.assign(document.createElement("link"),{type:"text/css",rel:"stylesheet",id:"webpackPreventEnsure-"+e.id});i.setAttribute("data-href",e.href),document.head.appendChild(i);var n=document.createElement("link"),r=e.preload&&n.relList&&n.relList.supports("preload"),o={type:"text/css",rel:"stylesheet",onload:r?null:t()},s={rel:"preload",as:"style",onload:function(){return Object.assign(n,o)&&t()}};Object.assign(n,r?s:o,e),document.body.appendChild(n)}}))}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports={Autorenewal:"Rebill-Step",Unsubscribe:"UnsubscribePage"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(6);e.exports=t.extend({url:function(){return this.force?"ForceRebill":"Rebill"},isHttps:!0,force:!1,defaults:{cardId:null,productId:null,productType:null,rebillState:null,billingName:null},validation:{cardId:{required:!1,pattern:"number"},productId:{required:!0,pattern:"number"},productType:{required:!0},rebillState:{required:!0,boolean:!0},billingName:{required:!0}}})})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(6),n="applied",r="scheduled";e.exports=t.extend({url:"UnsubscribeInfo",defaults:{isEligible:!1,bonusStatus:null},parse:function(e){return{isEligible:e.is_eligible,bonusStatus:e.bonus_status}},isApplied:function(){return this.get("bonusStatus")===n},isScheduled:function(){return this.get("bonusStatus")===r}})})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(33),n=i(562);e.exports=n.extend({name:"ImagePack",getExpiresLabel:function(e){void 0===e&&(e=this.product);var i=t.productExpiresLabels.find((function(t){return t.type===e.type})).label;return this.tr(i)}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var s=i(0),a=i(26),l=i(564).to,c=i(774),u=i(556),d=i(637),h=i(152),p=i(638),f=i(639),g=i(559),v=i(740),m=i(565),b=i(625),y=i(768),_=600,w=u.extend(v).extend({name:"CardEditor",el:!1,template:c,opened:!1,countries:[],userGroupInfo:void 0,savedCards:[],events:{"click ._close":"onCloseClick","click ._submit":"onSubmitClick"},initialize:function(){this.model||(this.model=new h({},{app:this.app})),this.virtual=new h(this.model.toJSON(),{app:this.app})},prepareRender:function(){this.setViews({"._card":new d({app:this.app,model:this.virtual,mode:"edit",size:"large"}),"._sep":new u({tagName:"i",className:"card-editor__sep"}),"._form":this.getCardEditorForm()})},getCardEditorForm:function(){return"adyen"===this.app.user.get("billingName")?this.getAdyenForm():this.getMerchantForm()},getAdyenForm:function(e){return new f(o({app:this.app,model:new h({id:this.model.get("id"),billingName:this.model.get("billingName")},{app:this.app}),formId:this.cid,cards:this.savedCards,isCompactMode:!0,handleModelRequest:this.onStartMerchantSubmit.bind(this),onModelResponseCallback:this.onFinishMerchantSubmit.bind(this),onModelSuccessResponseCallback:this.onSuccessMerchantSubmit.bind(this)},e))},getMerchantForm:function(e){return new p(o({app:this.app,model:new h({id:this.model.get("id"),expiryMonth:this.model.get("expiryMonth"),expiryYear:this.model.get("expiryYear"),billingName:this.model.get("billingName")},{app:this.app}),savedCards:this.savedCards,formId:this.cid,onStartFormSubmit:this.onStartMerchantSubmit.bind(this),onFinishFormSubmit:this.onFinishMerchantSubmit.bind(this),onSuccessFormSubmit:this.onSuccessMerchantSubmit.bind(this),onCardChangeCallback:this.onMerchantModelChangeCallback.bind(this),onModelExternalError:this.onMerchantExternalError.bind(this)},e))},serialize:function(){return{formId:this.cid}},clientAfterRender:function(){m(this.$el,a.$),b(this.$("._submit"))},onCloseClick:function(){this.close()},onSubmitClick:function(e){e.preventDefault(),this.submitForm()},open:function(){var e=this;return r(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isOpened()){t.next=5;break}return t.next=3,new Promise((function(t){return e.$el.stop().show().animate({marginTop:0},_,t)}));case 3:t.next=10;break;case 5:return t.next=7,e.render().promise();case 7:return t.next=9,new Promise((function(t){return e.$el.show().animate({marginTop:0},_,t)}));case 9:e.onFinishOpeningAnimation();case 10:e.opened=!0;case 11:case"end":return t.stop()}}),i)})))()},close:function(){var e=this;return r(t.default.mark((function i(){var n;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getView("._billing-address-editor"))){t.next=4;break}return t.next=4,n.toggle(!1);case 4:return t.next=6,new Promise((function(t){return e.$el.stop().animate({marginTop:"-"+e.$el.outerHeight()},_,t)}));case 6:e.opened=!1,e.onClose(),e.remove();case 9:case"end":return t.stop()}}),i)})))()},isOpened:function(){return this.opened},submitForm:function(){this.getView("._form").$el.trigger("submit")},onFinishOpeningAnimation:function(){var e=this.$el.offset().top-(document.documentElement.clientHeight-this.$el.height())/2;a.$("html, body").animate({scrollTop:e+"px"},_)},onStartMerchantSubmit:function(){this.$("._submit").trigger("loading")},onFinishMerchantSubmit:function(){this.$("._submit").trigger("loaded")},onSuccessMerchantSubmit:function(e,t){var i=this;void 0===t&&(t={}),t.errors||(t.data&&t.data.is3dsTransaction?this.init3ds({app:this.app,html:t.data.html}):this.close().then((function(){return i.onCardEditSuccess(e)})))},on3dsInit:function(){this.$("._submit").trigger("loading")},on3dsInitSuccess:function(e){this.open3dsBlankWindow(e)},on3dsInitError:function(e){this.open3dsSameWindow(e)},on3dsSuccess:function(e){var i=this;return r(t.default.mark((function n(){var r,o,s;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.message,i.$("._submit").trigger("loaded"),o=i.getView("._form"),s=o.model,t.next=5,l(s.set({id:r.cardId,billingName:r.psName}).promiseFetch());case 5:t.sent[0]||i.close().then((function(){return i.onCardEditSuccess(s)}));case 8:case"end":return t.stop()}}),n)})))()},on3dsError:function(e){var t=e.code,i=e.message;this.$("._submit").trigger("loaded"),this.getView("._form").markError(void 0,i,t)},onMerchantModelChangeCallback:function(e){this.virtual.set(e.toJSON())},onMerchantExternalError:function(e){var i=this;return r(t.default.mark((function n(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e={}),!s.isEmpty(e)){t.next=3;break}return t.abrupt("return");case 3:if(!s.size(g.filterOwn(e,Object.keys(i.app.user)))){t.next=7;break}return t.next=6,i.showAddressEditor();case 6:i.getView("._billing-address-editor").showErrors(i.app.user,e);case 7:case"end":return t.stop()}}),n)})))()},onBillingAddressEditorSave:function(){this.getView("._billing-address-editor").toggle(!1)},onCardEditSuccess:function(){},onClose:function(){}});Object.assign(w.prototype,y),e.exports=w},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],void 0===(o="function"==typeof(n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var r=i(769);e.exports={showAddressEditor:function(){var e=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setNotExistView("._billing-address-editor",r,{app:e.app,togglingMethod:"simple",countries:e.countries,userGroupInfo:e.userGroupInfo,onCloseCallback:function(){return e.$("._inner").toggle(!0)},onSaveSuccessCallback:e.onBillingAddressEditorSave.bind(e)}),t.next=3,e.toggleBillingAddressEditor(!0);case 3:case"end":return t.stop()}}),i)})))()},toggleBillingAddressEditor:function(e){return this.$("._inner").toggle(!e),this.getView("._billing-address-editor").toggle(e)}}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var o=i(0),s=i(26),a=i(157),l=i(779),c=i(556),u=i(655),d=i(15),h=i(565),p=i(625),f=i(560),g=i(559),v=c.extend({name:"BillingAddressEditor",el:!1,template:l,countries:[],togglingMethod:"slide",togglingInProgress:!1,opened:!1,events:{"change [data-capitalize]":"onCapitalizeEvent","keyup [data-capitalize]":"onCapitalizeEvent","input [data-capitalize]":"onCapitalizeEvent","paste [data-capitalize]":"onCapitalizeEvent","click ._close-btn":"onCloseClick","focusin input":"onFieldFocusIn","focusin select":"onFieldFocusIn","submit ._form":"onSubmit"},initialize:function(){this.listenTo(this.app.user,"invalid",this.showErrors),this.setViews({"._phone":new u({app:this.app,phone:this.app.user.get("phone")})})},serialize:function(){var e=(this.userGroupInfo?this.userGroupInfo:this.app.user).toProfileJSON(),t=this.countries.length&&this.countries.findWhere({code:e.country}).serialize();return{countries:o.isFunction(this.countries.serialize)?this.countries.serialize():[],userCountry:(t||{}).title,userInfo:o.extend({fullName:e.firstName||e.lastName?e.firstName+"&nbsp;"+e.lastName:e.fullName},e)}},clientAfterRender:function(){h(this.$el,s.$),p(this.$('[type="submit"]'))},open:function(){var e=this;return r(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.render().promise();case 2:if("slide"!==e.togglingMethod){t.next=6;break}return e.togglingInProgress=!0,t.next=6,new Promise((function(t){return e.$("._form").css({marginTop:"-500px"}).animate({marginTop:0},800,t)}));case 6:e.togglingInProgress=!1,e.opened=!0;case 8:case"end":return t.stop()}}),i)})))()},close:function(){var e=this;return r(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("slide"!==e.togglingMethod){t.next=6;break}return e.togglingInProgress=!0,t.next=4,new Promise((function(t){return e.$("._form").stop().animate({marginTop:"-500px"},800,t)}));case 4:t.next=7;break;case 6:e.$el.remove();case 7:e.togglingInProgress=!1,e.opened=!1,e.onCloseCallback();case 10:case"end":return t.stop()}}),i)})))()},toggle:function(e){var i=this;return r(t.default.mark((function n(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null!=e?e:!i.opened)){t.next=6;break}return t.next=4,i.open();case 4:t.next=8;break;case 6:return t.next=8,i.close();case 8:case"end":return t.stop()}}),n)})))()},showErrors:function(e,t){var i=this;o.each(this.$("label:not(.field-box_correct) input"),(function(e){return i.fieldReset(i.$(e).parent())})),o.each(g.filterOwn(t,o.keys(e.defaults)),(function(e,t){return i.fieldIncorrect(i.$("[name="+t+"]").parent(),{errorMessage:e})}))},handleErrors:function(e,t){var i={};o.each(t.errors,(function(e){var t=a[e.error_code]||a.byDefault;void 0===i[t]&&(i[t]=[]),i[t].push(e.error_message)})),this.showErrors(e,i)},onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=d.serializeForm(this.$el.find("._form"));this.$('[type="submit"]').trigger("loading"),this.app.user.save(t,{parse:!1,success:this.onFormSaveSuccess.bind(this)})},onFormSaveSuccess:function(e,t){this.$('[type="submit"]').trigger("loaded"),t.errors?(this.handleErrors(e,t),this.onSaveErrorCallback()):this.onSaveSuccessCallback()},onFieldFocusIn:function(e){this.fieldReset(this.$(e.currentTarget).parent())},onCloseClick:function(){this.toggle(!1)},onCloseCallback:o.noop,onSaveSuccessCallback:o.noop,onSaveErrorCallback:o.noop});o.extend(v.prototype,f),e.exports=v},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(4),n=i(561),r=i(651),o=i(782),s=i(558),a=i(556);e.exports=s.extend({name:"ProductRebillDiscountTooltip",params:n.RebillProductDiscount,prepareContent:function(){var e=this;this.content=new a({template:o,serialize:function(){return{product:e.model.serialize(),expiresDate:t.unix(e.model.get("expires")).format(r.statisticsDays)}}})}})}))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var s=i(0),a=i(564).to,l=i(761),c=i(93),u=i(637),d=i(762),h=i(773),p=i(780),f=i(781),g=i(770),v=i(783),m=i(784),b=i(764),y=i(559),_=i(563),w=["membership"];e.exports={additionalEvents:{"mouseenter ._rebill-help":"showRebillHelpTooltip","mouseleave ._rebill-help":"hideRebillHelpTooltip","mouseenter ._rebill-discount":"showRebillDiscountTooltip","mouseleave ._rebill-discount":"hideRebillDiscountTooltip",'change [name="rebill-checkbox"]':"handleRebillCheckboxChange","click ._switcher-disabled":"handleDisabledSwitcherClick","click ._settings":"handleSettingsClick","click ._card":"handleCardClick"},initRebillProduct:function(){if(this.shouldShowCard()&&this.getRebillCard()&&this.setView("._card",new u({app:this.app,model:this.getRebillCard(),mode:"view",size:"small"})),this.shouldEnableRebill()){this.removeView("rebillTooltip");var e=new p({app:this.app,model:this.model});"subscription"===this.model.get("type")&&this.model.isInstallment()&&(e=new f({app:this.app})),this.setView("rebillTooltip",e)}this.model.get("rebill").get("discount")?(this.removeView("rebillDiscountTooltip"),this.setView("rebillDiscountTooltip",new g({app:this.app,model:this.model}))):this.getView("rebillTooltip")&&(this.getView("rebillTooltip").params.templatePosition="rt")},getUnsubscribeInfoModel:function(){return this.unsubscribeInfo||(this.unsubscribeInfo=new b({},{app:this.app})),this.unsubscribeInfo},initRebillManager:function(){this.rebillManager||(this.rebillManager=new d({app:this.app}))},initProductCardEditor:function(e){var t=this,i="enable"===e?this.app.store.get("CreditCards").first():this.getRebillCard();return this.setView("._editor",new h({app:this.app,model:i,savedCards:this.app.store.get("CreditCards"),countries:this.countries,userGroupInfo:this.userGroupInfo,onClose:this.onEditorClose.bind(this),onCardEditSuccess:function(i){return t.processRebill(e,i)}}))},getAdditionalSerializeParams:function(){return o({},this.serializeParams,{isRebillEnabled:this.shouldEnableRebill(),rebillTitle:s.result(this,"getRebillTitle")||this.tr("Auto-Renewal"),product:this.model.serialize(),switcher:this.getRebillSwitcherData(),isSettingsOpened:this.isSettingsOpened,shouldShowCard:this.shouldShowCard()})},getRebillSwitcherData:function(){var e=this.model.get("rebill");return{checked:e&&e.get("enabled"),disabled:!e||!e.get("editable"),className:"product-item__switcher switcher_red",name:"rebill-checkbox"}},getRebillCard:function(){var e=this.model.get("rebill");return null!=e?e.getRebillCard():null},enableRebill:function(){this.shouldEnableRebill()||this.initProductCardEditor("enable").open()},updateRebillCard:function(){var e=this.getRebillCard();e&&"apple_pay"===e.get("paymentTokenType")||!this.shouldEnableRebill()||this.initProductCardEditor("update").open()},disableRebill:function(){var e=this;this.shouldEnableRebill()?this.insertView("AutoRenewalModal",new v({app:this.app,onCancelCallback:function(){e.onRebillDisablingCancel()},onSubmitCallback:function(){e.processRebill("disable",e.getRebillCard())}})).show():this.shouldShowCardEditor()&&this.getView("._editor").close()},processRebill:function(e,t){var i=this;if(t){var n={cardId:t.get("id"),billingName:t.get("billingName"),paymentTokenType:t.get("paymentTokenType")};"enable"===e?this.saveRebillState(o({},n,{rebillState:!0})).then((function(e){var n=e.editable,r=e.enabled;return i.onProductRebillChange({editable:n,enabled:r,card:t,visibility:!0})})):"update"===e?this.saveRebillState(o({},n,{rebillState:!0})).then((function(e){var n=e.editable,r=e.enabled;return i.onProductRebillChange({editable:n,enabled:r,card:t,visibility:!0})})):"disable"===e&&this.saveRebillState(o({},n,{rebillState:!1})).then((function(e){var n=e.editable,r=e.enabled;return i.onProductRebillChange({editable:n,enabled:r,card:t,visibility:!1})})).catch((function(){return i.onRebillDisablingCancel()}))}},redirectToDisable:function(e){var t=e.type;t&&this.app.router.redirect(this.app.makeUrl({route:"Autorenewal",step:"status",type:t,transactionId:this.model.get("id")}))},shouldBePossibleRebill:function(e,t){var i=e.type,n=e.rebill.purchaseMethod,r=["subscription"];return this.app.features.isFeatureOnValue("Cancellation Feedback for Membership")&&r.push("membership"),!r.includes(i)||t||!c.billings.list.includes(n)},saveRebillState:function(e){var i=this,n=void 0===e?{}:e,o=n.cardId,s=n.billingName,c=n.paymentTokenType,u=n.rebillState;return new Promise(function(){var e=r(t.default.mark((function e(n,r){var d;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=i.model.get("type"),u||!w.includes(d)){e.next=14;break}return e.next=4,a(i.getUnsubscribeInfoModel().promiseFetch());case 4:if(e.sent[0]||!i.unsubscribeInfo.get("isEligible")&&!i.unsubscribeInfo.isScheduled()){e.next=10;break}return i.trackFlowStart(l.Unsubscribe),i.redirectToUnsubscribe(),e.abrupt("return");case 10:if(!i.unsubscribeInfo.isApplied()){e.next=14;break}return i.trackFlowStart(l.Unsubscribe),i.redirectToFeedback(),e.abrupt("return");case 14:if(i.shouldBePossibleRebill(i.model.serialize(),u)){e.next=17;break}return["subscription","membership"].includes(d)&&(i.trackFlowStart(l.Autorenewal),i.redirectToDisable({type:d})),e.abrupt("return");case 17:i.initRebillManager(),i.rebillManager.save({cardId:o,billingName:s,productId:parseInt(i.model.get("id"),10),productType:d,rebillState:u},{success:function(e,t){if(t.errors&&t.errors.length)i.showErrorModal(t.errors),r();else{var o=i.model.get("rebill").get("editable");!e.get("rebillState")&&o&&"apple_pay"===c&&(o=!1),n({enabled:e.get("rebillState"),editable:o}),i.app.observer.broadcast("Track:UE:Autorenewal:Rebill",{status:u})}}});case 19:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}())},trackFlowStart:function(e){this.app.observer.broadcast("Track:UE:UnsubscribePage:Click",{flow:e,step:"Start",model:this.model,label:"Click-Start"})},redirectToUnsubscribe:function(){var e=this;return r(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(e.app.userSettings.promiseSave({cancellationRebill:[{step:"unsubscribe",type:e.model.get("type"),id:""+e.model.id}]}));case 2:e.app.router.redirect(e.app.makeUrl({route:"Unsubscribe",type:e.model.get("type"),step:"main-page",transactionId:e.model.get("id")}));case 3:case"end":return t.stop()}}),i)})))()},redirectToFeedback:function(){var e=this;return r(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(e.app.userSettings.promiseSave({cancellationRebill:[{step:"feedback",type:e.model.get("type"),id:""+e.model.id}]}));case 2:e.app.router.redirect(e.app.makeUrl({route:"Unsubscribe",step:"feedback",type:e.model.get("type"),transactionId:e.model.id}));case 3:case"end":return t.stop()}}),i)})))()},showErrorModal:function(e){var t=y.parse(this.app,e);new _({app:this.app,title:this.tr("Error"),message:s.first(t).message}).show()},showUnableAutoRenewalModal:function(){this.insertView("UnableAutoRenewalModal",new m({app:this.app,rebillInfo:this.model.get("rebill"),product:this.model})).show()},showRebillHelpTooltip:function(e){this.getView("rebillTooltip").show(e)},hideRebillHelpTooltip:function(e){this.getView("rebillTooltip").hide(e)},showRebillDiscountTooltip:function(e){this.getView("rebillDiscountTooltip").show(e)},hideRebillDiscountTooltip:function(e){this.getView("rebillDiscountTooltip").hide(e)},shouldShowCard:function(){var e=this.model.get("rebill");return e&&e.get("possible")&&e.get("enabled")&&e.get("editable")},shouldShowCardEditor:function(){return this.getView("._editor")&&this.getView("._editor").isOpened()},shouldEnableRebill:function(){var e=this.model.get("rebill");return e&&e.get("possible")&&e.get("enabled")},handleRebillCheckboxChange:function(e){e.currentTarget.checked?this.enableRebill():this.disableRebill()},handleSettingsClick:function(){this.toggleSettings()},handleCardClick:function(){this.getView("._editor")?this.getView("._editor").close():this.updateRebillCard()},onEditorClose:function(){this.model.get("rebill").get("enabled")||this.$('[name="rebill-checkbox"]').attr({checked:!1})},onRebillDisablingCancel:function(){this.$('[name="rebill-checkbox"]').click()},handleDisabledSwitcherClick:function(e){e.preventDefault();var t=this.model.get("rebill");t.get("enabled")&&!t.get("editable")&&this.showUnableAutoRenewalModal()},onProductRebillChange:function(e){var t=void 0===e?{}:e,i=t.editable,n=t.enabled,r=t.card,o=t.visibility;this.model.get("rebill").set({editable:i,enabled:n,card:r}),this.app.store.get("CreditCards").add(r,{merge:!0}),this.getView("._editor")&&this.getView("._editor").close(),this.toggleVisibility(o)},toggleSettings:function(){var e=this,t=this.$(".product-item__rebill-block, .product-item__card-holder"),i=!this.isSettingsOpened,n=function(i){t[i?"slideDown":"slideUp"](500,(function(){t.removeClass("product-item__rebill-block_hidden")})),e.$("._settings .arrow").removeClass("arrow-top, arrow-bottom").addClass(i?"arrow-top":"arrow-bottom"),e.$el.toggleClass("product-item__rebill-detailed",i)};!i&&this.shouldShowCardEditor()?this.getView("._editor").close().then((function(){return n(i)})):n(i),this.isSettingsOpened=i},toggleVisibility:function(e){var t=this;this.$el.slideUp(500,(function(){t.isSettingsOpened=e,t.render().promise().then((function(){t.$el.slideDown(500).addClass("product-item__rebill-detailed")}))}))}}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="card-box '+t(e.classes)+'" data-count-number="'+t(e.numberLength)+'"><i class="card-box__type-icon"></i><span class="card-box__number">',n=e.model.labels.number;if(n)for(var r=-1,o=n.length-1;r<o;)i+='<span class="card-box__symbol" data-value="'+t(a=n[r+=1])+'">'+t(a)+"</span>";i+='</span><span class="card-box__expired">';var s=e.model.labels.expire;if(s)for(var a,l=-1,c=s.length-1;l<c;)i+='<span class="card-box__symbol card-box__symbol_exp" data-value="'+t(a=s[l+=1])+'">'+t(a)+"</span>";return i+='</span><span class="card-box__valid">valid thru</span><span class="card-box__cvv"></span><span class="card-box__backside"><i class="card-box__magnetic-stripe"></i><span class="card-box__cvc-title">CVV/CVC</span><span class="card-box__cvc-value">'+e.model.labels.cvv+"</span></span></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var r=i(564).to,o=i(152),s=i(767),a=i(638),l=i(639);e.exports=s.extend({getMerchantCardModel:function(){var e=this.model.get("id")?{id:this.model.get("id"),expiryMonth:this.model.get("expiryMonth"),expiryYear:this.model.get("expiryYear"),billingName:this.model.get("billingName")}:{};return new o(e,{app:this.app})},getMerchantForm:function(){return s.prototype.getMerchantForm.call(this,{model:this.getMerchantCardModel(),submit:function(){if(this.getView("._merchant-card-manager").isUseSavedEnabled())this.onSuccessFormSubmit(this.getView("._merchant-card-manager").getActiveCard());else{for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.submit.apply(this,t)}}})},getAdyenForm:function(){return s.prototype.getAdyenForm.call(this,{model:new o({},{app:this.app}),submit:function(){if(this.getView("._card-manager").useSavedCardsChecked)return this.model.set(this.getView("._card-manager").getActiveCard()),void this.onModelSuccessResponseCallback(this.model);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];l.prototype.submit.apply(this,t)}})},onSuccessMerchantSubmit:function(e,t){void 0===t&&(t={}),t.errors||(t.data&&t.data.is3dsTransaction?this.init3ds({app:this.app,html:t.data.html}):this.onCardEditSuccess(e))},on3dsSuccess:function(e){var i=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function n(){var o,s,a;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.message,i.$("._submit").trigger("loaded"),s=i.getView("._form"),a=s.model,t.next=5,r(a.set({id:o.cardId,billingName:o.psName}).promiseFetch());case 5:t.sent[0]||i.onCardEditSuccess(a);case 8:case"end":return t.stop()}}),n)})))()}})},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="cards-list__editor card-editor"><div class="cards-list__editor_inner _inner"><div class="card-editor__top"><div class="card-editor__left _card"></div><div class="card-editor__right"><div class="_sep"></div><div class="_form"></div></div></div><div class="card-editor__bottom"><button class="card-editor__button button button-blue button-xl _submit" type="submit" form="'+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}())(e.formId)+'">'+this.tr("Save Information")+'</button><button class="card-editor__button button button-white button-xl _close">'+this.tr("Cancel")+'</button></div><i class="card-editor__close icon icon-close-cross _close"></i></div><div class="_billing-address-editor"></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<form id="'+t(e.formId)+'" class="merchant-form '+t(e.classNames)+'"><div class="merhcant-form_inner _merchant-card-manager"></div></form>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<form id="'+t(e.formId)+'" class="'+t(e.classNames)+' adyen-card-form"><div class="adyen-card-form__inner _card-manager"></div><div class="_error-holder"></div></form>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="billing-address-editor"><div class="billing-address-editor__wrapper"><form novalidate class="billing-address-form _form" method="POST"><i class="billing-address-form__close-btn icon-close-cross _close-btn"></i><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="firstName" value="'+t(e.userInfo.firstName)+'" placeholder="'+this.tr("First Name")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="lastName" value="'+t(e.userInfo.lastName)+'" placeholder="'+this.tr("Last Name")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl _phone"><input class="input input-xl" type="tel" name="phone" value="'+t(e.userInfo.phone)+'" placeholder="'+this.tr("Phone Number")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="address" value="'+t(e.userInfo.address)+'" placeholder="'+this.tr("Address")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl billing-address-form__field-city"><input data-capitalize class="input input-xl" type="text" name="city" value="'+t(e.userInfo.city)+'" placeholder="'+this.tr("City")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl billing-address-form__field-zip"><input class="input input-xl" type="text" name="zip" value="'+t(e.userInfo.zip)+'" placeholder="'+this.tr("Zip/Postal Code")+'" /></div><div class="billing-address-form__field field-box select-box select-box-xl"><select class="select select-xl" name="country">',n=e.countries;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<option value="'+t((r=n[o+=1]).code)+'"',r.code===e.userInfo.country&&(i+=" selected"),i+=">"+t(r.title)+"</option>";return i+='</select><i class="arrow arrow-black arrow-bottom"></i></div><button class="billing-address-form__submit button button-xxl button-blue" type="submit">'+this.tr("Save Information")+"</button></form></div></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(4),n=i(561),r=i(33),o=i(556),s=i(558);e.exports=s.extend({name:"ProductRebillTooltip",params:n.RebillProduct,prepareContent:function(){var e=this;this.content=new o({template:function(){return e.getRebillLabel()}})},getRebillLabel:function(){var e=this.model.get("type"),i="credits"===e?"ondemand":e,n=r.productRebillLabel.find((function(e){return e.key===i})).label;switch(e){case"subscription":case"membership":return this.tr(n,t.unix(this.model.get("expires")).diff(t(),"d"));default:return this.tr(n)}}})}))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(561),n=i(641),r=i(556),o=i(558);e.exports=o.extend({name:"ProductInstallmentRebillTooltip",params:t.RebillProduct,prepareContent:function(){this.content=new r({template:n})}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="rebill-tooltip">';return e.product.rebill.discount>0&&(t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("A %s discount on your current plan's future renewals has been successfully activated.",[e.product.rebill.discount+"%"])+"</div>"),"membership"===e.product.type&&e.product.rollover&&(t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("While you keep the auto-renewal <b>turned ON</b> your downloads newer expire and transfer month to month.")+"</div>"),t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("Your plan’s price protected for %s-month and will not change until <b>%s</b>",[24,e.expiresDate])+"</div></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";i(763);var t=i(91),n=i(563);e.exports=n.extend({name:"AutoRenewal",el:!1,initialize:function(e){var i=this;n.prototype.initialize.apply(this,e),this.title=this.tr("Auto-Renewal"),this.message=function(){return i.tr("Do you really want to cancel the auto-renewal?")},this.footer=[{label:t.CancelBtn,hide:!0,callback:this.onCancelCallback.bind(this)},{label:t.YesIDoBtn,hide:!0,color:"blue",defaultAction:!0,callback:this.onSubmitCallback.bind(this)}]}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(785),n=i(641),r=i(91),o=i(33),s=i(556),a=i(563);e.exports=a.extend({name:"AutoRenewalCancel",el:!1,title:r.AutoRenewalCancelTitle,destroyOnHide:!0,rebillInfo:null,product:null,initialize:function(){var e=this;this.body=function(){return new s({el:!1,template:t,serialize:function(){return{username:e.app.user.getFullName(),showSupportMessage:!e.product.isInstallment()}},views:{"._message":new s({el:!1,template:e.getTemplate()})}})},this.footer=[{label:r.OkBtn,color:"blue",hide:!0,defaultAction:!0}],this.rebillInfo&&this.getBillingServiceInfo()&&this.footer.unshift({label:this.getBillingLabel(),hide:!0,color:"blue",callback:function(){return e.redirectToBillingService()}})},getTemplate:function(){return this.product.isInstallment()?n:this.rebillInfo.get("isOwner")?"<span>"+r.AutoRenewalCancelMessage+"</span>":"<span>"+this.tr("The auto-renewal of this plan is controlled by Administrator of your account.")+"</span>"},getBillingServiceInfo:function(){var e=this;return o.billingServicesLinks.find((function(t){return t.key===e.rebillInfo.get("purchaseMethod")}))},getBillingLabel:function(){var e=this.getBillingServiceInfo();return e?e.label:null},redirectToBillingService:function(){this.app.router.redirect(this.rebillInfo.get("billingServiceLink")||this.app.makeUrl(this.rebillInfo.get("purchaseMethod")))}})}))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="auto-renewal-cancel-modal"><p><b>'+this.tr("Dear")+" "+t(e.username)+'!</b></p><p class="_message"></p>';return e.showSupportMessage&&(i+="<p>"+this.tr('In case you have any further questions or problems canceling the automatic renewal of your plan, please feel free to contact our <a class="%s" href="%s">support service</a>.',["link-blue",this.app.makeUrl("contact_us")])),i+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item';return e.needToShowHelpTooltip&&(i+=" user-plans-list__item_help"),i+=' _product"',e.href&&(i+=' href="'+e.href+'"'),i+=' data-bit="'+t(e.product.bit_price)+'"  data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</b></span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_credits"></i>',e.rebill.showDiscount&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(788);var t=i(789),n=i(33),r=i(0),o=i(4),s=i(556);e.exports=s.extend({el:!1,template:t,serialize:function(){return{isRenew:this.app.user.get("isSubaccount")&&!this.product.owner,isStatusVisible:this.isStatusVisible(),status:this.getRechargeStatus(),labels:{renew:this.getRenewLabel(),status:this.getStatusLabel(),info:this.getInfoLabel()}}},isStatusVisible:function(){var e=this.getRechargeStatus();return"wait"===e||"fail"===e},getRenewLabel:function(e){var t,i;if(void 0===e&&(e=this.product),1===e.buy_period){t="daily";var s=o.duration(o.unix(e.renewal).valueOf());i=[s.hours(),s.minutes()]}else t="monthly",i=o.duration(o.unix(e.renewal).valueOf()).days();var a=r.findWhere(n.subscriptionsRenewLabels,{period:t,type:"renew"}).label.trim();return this.tr(a,i)},getRechargeStatus:function(){return this.app.user.get("subscriptionRechargeInfo")&&this.app.user.get("subscriptionRechargeInfo").status||""},getStatusLabel:function(){return this.isStatusVisible()?this.tr(r.findWhere(n.subscriptionsRenewLabels,{type:"status",value:this.getRechargeStatus()}).label.trim()):""},getInfoLabel:function(e){return void 0===e&&(e=this.product),this.tr(r.findWhere(n.subscriptionsRenewLabels,{period:1===e.buy_period?"daily":"monthly",type:"info"}).label.trim())}})}))},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="subscription-renew"><p class="subscription-renew__row';return e.isRenew&&(t+=" subscription-renew__row_green"),t+='"><b>'+e.labels.renew+"</b></p>",e.isStatusVisible&&(t+='<p class="subscription-renew__row',"wait"===e.status&&(t+=" subscription-renew__row_red"),"fail"===e.status&&(t+=" subscription-renew__row_orange"),t+='">'+e.labels.status+"</p>"),t+='<p class="subscription-renew__row_last"><b>'+this.tr("Note")+": </b>"+e.labels.info+"</p></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(33),r=i(791),o=i(556);e.exports=o.extend({el:!1,template:r,serialize:function(){return{labels:{base:this.tr(t.findWhere(n.subscriptionExpiredLabels,{type:"base"}).label.trim()),info:this.tr(t.findWhere(n.subscriptionExpiredLabels,{type:"info",period:this.product.buy_period}).label.trim())}}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="subscription-rebill base"><p class="subscription-rebill__row"><b>'+e.labels.base+'</b></p><p class="subscription-rebill__row_last">'+e.labels.info+"</p></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item';return e.needToShowHelpTooltip&&(i+=" user-plans-list__item_help"),e.product.rebill.discount>0&&(i+=" user-plans-list__item_discount"),i+=' _product"',e.href&&(i+=' href="'+e.href+'"'),i+=' data-id="'+t(e.product.id)+'" data-bit="'+t(e.product.bit_price)+'"data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+="</span>",e.labels.left&&(i+='<span class="user-plans-list__text">'+e.labels.left+"</span>"),e.labels.curated&&(i+='<span class="user-plans-list__text">'+e.labels.curated+"</span>"),i+='<span class="user-plans-list__text">'+e.labels.renew+"</span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),e.product.unlimited?i+='<i class="user-plans-list__icon user-plans-list__icon_subscription-unlimited"></i>':i+='<i class="user-plans-list__icon user-plans-list__icon_subscription _info">'+e.labels.daysLeft+"</i>",e.shouldShowAsSelected?i+='<i class="user-plans-list__selected icon icon-ok icon-ok-blue _help"></i>':e.needToShowHelpTooltip&&(i+='<i class="user-plans-list__help icon icon-help _help"></i>'),e.rebill.showDiscount&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item';return e.product.rebill.discount>0&&(i+=" user-plans-list__item_discount"),i+=' _product" ',e.href&&(i+=' href="'+e.href+'"'),i+=' data-id="'+t(e.product.id)+'" data-bit="'+t(e.product.bit_price)+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_ondemand"></i>',e.shouldShowAsSelected&&(i+='<i class="user-plans-list__selected icon icon-ok icon-ok-blue _help"></i>'),e.rebill.showDiscount&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item _product"';return e.href&&(i+=' href="'+e.href+'"'),i+=' data-bit="'+t(e.product.bit_price)+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_imagepack"></i></a>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item';return e.product.rebill.discount>0&&(i+=" user-plans-list__item_discount"),i+=' _product _buy-more" ',e.href&&(i+=' href="'+e.href+'"'),i+=' data-id="'+t(e.product.id)+'" data-bit="'+t(e.product.bit_price)+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.curated+'</span><span class="user-plans-list__text">'+e.labels.renew+'</span><i class="user-plans-list__icon user-plans-list__icon_membership _info"></i>',e.rebill.showDiscount&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){(function(e){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(6),r=(0,i(12).getLogger)(e);e.exports.sendRequest=function(e){if(!e.url)return r.error("Request url is missed"),!1;this.model=new n,this.model.url=e.url;var i=t.extend({method:"update",getQueryParams:{},success:t.noop},e);return this.model.sync(e.method,this.model,i)}}))}).call(this,i(8)(e))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<a class="user-bar-item user-bar-item_hover balance-box earned-money-box" href="'+this.app.makeUrl("request_earnings")+'"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-earned-money"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-earned-money-hover"></i><span class="user-bar-item__text">$'+t(e.balance)+"</span></span></a>"}})?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="user-plans-list _list"></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<a class="user-plans-list__item" href="'+this.app.makeUrl("request_earnings")+'"><span class="user-plans-list__title">'+this.tr("Earned Money")+'</span><span class="user-plans-list__text">'+this.tr("Balance: $<b>%s</b>",e.balance)+'</span><i class="user-plans-list__icon icon icon-earned-money"></i></a>'}})?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";i(838);var t=i(839),n=i(556);e.exports=n.extend({name:"ShoppingCartIndicator",el:!1,template:t,initialize:function(){this.model=this.app.store.get("CartIndicator"),this.listenTo(this.model,"change:count",this.render)},serialize:function(){return{count:this.model.get("count"),cartLink:this.app.makeUrl("cart")}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="shopping-cart-box';return e.count>0&&(i+=" shopping-cart-box_full"),i+='" href="'+e.cartLink+'" rel="nofollow"><i class="shopping-cart-box__icon icon icon-cart"></i><i class="shopping-cart-box__icon shopping-cart-box__icon_hover icon icon-cart-hover"></i>',e.count>0&&(i+='<span class="shopping-cart-box__counter label label-counter">'+t(e.count)+"</span>"),i+="</a>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(841),n=i(556);e.exports=n.extend({el:!1,template:t,events:{click:"onBalanceClick"},teamBalance:0,prepareRender:function(){return!this.app.user.get("enterprise").hideBalance||this.app.user.isEnterpriseAdmin()||this.app.user.hasPermissionsTo("enterprise_group:"+this.app.user.get("enterprise").groupId,"billing")},teamBalanceFormatted:function(){var e=this.app.currency.get("list").get(this.app.user.get("enterprise").currencyId);return e?(this.teamBalance<0?"-":"")+e.parseAndFormat({amount:Math.abs(this.teamBalance)}):null},getBillingLink:function(){return this.app.user.isOverdraftEnabled()?"":this.app.makeUrl("subscribe/billing/balance",{backURL:!0})},serialize:function(){return{isEnterprise:this.isEnterprise,billingLink:this.getBillingLink(),billingLinkDisabled:this.billingLinkDisabled(),$teamBalance:this.teamBalanceFormatted()}},billingLinkDisabled:function(){var e=this.app.user.get("enterprise").groupId;return this.app.user.isOverdraftEnabled()||!(this.app.user.isEnterpriseAdmin()||this.app.user.hasPermissionsTo("enterprise_group:"+e,"billing"))},onBalanceClick:function(e){this.app.user.isOverdraftEnabled()&&e.preventDefault()}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="<a ";return e.billingLinkDisabled||(t+=' href="'+e.billingLink+'"'),t+=' class="user-bar-item user-bar-item_hover balance-box',e.billingLinkDisabled&&(t+=" balance-box_not-clickable"),t+='"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-balance"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-balance-hover"></i><span class="user-bar-item__text">'+e.$teamBalance+"</span></span></a>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(556),n=i(796);e.exports=t.extend({el:!1,events:{"click ._user-switch-account":"onUserSwitchAccount","click ._user-logout":"onUserLogoutClick"},serialize:function(){return{accountSwitcher:this.app.user.get("accountSwitcher"),login:this.app.user.getLogin(),isEnterprise:this.app.user.isEnterprise(),isSeller:this.app.user.isSeller(),avatars:this.app.user.avatar.toJSON(),avatarExists:this.app.user.avatar.avatarExists,menuLinks:this.menuLinks||{}}},onUserLogoutClick:function(e){e.preventDefault(),this.app.user.logout()},onUserSwitchAccount:function(){var e=this;n.sendRequest({url:"SwitchAccount",success:function(){e.app.router.redirect(e.app.makeUrl("home"))}})}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(766),i(844),i(845);var t=i(26),n=i(846),r=i(847),o=i(848),s=i(849),a=i(643),l=i(850),c=i(837),u=i(556),d=i(653),h=i(642),p=i(851),f=i(840),g=i(657),v=i(656),m=i(565);e.exports=u.extend({name:"UserBar",el:!1,showPlansMenu:!0,showBalance:!0,reverseButtons:!0,whiteUserBox:!1,isUserBoxHoverable:!1,shouldShowAuthModal:!0,showSignUpButton:!0,showSignInButton:!0,showAffiliateSignInButton:!1,events:{"click ._user-box":"toggleUserMenuToolTip","click ._sign-up":"onSignUpClick","click ._btn-sign-in":"onSingInClick","click ._products":"toggleProductsToolTip","click ._trial-promotion-link":"handleTrialPromotionLinkClick","click ._upgrade-link":"handleUpgradeLinkClick"},additionalClassNames:"",singUpButtonClassNames:"button-pill",singInButtonClassNames:"button-pill",initialize:function(){!this.app.user.isEnterpriseAdvanced()&&this.app.store.get("CartIndicator")&&this.setView("._shopping-cart-indicator",new c({app:this.app})),this.trialPlanPromotionModel=this.app.store.get("TrialPlanPromotion"),this.listenTo(this.app.user,"change:id",this.render),this.listenTo(this.app.user.avatar,"change",this.render),this.hasTemplate={}.hasOwnProperty.call(this,"template"),this.hasTemplateAmp={}.hasOwnProperty.call(this,"amp")},prepareRender:function(){this.app.user.isLoggedIn()&&(this.app.user.isEnterpriseAdvanced()?this.setView("._team-balance",new f({app:this.app,teamBalance:this.app.user.get("enterprise").balance})):(this.isUserBalanceVisible()&&!this.app.user.hasPlans()&&this.setView("._balance",new h({balance:this.app.user.get("balance")})),this.setView("._refilled-balance",new p({app:this.app})))),this.hasTemplate||(this.template=this.app.user.isLoggedIn()?n:o),this.hasTemplateAmp||(this.amp=this.app.user.isLoggedIn()?r:s)},serialize:function(){return{user:this.app.user.serialize(),avatars:this.app.user.avatar.toJSON(),hasPlans:this.app.user.hasPlans(),canViewBalance:this.isBalanceVisible(),hasTeamBalance:this.app.user.hasTeamBalance(),signupLink:this.makeSignUpLink(),signupAffiliateLink:this.app.makeUrl("affiliateProgram"),loginLink:this.makeSignInLink(),showSignUpButton:this.showSignUpButton,showSignInButton:this.showSignInButton,showAffiliateSignInButton:this.showAffiliateSignInButton,showPlansMenu:this.showPlansMenu&&!this.app.user.isEnterpriseAdvanced(),reverseButtons:this.reverseButtons,whiteUserBox:this.whiteUserBox,isUserBoxHoverable:this.isUserBoxHoverable,singUpButtonClassNames:this.singUpButtonClassNames,singInButtonClassNames:this.singInButtonClassNames,additionalClassNames:this.additionalClassNames,plansPromoText:this.getPlansPromoText(),plansMenuTemplate:this.getPlansMenuTemplate(),trialPlanData:this.getTrialPlanData(),upgradeLinkData:this.getUpgradeLinkData()}},clientAfterRender:function(){var e=this;this.app.user.isLoggedIn()&&this.clientAfterRenderForAuth(),m(this.$el,t.$),this.$el.find("._avatar-image").on("error",(function(t){t.currentTarget.src=e.app.user.avatar.constructor.prototype.defaults.default}))},getPlansPromoText:function(){var e=this.app.store.get("PlansMenuBanner");if(!e)return"";var t={ChristmasOndemand:70,ChristmasOndemandLight:70,ChristmasSubscriptionMonthToYearUpgrade:50,ChristmasSubscriptionYear:30}[e.get("name")];return t?this.tr("Save %s%%",t):""},shouldShowMarketingOffersTemplate:function(){var e=this.app.store.get("UserPairOfOffers");return!(!e||!e.hasPair())},getPlansMenuTemplate:function(){return this.trialPlanPromotionModel.get("active")?"TrialPlanPromotion":this.shouldShowMarketingOffersTemplate()?"MarketingOffers":this.app.user.hasPlans()?"PlansTemplate":+this.app.user.get("balance")<=0?"NoPlansTemplate":"BalanceTemplate"},getUpgradeLinkData:function(){var e=this.app.store.get("UserPairOfOffers");return e&&e.hasPair()?{url:e.getYearlyOffer().makeUrl(),text:this.app.tr("SAVE %s%%",e.getSavingInPercentage())}:null},getTrialPlanData:function(){var e=this.trialPlanPromotionModel.get("offer");return e.hasTrial()?{period:e.get("trial").get("period"),url:e.makeTrialPlanUrl()}:{}},makeSignUpLink:function(){return this.app.makeUrl("signup",{backURL:!0})},makeSignInLink:function(){return this.app.makeUrl("login",{backURL:!0})},isBalanceVisible:function(){var e=this.app.user;return!(!this.showBalance||!e.isEnterpriseAdvanced())&&(!e.get("enterprise").hideBalance||e.isEnterpriseAdmin()||e.hasPermissionsToBilling())},clientAfterRenderForAuth:function(){var e=this;this.setView("userMenuTooltip",new g({app:this.app,menuTemplate:this.app.user.isEnterprise()?l:a})),this.setView("userPlansTooltip",new v({app:this.app,getContentView:function(){return new d({app:e.app,plans:e.app.user,linksEnabled:!0,canShowRebillDiscount:!0,showBalance:e.isUserBalanceVisible()&&e.app.user.hasPlans()})}}))},isUserBalanceVisible:function(){return this.app.user.get("balance")>0||"approved"===this.app.user.get("examinationStatus")},handleTrialPromotionLinkClick:function(){this.app.observer.broadcast("Track:UE:HeaderPlansButton:Click",{label:"Trial"})},handleUpgradeLinkClick:function(){this.app.observer.broadcast("Track:UE:UpgradeButton:Click",{offer:this.app.store.get("UserPairOfOffers").getYearlyOffer()})},onSingInClick:function(e){this.shouldShowAuthModal&&(e.stopPropagation(),e.preventDefault(),this.app.store.get("ModalsManager").show("LoginModal",{app:this.app,single:!0}))},toggleUserMenuToolTip:function(e){e.preventDefault(),this.getView("userMenuTooltip").toggle(e)},toggleProductsToolTip:function(e){e.preventDefault(),this.getView("userPlansTooltip").toggle(e)},onSignUpClick:function(e){var t=this;this.shouldShowAuthModal&&(e.preventDefault(),e.stopPropagation(),this.app.store.get("ModalsManager").show("SignupModal",{app:this.app,single:!0}).then((function(){return t.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:t.name})})).catch((function(){})))}})}))},function(e,t,i){},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="auth-box '+t(e.additionalClassNames)+'">';return e.canViewBalance?i+='<span class="user-bar-item-wrap _team-balance"></span>':e.showPlansMenu&&(e.user.balanceRefilled&&(i+='<span class="user-bar-item-wrap _refilled-balance refilled-balance"></span>'),"PlansTemplate"===e.plansMenuTemplate?(i+='<a class="user-bar-item user-bar-item_hover plans-box _products" href="'+this.app.makeUrl("subscribe")+'"><i class="user-bar-item__icon icon icon-three-points"><i class="icon icon-point"></i><i class="icon icon-point"></i><i class="icon icon-point"></i></i><span class="user-bar-item__box">',e.plansPromoText&&(i+='<span class="user-bar-item__text promo-bar">'+e.plansPromoText+"</span>"),i+='<span class="user-bar-item__text">'+this.tr("Active<br />Plans")+'</span></span><i class="user-bar-item__arrow arrow arrow-bottom"></i></a>'):"MarketingOffers"===e.plansMenuTemplate?(i+='<div class="marketing-offers">',e.upgradeLinkData&&(i+='<a href="'+t(e.upgradeLinkData.url)+'" class="marketing-offers__item marketing-offers__item_link _upgrade-link">'+e.upgradeLinkData.text+"</a>"),i+='</div><a class="user-bar-item user-bar-item_hover plans-box _products" href="'+this.app.makeUrl("subscribe")+'"><i class="user-bar-item__icon icon icon-three-points"><i class="icon icon-point"></i><i class="icon icon-point"></i><i class="icon icon-point"></i></i><span class="user-bar-item__box">',e.plansPromoText&&(i+='<span class="user-bar-item__text promo-bar">'+e.plansPromoText+"</span>"),i+='<span class="user-bar-item__text">'+this.tr("Active<br />Plans")+'</span></span><i class="user-bar-item__arrow arrow arrow-bottom"></i></a>'):"NoPlansTemplate"===e.plansMenuTemplate?(i+='<a class="user-bar-item user-bar-item_hover no-plans-box" href="'+this.app.makeUrl("subscribe")+'"><span class="user-bar-item__box"><span class="user-bar-item__text">'+this.tr("You don't have any plans.")+'</span><span class="user-bar-item__text">'+this.tr("Choose now!")+"</span>",e.plansPromoText&&(i+='<span class="user-bar-item__text promo-bar">'+e.plansPromoText+"</span>"),i+="</span></a>"):"BalanceTemplate"===e.plansMenuTemplate?i+='<span class="user-bar-item-wrap _balance"></span>':"TrialPlanPromotion"===e.plansMenuTemplate&&(i+='<a class="user-bar-item user-bar-item_hover user-bar-item_trial-promotion _trial-promotion-link" href="'+e.trialPlanData.url+'"><strong class="user-bar-item__offer">'+this.tr("%s DAYS<br />FREE!",e.trialPlanData.period)+'</strong><strong class="user-bar-item__offer-text">'+this.tr("Try Flexible Plan")+"</strong></a>")),i+='<span class="user-bar-item-wrap _shopping-cart-indicator"></span><div class="user-box ',e.whiteUserBox&&(i+="user-box_white "),e.isUserBoxHoverable&&(i+="user-box_hoverable "),i+='_user-box"><span class="user-box__avatar avatar-box avatar-box-m"><img class="avatar avatar-m _avatar-image" src="'+e.avatars.default+'" /></span><i class="user-box__arrow arrow ',e.whiteUserBox&&(i+="arrow-white "),i+='arrow-bottom"></i></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="auth-box">';return e.canViewBalance?i+='<span class="user-bar-item-wrap _team-balance"></span>':e.showPlansMenu&&(e.user.balanceRefilled&&(i+='<span class="user-bar-item-wrap _refilled-balance refilled-balance"></span>'),+e.user.balance<=0||e.hasPlans?e.hasPlans?i+='<a class="user-bar-item user-bar-item_hover plans-box _products" href="'+this.app.makeUrl("subscribe")+'"><i class="user-bar-item__icon icon icon-three-points"><i class="icon icon-point"></i><i class="icon icon-point"></i><i class="icon icon-point"></i></i><span class="user-bar-item__box"><span class="user-bar-item__text">'+this.tr("Active<br />Plans")+'</span></span><i class="user-bar-item__arrow arrow arrow-bottom"></i></a>':i+='<a class="user-bar-item user-bar-item_hover no-plans-box" href="'+this.app.makeUrl("subscribe")+'"><span class="user-bar-item__box"><span class="user-bar-item__text">'+this.tr("You don't have any plans.")+'</span><span class="user-bar-item__text">'+this.tr("Choose now!")+"</span></span></a>":i+='<span class="user-bar-item-wrap _balance"></span>'),i+='<span class="user-bar-item-wrap _shopping-cart-indicator"></span><div class="user-box ',e.whiteUserBox&&(i+="user-box_white "),e.isUserBoxHoverable&&(i+="user-box_hoverable "),i+='_user-box"><span class="user-box__avatar avatar-box avatar-box-m"><amp-img class="avatar avatar-m _avatar-image" src="'+e.avatars.default+'" width="33" height="33" /></span><span class="user-box__username">',e.user.username?i+=""+t(e.user.username):e.user.email&&(i+=""+t(e.user.email)),i+='</span><i class="user-box__arrow arrow ',e.whiteUserBox&&(i+="arrow-white "),i+='arrow-bottom"></i></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="not-auth-box"><span class="header__cart-box _shopping-cart-indicator"></span>';return(e.showSignUpButton||e.showSignInButton)&&(i+='<noindex><ul class="header__list">',e.reverseButtons||(e.showSignUpButton&&!e.showAffiliateSignInButton&&(i+='<li class="header__list-item"><a class="not-auth-box__btn not-auth-box__btn_sign-up button button-xl button-blue '+t(e.singUpButtonClassNames)+' _sign-up" href="'+e.signupLink+'" rel="nofollow">'+this.tr("Register an Account")+"</a></li>"),e.showAffiliateSignInButton&&(i+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-pill button-bold button-blue '+t(e.singInButtonClassNames)+'" href="'+e.signupAffiliateLink+'">'+this.tr("Sign in with affiliate account")+"</a></li>")),e.showSignInButton&&(i+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-white '+t(e.singInButtonClassNames)+' _btn-sign-in" href="'+e.loginLink+'" rel="nofollow">'+this.tr("Sign In")+"</a></li>"),e.reverseButtons&&e.showSignUpButton&&(i+='<li class="header__list-item"><a class="not-auth-box__btn not-auth-box__btn_sign-up button button-xl button-blue '+t(e.singUpButtonClassNames)+' _sign-up" href="'+e.signupLink+'" rel="nofollow">'+this.tr("Register an Account")+"</a></li>"),i+="</ul></noindex>"),i+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="not-auth-box"><span class="header__cart-box _shopping-cart-indicator"></span>';return(e.showSignUpButton||e.showSignInButton)&&(i+='<ul class="header__list header__list_horizontal">',e.reverseButtons||(e.showSignUpButton&&!e.showAffiliateSignInButton&&(i+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-blue '+t(e.singUpButtonClassNames)+' _sign-up" href="'+e.signupLink+'" rel="nofollow">'+this.tr("Register an Account")+"</a></li>"),e.showAffiliateSignInButton&&(i+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-pill button-bold button-blue '+t(e.singInButtonClassNames)+'" href="'+e.signupAffiliateLink+'">'+this.tr("Sign in with affiliate account")+"</a></li>")),e.showSignInButton&&(i+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-white '+t(e.singInButtonClassNames)+' _btn-sign-in" href="'+e.loginLink+'" rel="nofollow">'+this.tr("Sign In")+"</a></li>"),e.reverseButtons&&e.showSignUpButton&&(i+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-blue '+t(e.singUpButtonClassNames)+' _sign-up" href="'+e.signupLink+'" rel="nofollow">'+this.tr("Register an Account")+"</a></li>"),i+="</ul>"),i+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="user-menu"><a class="user-menu__header" href="'+e.menuLinks.profile+'"><span class="user-menu__avatar avatar-box avatar-box_grey avatar-box-l">';return e.avatarExists&&(i+='<img class="avatar avatar-l" src="'+e.avatars.big+'">'),i+='<i class="avatar-box__letter" data-user-placeholder="'+t(e.login[0])+'"></i></span><span class="user-menu__title">'+t(e.login)+'</span></a><menu class="user-menu__content">',e.accountSwitcher&&(i+='<li class="user-menu__item user-menu__item_separated"><a class="user-menu__link _user-switch-account"><i class="user-menu__icon icon icon-user-menu-switch"></i>'+this.tr("Switch to Regular Site")+"</a></li>"),i+='<li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.enterpriseDownloads+'"><i class="user-menu__icon icon icon-user-menu-downloads"></i>'+this.tr("Downloaded Files")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.favorites+'"><i class="user-menu__icon icon icon-user-menu-favorites"></i>'+this.tr("Favorites")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.profile+'"><i class="user-menu__icon icon icon-user-menu-profile"></i>'+this.tr("My Profile")+'</a></li></menu><a class="user-menu__logout _user-logout" href="'+e.menuLinks.logout+'">'+this.tr("Log Out")+"</a></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(852),n=i(556);e.exports=n.extend({name:"BalanceRefilled",el:!1,template:t,balanceRefilled:0,prepareRender:function(){return this.isUserRefilledBalanceVisible()},isUserRefilledBalanceVisible:function(){return this.app.user.get("balanceRefilled")>0},serialize:function(){return{balanceRefilled:this.app.user.get("balanceRefilled").toFixed(2)}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<span class="user-bar-item user-bar-item-balance balance-box"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-balance"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-balance-hover"></i><span class="user-bar-item__text">$'+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}())(e.balanceRefilled)+"</span></span></span>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var r=i(0),o=i(155).create,s=i(556),a=i(646),l=i(15).prefixedArrayString;e.exports=s.extend({name:"SearchTypes",el:!1,collection:null,events:{"change ._search-type":"onTypeChange","click ._active-type":"onActiveTypeClick"},globals:{"scroll window":"onWindowScroll"},initialize:function(){this.prepareTypes(),this.listenTo(this.model,l("change:",this.model.mutable.type),this.onModelTypeChange),this.listenTo(this.app.observer,"Responsive:CloseMobileMenu",this.observeCloseMobileMenu.bind(this)),this.listenTo(this.app.observer,"SearchFilter:ResetType",this.setTypeFilterRestriction.bind(this)),this.listenTo(this.app.observer,"Modal:HideAll",this.toggle.bind(this,!1))},serialize:function(){var e=this.getActiveOption();return{options:this.typeOptions,label:e.label,icon:e.icon}},prepareTypes:function(){var e=this,i=o(this.app);this.typeOptions=i.filter((function(t){return e.getTypeNames(t.patch).every((function(t){return e.model.getRestrictions().get(t)}))})).map((function(i){return t({},i,{active:Object.entries(i.patch).every((function(t){var i=t[0],n=t[1];return e.model.get(i)===n}))})})),this.typeOptions.find((function(e){return e.active}))||(this.typeOptions[0].active=!0)},getActiveOption:function(){return r.findWhere(this.typeOptions,{active:!0})},onTypeChange:function(e){var t=this.getActiveOption(),i=e.target.value;t.id!==i&&(t.active=!1,(t=r.findWhere(this.typeOptions,{id:i})).active=!0,this.render(),this.setTypeFilterRestriction(),this.app.observer.broadcast("Track:UE:SearchTypes:Change",{type:t}),this.onSearchTypesChangeCallback(t.patch))},getTypeNames:function(e){return Object.entries(e).filter((function(e){e[0];return e[1]})).map((function(e){return e[0]}))},onActiveTypeClick:function(e){e.stopPropagation(),this.toggle(!1)},onModelTypeChange:function(){this.prepareTypes(),this.render()},onWindowScroll:r.throttle((function(){n.browser&&a.mobileMode()&&this.isOpen()&&this.toggle(!1)}),10),toggle:function(e){void 0===e&&(e=!this.isOpen());var t=e?!this.isOpen():!!e;a.mobileMode()&&e&&this.app.observer.fire("Responsive:CloseMobileMenu",{cid:this.cid}),this.$(".search-bar-type__menu").toggleClass("search-bar-type__menu_opened",t),this.$(".search-bar-type-indicator__arrow").removeClass("arrow-top arrow-bottom").addClass("arrow-"+(t?"top":"bottom"))},isOpen:function(){return this.$(".search-bar-type__menu").hasClass("search-bar-type__menu_opened")},setTypeFilterRestriction:function(){this.app.userSettings.set({searchSession:{route:this.app.router.routeName,params:{typeFilterRestriction:1}}})},observeCloseMobileMenu:function(e){e.cid!==this.cid&&this.toggle(!1)},onSearchTypesChangeCallback:r.noop})}))}).call(this,i(23))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(34);e.exports=n.extend({url:"SearchHints",initialize:function(e,t){t&&t.url&&(this.url=t.url)},parse:function(e,i){var n=this.getQueryParams?t.result(this,"getQueryParams").requestId:void 0;return i.requestId===n&&e.hints||[]},isBulkAllowed:function(){return!1}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return"<div>"+this.tr("Try our new Search by Image!")+"</div>"}})?n.apply(t,r):n)||(e.exports=o)},,,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(860);var t=i(0),n=i(26),r=i(556),o=i(15).classNames;e.exports=r.extend({name:"SearchHints",el:!1,type:"search",query:"",customWidth:!1,customCssClass:"",showSubstr:!0,animationSpeed:{show:100,hide:100},delay:{show:200,hide:250},requestId:0,valuesSchema:{search:"value",seller:"phrase",gplace:"name"},shift:{top:0,left:0,width:0},events:{"mousedown ._hint":"onHintAction","mousemove ._hint":"onHintAction"},globals:{"resize window":"onWindowResize"},initialize:function(){this.listenTo(this.collection,"reset",this.onCollectionReset),this.listenTo(this.app.observer,{"Modal:HideAll":this.hide,"Responsive:CloseHints":this.hide})},serialize:function(){var e=this,t=this.query.replace(/\s+/g," "),i=this.collection.toJSON();if(this.showSubstr){var n=t.length-(" "===t.charAt(t.length-1)?1:0);i.map((function(t){return t.cutValue=t[e.valuesSchema[e.type]].substr(n),t}))}return{items:i,query:t,classes:o({"search-hints":!0,"search-hints_static":this.isStatic,hidden:!i.length})}},clientAfterRender:function(){this.place(),this.collection.length&&!this.opened&&(this.$el.appendTo(n.$("._portal")).hide(),this.$el.fadeIn(this.animationSpeed.show)),this.$el.addClass(this.customCssClass),this.opened=!0},place:function(){if(this.anchor){var e=this.calculateStyles(this.anchor);if(e.width&&this.el.firstChild){var t=this.el;t&&(t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px")}}},load:function(e){this.query=e,e.length?(this.requestId+=1,this.collection.getQueryParams={query:e,lang:"en",requestId:this.requestId},this.collection.fetch({reset:!0,requestId:this.requestId})):this.reset()},onCollectionReset:function(){this.opened=!1;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this[this.collection.length?"show":"hide"](t)},onWindowResize:t.throttle((function(){this.place()}),10),show:function(e){var t=e[1];t.requestId&&t.requestId!==this.requestId||this.render()},hide:function(){var e=this;this.$el.fadeOut(this.animationSpeed.hide,(function(){e.$el.remove()}))},reset:function(){this.requestId=0,this.collection.reset([])},calculateStyles:function(e){return{top:e.getBoundingClientRect().top+n.$(e).outerHeight()+this.shift.top+(n.$(window).scrollTop()-parseInt(window.getComputedStyle(e).borderBottomWidth,10))-(this.isFixed?window.scrollY:0),left:e.getBoundingClientRect().left+this.shift.left,width:this.customWidth?this.customWidth:e.clientWidth+this.shift.width}},moveSelection:function(e){var t;if(this.collection.length){switch(e){case 1:t=this.getNextSelectedIndex();break;case-1:t=this.getPreviousSelectedIndex()}this.setSelectionClasses(t),this.setSelected(t)}},setAnchor:function(e){this.anchor=e},setSelected:function(e){var t=this.getSelectedItem();t&&t.set({selected:!1});var i=this.collection.at(e);i&&i.set({selected:!0}),this.onHintSelectCallback(this.getSelectedItemValue())},setSelectionClasses:function(e){this.$(".hint_active").removeClass("hint_active"),this.$("._hint").eq(e).addClass("hint_active")},onHintAction:function(e){var t=this.collection.indexOf(this.getItemByValue(n.$(e.currentTarget).data("value")));this.setSelectionClasses(t),"mousedown"===e.type&&(this.setSelected(t),this.onHintMouseDownCallback(this.getSelectedItemValue()))},getSelectedItemValue:function(){var e=this.getSelectedItem();return e?e.get(this.valuesSchema[this.type]):""},getItemByValue:function(e){var t={};return t[this.valuesSchema[this.type]]=e,this.collection.findWhere(t)},getNextSelectedIndex:function(){var e=this.getSelectedItemIndex();return(e=e+1||0)>=this.collection.length&&(e=0),e},getPreviousSelectedIndex:function(){var e=this.getSelectedItemIndex();return(e-=1)<0&&(e=this.collection.length-1),e},getSelectedItem:function(){return this.collection.findWhere({selected:!0})},getSelectedItemIndex:function(){return this.collection.indexOf(this.getSelectedItem())},onHintSelectCallback:function(){},onHintMouseDownCallback:function(){}})}))},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),r=i(51),o=i(949),s=i(955),a=i(942),l=i(956),c=i(957),u=i(958),d=o.prototype,h=(d.constructor,function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(d,["constructor"])),p=r.extend(h).extend(t({},l,{url:"File",defaults:t({},o.prototype.defaults,{blocked:!1,published:null,buffs:[],inCart:!1,inFavorites:!1,free:!1,discount:0,purchased:[],licensed:[],editorial:!1,nudity:null,mp:"",ar:"",fps:null,length:null,sellerName:"",avatar:null,level:null,views:null,url:null,title:"",localizedTitles:{},description:"",alt:"",categories:[],tags:[],shortTags:[],restrictions:{},lightfield:!1,hideActions:null,crelloTemplateThumb:""}),relations:{restrictions:s},parseFromFile:function(e){return e&&e.result&&e.result[0]?e.result[0]:{}},parseFromSearch:function(e){return e||{}},parseFromCollection:function(e){return e&&(e.url=this.makeFavoritesUrl(e),e.title=e.favoriteTitle,e.hideActions=!0),e||{}},parse:function(e,t){void 0===t&&(t={});var i=this[t.parser],r="function"==typeof i?i.call(this,e,t):e,o=this.getErrors(r,e);if(Object.keys(o).length)return this.validationError=o,this.trigger("invalid",this,o,{validationError:o}),{};var s=n.pick(r,Object.keys(this.defaults));return s.type=this.parseFileType(r.type),s.published=1e3*r.uploadTimestamp,s.title=r.title||r.description,s.alt=r.alt||s.title,s.purchased=function(e){var t=e&&e.purchase_info?e.purchase_info.purchased:[];return Object.values(t).map((function(e){return{size:"object"==typeof e?e.size:e,data:"object"==typeof e?e.data:{}}}))}(r),s.discount=function(e){return e.discount?e.discount:e.purchase_info&&e.purchase_info.lightbox_discount?parseInt(e.purchase_info.lightbox_discount,10):0}(r),s.free=100===s.discount,s.licensed=r.licensed||[],s.crelloTemplateThumb=r.crello_template,s},getQueryParams:function(){return n.pick(this.attributes,Object.keys(this.defaults))},parseRelated:function(e,t){return this.parseFromFile(t)[{models:"same_model",similar:"similar",series:"series",portfolio:"portfolio"}[e]]||[]},getFreeInfo:function(){return this.get("free")||this.isFreeLicenseAvailable()?{freeLabel:"Free"}:{}},isFreeLicenseAvailable:function(){var e=this.app.licensor.getUserLicenses().find((function(e){return"attributed_free"===e.name}));return e&&e.bit&this.get("licenseMask")},isFreeCurated:function(){if(!this.get("buffs"))return!1;var e=this.get("buffs").find((function(e){return"curated"===e.name}));return e&&100===e.options.discount},getRestrictions:function(e){var t=this.get("restrictions");if(!t)return[];var i=t.get(e);return Array.isArray(i)?i:[]},makeFavoritesUrl:function(e){return this.app.makeUrl({route:"Folder",folderName:e.favoriteName,folderId:e.favoriteId},{absolute:!0})},makeRelatedUrl:function(e,t){var i=e.offset,n=e.sorting,r=e.relatedTo;switch(r){case"portfolio":return this.app.makeUrl({route:"Search",seller:this.get("sellerId"),offset:i,sorting:n});case"series":r="serie";break;case"similar":r={image:"similar-images",vector:"similar-vectors",video:"similar-videos"}[this.get("type")]}return this.app.makeUrl({route:"Related",relatedItemId:this.get("id"),relatedTo:r,offset:i,sorting:n},{absolute:t})},makeSizeLabel:function(e){return a.makeSizeLabel(this.attributes,e,this.toJSON())},getPurchase:function(e){return this.get("purchased").find((function(t){return t.size===e}))},setPurchase:function(e,t){var i=this.getPurchase(e);return i||(i={size:e,data:t||{}},this.set("purchased",[].concat(this.get("purchased"),[i]))),i},isBannedForCountry:function(){return this.getRestrictions("countries").includes(this.app.getCurrentCountryCode())},isPurchased:function(e){return!!this.getPurchase(e)},isLicensed:function(e){var t=this.app.licensor.getConfig().sizes;return this.get("licensed").some((function(i){return i.sizes&t[e]}))},isAvailableEnterpriseOnly:function(){return 2===this.get("permissionMask")},isFree:function(){return this.get("free")},isEditorial:function(){return this.get("editorial")},isFreeForSize:function(e){return this.isFree()&&"el0"!==e}})),f=c({getThumbSource:function(e){return e.get("thumbSource")},getSellerId:function(e){return e.get("sellerId")},getFilename:function(e){return e.get("filename")}}),g=u();e.exports=p.extend({defaults:t({},p.prototype.defaults,f.defaults),initialize:function(){p.prototype.initialize.call(this),g.initialize.call(this),f.initialize.call(this)},getVideoThumbs:function(e){if(this.isVideo())return g.getVideoThumbs.call(this,e);throw new Error("Method available only for video files")},makeUrl:function(e,t){return this.isAudio()?f.makeUrl.call(this,e,t):p.prototype.makeUrl.call(this,e,t)},makeThumb:function(e){return this.isAudio()?f.makeThumb.call(this,e):p.prototype.makeThumb.call(this,e)},makeThumbDownloadUrl:function(){if(this.isAudio())return f.makeThumbDownloadUrl.call(this);throw new Error("Method available only for audio files")},fetchPeaks:function(){if(this.isAudio())return f.fetchPeaks.call(this);throw new Error("Method available only for audio files")}})}))},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var i={photo:"stock-photo",vector:"stock-illustration",video:"stock-video"},n={ru:{photo:"стоковое-фото",vector:"векторное-изображение",video:"стоковое-видео"}},r={ru:{photo:"image",vector:"vector",video:"video"}},o=function(e,t,i){var n=e.features.getValueObject("FileName type translations")[i];return n&&Array.isArray(n)&&n.includes(t.type)},s=function(e){return void 0===e&&(e={}),i[e.type]},a=function(e,t){void 0===e&&(e={});var i=n[t];return i&&i[e.type]||null},l=function(e,t,i){void 0===t&&(t={});var n=void 0===i?{}:i,r=n.lang,l=n.thumb,c=void 0!==l&&l,u=t.filename||"";if(!e)return u;var d=r||e.lang;if(!o(e,t,d))return u;var h=(t.localizedTitles&&t.localizedTitles[d]||t.title).toLowerCase().replace(/[^а-яa-z0-9]/g,"-").replace(/[-]+/g,"-").replace(/^-+|-+$/g,"").split("-").slice(0,5).join("-")||"empty",p=c?s(t):a(t,d);return p&&(h=p+"-"+h),h};e.exports={prepareFilename:l,prepareThumbFilename:function(e,i,n){return void 0===i&&(i={}),void 0===n&&(n={}),l(e,i,t({},n,{thumb:!0}))},prepareFileEnding:function(e,t,i){void 0===t&&(t={});var n=(void 0===i?{}:i).lang,s="";if(!e)return s;var a=n||e.lang;if(!o(e,t,a))return s;s=""+t.id;var l=r[a];return l&&l[t.type]&&(s=""+l[t.type]+s),"-"+s}}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),r=i(92),o=i(65).getCategory,s=i(159).getFilter,a=i(6),l=i(864),c=i(15),u=i(19),d=i(739),h=d.isAllTypeApplied,p=d.isPhotoTypeApplied,f=d.isVectorTypeApplied,g=d.isVideoTypeApplied,v=d.isIllustrationTypeApplied,m=d.isCrelloTemplateTypeApplied,b=d.isAudioTypeApplied,y=function(e){var t=e.category,i=e.query;return t&&!i},_=function(e){var t=e.seller;return t&&t.length>0},w=["seamless_only","seamless_exclude","painting_only","painting_exclude","drawing_only","drawing_exclude","watercolor_only","watercolor_exclude","cartoon_only","cartoon_exclude"],x=function(e,t){var i=t.attributes;return i.query?r.defaults.sorting:y(i)?r.categoryDefaults.sorting:_(i)?r.portfolioDefaults.sorting:e.router.routeParams&&e.router.routeParams.sorting?e.router.routeParams.sorting:r.defaults.sorting},T=function(e){if(!e)return null;var t=Object.keys(e).reduce((function(t,i){return["search_params","refine_search"].includes(i)&&(t.search_params=e[i]),t}),{});return Object.keys(t).length?t:null},k=a.extend({isBulkAllowed:function(){return!1},defaults:r.defaults,validation:r.validation,mutable:{query:["query"],seller:["seller"],type:["photo","vector","video","illustration","crelloTemplate","audio"],editorial:["editorial_only","editorial_exclude"],people:["mr_property_only","mr_property_exclude","mr_release_quantity","anonymous","gender","age","race"],isolated:["isolated_only","isolated_exclude"],render:["render_only","render_exclude"],seamless:["seamless_only","seamless_exclude"],painting:["painting_only","painting_exclude"],drawing:["drawing_only","drawing_exclude"],watercolor:["watercolor_only","watercolor_exclude"],cartoon:["cartoon_only","cartoon_exclude"],length:["lengthStart","lengthEnd"]},serviceFields:["hash","query","photo","vector","video","illustration","nudity","sorting","crelloTemplate","correction","itemPermission","rawSearchParams","metaScope","effectiveParams","slicesInfo","experiments","searchDataList","typeFilterRestriction","audio","audioType"],filterFields:["category","seller","exclude_keywords","orientation","editorial_only","editorial_exclude","mr_release_quantity","mr_property_only","mr_property_exclude","gender","age","race","color","dataSource","advanced","anonymous","isolated_only","isolated_exclude","render_only","render_exclude","season","day_time","country","crelloTemplateFormat","genres","instruments","moods","soundEffects","audioType","lengthStart","lengthEnd"].concat(w),resetValues:[{triggers:["query"],field:"sorting",values:[r.premiumSorting],defaultValue:"best_match"}],initialize:function(){this.searchRestrictions=new l(this.app.user.get("searchVisibility"),{app:this.app}),this.updateSearchQueryDefaults(),this.listenTo(this.searchRestrictions,"change",this.updateSearchQueryDefaults),this.on("change",this.onChange),this.on(c.prefixedArrayString("change:",this.mutable.type),this.mutateType),this.on(c.prefixedArrayString("change:",this.mutable.editorial),this.mutateEditorial),this.on(c.prefixedArrayString("change:",this.mutable.people),this.mutatePeople),this.on(c.prefixedArrayString("change:",this.mutable.isolated),this.mutateIsolated),this.on(c.prefixedArrayString("change:",this.mutable.render),this.mutateRender),this.on(c.prefixedArrayString("change:",this.mutable.seamless),this.mutateSeamless),this.on(c.prefixedArrayString("change:",this.mutable.painting),this.mutatePainting),this.on(c.prefixedArrayString("change:",this.mutable.drawing),this.mutateDrawing),this.on(c.prefixedArrayString("change:",this.mutable.watercolor),this.mutateWatercolor),this.on(c.prefixedArrayString("change:",this.mutable.cartoon),this.mutateCartoon),this.on("change:dataSource",this.mutateCorrection),this.on("change:audioType",this.mutateAudioType)},updateSearchQueryDefaults:function(){this.secureSet(this.searchRestrictions.filterSearchAttributes(this.toJSON()))},getMetaScope:function(){var e=this.get("metaScope");return!e&&this.app.queryParams&&{}.hasOwnProperty.call(this.app.queryParams,"meta_scope")&&(e=this.app.queryParams.meta_scope),e},getRestrictions:function(){return this.searchRestrictions},getQueryParams:function(){return n.extend(n.clone(this.attributes),{metaScope:this.getMetaScope(),requestBack:!0})},onChange:function(){var e=this,t=n.omit(this.changed,["hash"]);if(!n.isEmpty(t)){var i={};n.isEmpty(t)||(i.hash=void 0),this.resetValues.length&&n.each(this.resetValues,(function(r){n.intersection(n.keys(t),r.triggers).length&&-1!==r.values.indexOf(e.get(r.field))&&(i[r.field]=r.defaultValue)}));var r=this.app.userSettings.get("searchSession");r&&"Search"===this.app.router.routeName&&Object.assign(i,r.params),this.set(i,{silent:!0})}},mutateAudioType:function(){this.resetToDefaults(["genres","instruments","moods","soundEffects","lengthStart","lengthEnd"],{silent:!0})},mutateCorrection:function(e){var t=r.getDataSourceSets(this.app);if(t&&null!=t.correction){var i={};r.parseDataHandlers.correction(t.correction,i),e.attributes.correction=i.correction}},mutateType:function(e){var t=function(t){return t.forEach((function(t){e.attributes[t]=e.defaults[t]}))},i=["orientation","advanced","season","day_time","country"],n=["resolution","render_only"].concat(this.mutable.people,["season","day_time","render_exclude"]),r=["render_only","render_exclude","advanced","resolution","country"].concat(this.mutable.people);this.app.features.isFeatureOnValue("New video filters")||i.push("render_only","render_exclude");var o=this.filterFields.filter((function(e){return"seller"!==e}));b(e)&&t(o),g(e)&&t(i),(p(e)||h(e))&&t(["resolution","render_only"]),f(e)&&t(n),v(e)?t(r):t(w),m(e)&&t([])},mutateIsolated:function(e){e.changed.isolated_only&&(e.attributes.isolated_exclude=!1),e.changed.isolated_exclude&&(e.attributes.isolated_only=!1)},mutateRender:function(e){e.changed.render_only&&(e.attributes.render_exclude=!1),e.changed.render_exclude&&(e.attributes.render_only=!1)},mutateEditorial:function(e){e.changed.editorial_only&&(e.attributes.editorial_exclude=!1),e.changed.editorial_exclude&&(e.attributes.editorial_only=!1)},mutateSeamless:function(e){e.changed.seamless_only&&(e.attributes.seamless_exclude=!1),e.changed.seamless_exclude&&(e.attributes.seamless_only=!1)},mutatePainting:function(e){e.changed.painting_only&&(e.attributes.painting_exclude=!1),e.changed.painting_exclude&&(e.attributes.painting_only=!1)},mutateDrawing:function(e){e.changed.drawing_only&&(e.attributes.drawing_exclude=!1),e.changed.drawing_exclude&&(e.attributes.drawing_only=!1)},mutateWatercolor:function(e){e.changed.watercolor_only&&(e.attributes.watercolor_exclude=!1),e.changed.watercolor_exclude&&(e.attributes.watercolor_only=!1)},mutateCartoon:function(e){e.changed.cartoon_only&&(e.attributes.cartoon_exclude=!1),e.changed.cartoon_exclude&&(e.attributes.cartoon_only=!1)},mutatePeople:function(e){e.changed.mr_release_quantity&&this.calculateMutation("mr_release_quantity"),e.changed.mr_property_only&&this.calculateMutation("mr_property_only"),e.changed.mr_property_exclude&&this.calculateMutation("mr_property_exclude"),e.changed.anonymous&&this.calculateMutation("anonymous"),e.changed.gender&&this.calculateMutation("gender"),e.changed.age&&this.calculateMutation("age"),e.changed.race&&this.calculateMutation("race")},calculateMutation:function(e){if(this.attributes.video&&["mr_release_quantity","gender","age","race"].includes(e))return this.attributes.mr_property_only=!0,this.attributes.mr_property_exclude=!1,void(this.attributes.anonymous=!1);switch(e){case"mr_property_only":this.attributes.mr_property_exclude=!1,this.attributes.anonymous=!1;break;case"mr_property_exclude":this.attributes.mr_property_only=!1,this.attributes.anonymous=!1,this.attributes.mr_release_quantity=this.defaults.mr_release_quantity,this.attributes.gender=this.defaults.gender,this.attributes.age=this.defaults.age,this.attributes.race=this.defaults.race;break;case"anonymous":this.attributes.mr_property_exclude=!1,this.attributes.mr_property_only=!1,this.attributes.mr_release_quantity=this.defaults.mr_release_quantity,this.attributes.gender=this.defaults.gender,this.attributes.age=this.defaults.age,this.attributes.race=this.defaults.race}},clearSearchFiltration:function(e){void 0===e&&(e=[]);var t=["dataSource","query","illustration","crelloTemplate","sorting","photo","vector","video","audio","nudity"].concat(e),i=Object.keys(this.defaults).filter((function(e){return!t.includes(e)}));this.resetToDefaults(i)},clearExtendedSearchFiltration:function(){this.resetToDefaults(n.without(n.keys(this.defaults),"dataSource","query","sorting"))},parse:function(e){var t={};return n.each(r.parseDataHandlers,(function(i,r){n.has(e,r)&&i(e[r],t)})),t},isPortfolio:function(){return _(this.attributes)},isCategory:function(){return y(this.attributes)},isNewResults:function(){return"newest"===this.get("sorting")&&!this.get("query")},isFiltered:function(){return Object.keys(n.omit(this.getNonDefaults(),this.serviceFields)).length>0},isAudio:function(){return b(this)},isAudioTypeMusic:function(){return"music"===this.get("audioType")},toQuery:function(e){void 0===e&&(e=this.attributes);var t=[];return n.each(e,(function(e,i){void 0!==e&&""!==e&&t.push(i+"="+u.encodeURIComponent(e))})),t.join("&")},toTracking:function(e){switch(e){case"sorting":var t=s({name:"sortings",id:this.get(e)},{app:this.app});return t&&t.label||this.get(e);case"type":var i="search";return!this.get("photo")||this.get("vector")||this.get("video")?this.get("photo")||!this.get("vector")||this.get("video")?this.get("photo")||this.get("vector")||!this.get("video")||(i="stock-footage"):i="vector-images":i="stock-photos",i;default:return""}},toFlume:function(){return n.pick(this.attributes,"effectiveParams","slicesInfo","experiments","searchDataList")},changedToTracking:function(e,t){var i=this;void 0===e&&(e=!0),void 0===t&&(t=!1);var r={category:{name:"Category",value:function(e){if(0===e)return i.app.tr("All Categories");var t=o({id:e},{app:i.app});return t&&t.name}},color:{name:"Colour",value:function(e){return e?"Yes":"No"}},editorial_exclude:{name:"Exclude Editorial",value:function(e){return e?"On":"Off"}},editorial_only:{name:"Only Editorial",value:function(e){return e?"On":"Off"}},seamless_exclude:{name:"Exclude seamless",value:function(e){return e?"On":"Off"}},seamless_only:{name:"Seamless only",value:function(e){return e?"On":"Off"}},painting_exclude:{name:"Exclude painting",value:function(e){return e?"On":"Off"}},painting_only:{name:"Painting only",value:function(e){return e?"On":"Off"}},drawing_exclude:{name:"Exclude drawing",value:function(e){return e?"On":"Off"}},drawing_only:{name:"Drawing only",value:function(e){return e?"On":"Off"}},watercolor_exclude:{name:"Exclude watercolor",value:function(e){return e?"On":"Off"}},watercolor_only:{name:"Watercolor only",value:function(e){return e?"On":"Off"}},cartoon_exclude:{name:"Exclude cartoon",value:function(e){return e?"On":"Off"}},cartoon_only:{name:"Cartoon only",value:function(e){return e?"On":"Off"}},exclude_keywords:{name:"Exclude Keywords"},orientation:{name:"Orientation",value:function(e){return{all:"All",horizontal:"Horisontal",vertical:"Vertical",square:"Sqare",panorama:"Panoramic"}[e]}},resolution:{name:"Resolution",value:function(e){return{all:"All",1:"720p",2:"1080p",3:"4K"}[e]}},seller:{name:"Contributor"},mr_release_quantity:{name:"NumberPeople"},mr_property_exclude:{name:"PeopleExclude"},mr_property_only:{name:"PeopleOnly"},gender:{name:"Gender",value:function(e){return{female:"Female",male:"Male",both:"Male&Female"}[e]}},age:{name:"Age",value:function(e){return{baby:"Infant",child:"Child",teen:"Teenager"}[e]||e}},race:{name:"Ethnicity",value:function(e){return e}},advanced:{name:"Advanced",value:function(e){return{1:"Indoor",2:"All",3:"Outdoor"}[e]}},isolated_only:{name:"Isolated Only ",value:function(e){return e?"On":"Off"}},isolated_exclude:{name:"Exclude Isolated",value:function(e){return e?"On":"Off"}},render_only:{name:"Exclude Only",value:function(e){return e?"On":"Off"}},render_exclude:{name:"Exclude Renders",value:function(e){return e?"On":"Off"}},anonymous:{name:"Anonymous",value:function(e){return e?"On":"Off"}},season:{name:"Season",value:function(e){return e}},day_time:{name:"Times of Day",value:function(e){return e}},country:{name:"Country",value:function(e){return e}}},s={};e&&(s.AutoSearch=1);var a=n.omit(this.changed,this.serviceFields);return n.each(a,(function(e,n){if(r[n]&&(t||i.defaults[n]!==e)){var o=n,a=e;r[n].name&&(o=r[n].name),r[n].value&&(a=r[n].value(e)),s[o]=a}})),s},getFilterKeys:function(){return n.intersection(Object.keys(this.getNonDefaults()),this.filterFields)},defineSearchType:function(e){var t,i=!!e;return i&&this.get("editorial_only")?t="editorial":!i&&this.get("photo")&&this.get("vector")?t="allPhoto":this.get("photo")?t="photo":this.get("vector")?t="vector":this.get("video")&&(t="video"),t},defineItemsType:function(){var e=this.defineSearchType();return"allPhoto"===e?"photo":e},defineSpecificSearchMode:function(){return _(this.attributes)?"portfolio":y(this.attributes)?"category":null},getRawSearchParams:T,getDefaultSorting:function(e,t){void 0===e&&(e=this.app);var i=(void 0===t?this:t).attributes;return x(e,{attributes:i})}},{createInstance:function(e){var i=e.app,n=e.searchSessionParams,o=t({},e.queryParams,i.userSettings.get("SearchQuery"),n,r.getDataSourceSets(i),{rawSearchParams:T(i.queryParams)});return Object.assign(o,function(e,t){if(!t.sorting)return{sorting:x(e,{attributes:t})}}(i,o)),new k(o,{app:i,parse:!0})}});e.exports=k}))},function(e,t,i){"use strict";t.add=function(e,t){e.classList?e.classList.add(t):function(e,t){var i=e.className.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):function(e,t){var i=e.className.split(" "),n=i.indexOf(t);n>=0&&i.splice(n,1),e.className=i.join(" ")}(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(6);e.exports=n.extend({defaults:{photo:!0,vector:!0,video:!0,editorial:!0,illustration:!0,crelloTemplate:!0,audio:!0},getQueryParams:function(){return{}},filterSearchAttributes:function(e){var i=t.clone(e);return e.photo||e.vector||e.video||e.crelloTemplate||e.audio||(e.photo=!0,e.vector=!0),this.get("editorial")||(i.editorial=void 0,i.editorial_only=!1,i.editorial_exclude=!1),i.photo=e.photo&&this.get("photo"),i.vector=e.vector&&this.get("vector"),i.video=e.video&&this.get("video"),i.crelloTemplate=e.crelloTemplate&&this.get("crelloTemplate"),i.photo||i.vector||i.video||i.crelloTemplate||i.audio||(i.photo=this.get("photo"),i.photo||(i.vector=this.get("vector")),i.photo||i.vector||(i.video=this.get("video"))),i.photo===e.photo&&i.vector===e.vector&&i.video===e.video&&i.editorial===e.editorial&&i.editorial_exclude===e.editorial_exclude&&i.editorial_only===e.editorial_only||(i.hash=void 0),i}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){(function(n){var r,o,s;!function(n,a){o=[i(151)],void 0===(s="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(t){"use strict";function r(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(n,o){var s=e.apply(t,i);function a(e){r(s,n,o,a,l,"next",e)}function l(e){r(s,n,o,a,l,"throw",e)}a(void 0)}))}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t),i(867);var a=i(564).to,l=i(26),c=i(868),u=i(869),d=i(870),h=i(871),p=i(92),f=i(556),g=i(858),v=i(872),m=i(853),b=i(854),y=i(565),_=i(646),w=i(874).isNavigationTypeOneOf,x=i(739),T=x.isCrelloTemplateTypeApplied,k=x.isAudioTypeApplied,S=i(155).audioPatch;e.exports=f.extend({name:"SearchBar",el:!1,template:c,amp:u,pageType:null,enableNavigate:!0,mobileMode:!1,autoFocus:!1,isStaticHints:!0,isSeparateSearchByImage:!1,hintsCustomCssClass:"",events:{"click ._search-types":"onTypesSelectorClick","click ._reset":"onResetButtonClick","keydown ._input":"onInputKeyDown","click ._submit":"onSubmitButtonClick","submit ._search-form":"onSubmit","input ._input":"onInputInput","focus ._input":"onInputFocus","blur ._input":"onInputBlur","click ._input":"onInputClick","click ._action-back":"onActionBackClick","click ._filters-btn":"onFiltersButtonClick"},globals:{click:"onBodyClick","resize window":"onWindowResize"},initialize:function(){var e=this;this.model=this.app.store.get("SearchQuery"),this.isAudioTypeSelected=k(this.model),this.setViews({"._search-types":new m({template:d,model:this.model,app:this.app,onSearchTypesChangeCallback:this.onSearchTypesChange.bind(this)})}),this.isSearchByImagesAvailable()&&this.setViews({"._search-images":new v({app:this.app,isLikeButton:this.isSeparateSearchByImage})}),this.listenTo(this.model,"change paramsArrived",(function(){e.getView("._search-types").prepareTypes(),e.render()})),this.listenTo(this.model,"change:query",this.onQueryChange)},prepareRender:function(){this.mobileMode=this.app.device.isMobile||(n.browser?_.mobileMode():this.mobileMode)},serialize:function(){return{placeholder:this.getPlaceholder(),query:this.shouldIgnoreQuery()?"":this.model.get("query").replace(/-/gim," "),searchLink:this.app.makeUrl("search"),filtersButtonAvailable:this.isFiltersButtonAvailable(),activeMobileFilters:this.getActiveMobileFilters(),mobileMode:this.mobileMode,isSeparateSearchByImage:this.isSeparateSearchByImage}},onQueryChange:function(){if(this.enableNavigate){var e=this.model.serialize();if(""===e.query&&p.pagesDefaultQuery[this.pageType]&&(e.query=p.pagesDefaultQuery[this.pageType]),p.pagesDefaultSorting[this.pageType]&&(e.sorting=p.pagesDefaultSorting[this.pageType]),this.shouldSearchOnCrelloTemplates()&&e.query.length)return void this.app.router.redirect(this.app.makeUrl({route:"CrelloSearch"},{query:{query:e.query}}));this.app.router.redirect(this.app.makeUrl({route:"Search",query:e.query,sorting:e.sorting,photo:e.photo,vector:e.vector,video:e.video,illustration:e.illustration,crelloTemplate:e.crelloTemplate,audio:e.audio}))}},clientAfterRender:function(){this.setNotExistView("SearchHints",g,{type:"search",template:h,collection:new b,onHintMouseDownCallback:this.chooseHint.bind(this),onHintSelectCallback:this.fillInputValue.bind(this),customCssClass:this.hintsCustomCssClass,isStatic:this.isStaticHints&&!this.isSearchPage,isFixed:this.isSearchPage,shift:{top:7,left:17,width:-16}}).setAnchor(this.$("._params")[0]),y(this.$el,l.$),this.tryToSetFocus(),this.$el.addClass("enable-transition")},onBodyClick:function(e){var t=this.getView("._search-types"),i=this.getView("SearchHints");!this.el.getElementsByClassName("_search-types")[0].contains(e.target)&&t&&t.isOpen()&&(t.toggle(!1),this.removeHighlight());var n=this.mobileMode&&this.el.getElementsByClassName("_input")[0].contains(e.target)&&i&&!i.opened;this.el.getElementsByClassName("_search-hints")[0].contains(e.target)||n||this.hideHints()},tryToSetFocus:function(){var e=_.mobileMode(),t=""===this.model.get("query"),i=w(["history","reload"]);this.autoFocus&&!e&&t&&!i&&this.focusOnInput()},isSearchByImagesAvailable:function(){return!this.app.device.isMobile&&!this.model.isAudio()&&this.app.features.isFeatureOnValue("Search by image")},isSearchFieldEmpty:function(){return!this.$("._input").val().trim().length},isFiltersButtonAvailable:function(){return n.browser&&_.mobileMode()&&this.isSearchPage&&this.mobileMode&&!["similar","serie","model"].includes(this.model.get("relatedTo"))&&!this.model.get("folderId")>0},onSubmitButtonClick:function(e){this.isSearchPossible()||(this.$("._input").focus(),e.preventDefault())},onFiltersButtonClick:function(){this.app.observer.fire("Search:ToggleMobileFilter")},trackBarSubmit:function(e){this.app.observer.broadcast("Track:UE:SearchBar:Submit",{query:e,type:this.getActiveOption()})},search:function(e,t){void 0===t&&(t={});var i=this.shouldIgnoreQuery()?this.model.defaults:{};this.model.secureSet(s({},i,t,this.selectedType,{query:e,correction:!0})),this.selectedType={}},onSubmit:function(e){var i=this;return o(t.default.mark((function n(){var r;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),i.isSearchPossible()){t.next=3;break}return t.abrupt("return");case 3:return r=i.$("._input").val().trim(),i.trackBarSubmit(r),t.next=7,a(i.setSearchSession());case 7:i.search(r,i.getCorrectSortingParam()),i.enableNavigate&&(!1===i.model.hasChanged()||i.isAudioTypeSelected)&&i.model.trigger("change:query",i.model);case 10:case"end":return t.stop()}}),n)})))()},setSearchSession:function(){var e=this;return o(t.default.mark((function i(){var n,r;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.app.userSettings.get("searchSession"),"Search"===e.app.router.routeName||!n||n.route===e.app.router.routeName){t.next=8;break}return t.next=4,a(e.app.userSettings.promiseSave({searchSession:null}));case 4:if(r=t.sent,!r[0]){t.next=8;break}throw new Error('Cannot save "searchSession" to userSettings.');case 8:case"end":return t.stop()}}),i)})))()},onTypesSelectorClick:function(){this.setHighlight(),this.getView("._search-types").toggle()},onInputInput:function(e){this.toggleClearButton(!!e.target.value),this.getView("SearchHints").load(e.target.value)},onInputFocus:function(){this.setHighlight()},onInputBlur:function(){this.removeHighlight()},onInputClick:function(e){this.mobileMode&&this.getView("SearchHints").load(e.target.value)},onActionBackClick:function(){this.app.observer.fire("SearchBar:Back")},setHighlight:function(){this.$el.addClass("focus")},removeHighlight:function(){this.$("._input").is(":focus")||this.$el.removeClass("focus")},onInputKeyDown:function(e){switch(e.which){case 38:case 40:e.preventDefault(),this.getView("SearchHints").moveSelection(38===e.which?-1:1);break;case 13:e.preventDefault(),this.isSearchPossible()&&this.chooseHint();break;case 27:this.hideHints()}},onResetButtonClick:function(){this.$("._input").val(""),this.toggleClearButton(!1),this.hideHints(),this.focusOnInput()},onSearchTypesChange:function(e){var t=this.$("._input").val().trim();this.isAudioTypeSelected=Object.entries(e).every((function(e){var t=e[0],i=e[1];return S[t]===i})),t.length>0?(this.search(t,s({},e,this.getCorrectSortingParam())),this.updatePlaceholder()):this.selectedType=e},onWindowResize:function(){var e=n.browser?_.mobileMode():this.mobileMode;e!==this.mobileMode&&(this.mobileMode=e,this.updatePlaceholder())},getActiveMobileFilters:function(){var e=["dataSource","audioType"],t=this.model.filterFields.concat(["nudity"]).filter((function(t){return!e.includes(t)})),i=this.model.getNonDefaults(t);return i.lengthEnd&&i.lengthStart&&delete i.lengthStart,Object.keys(i).length+(this.getActiveOption().isDefault?0:1)},getActiveOption:function(){return this.getView("._search-types").getActiveOption()},getPlaceholder:function(){var e=this.app.device.isMobile||this.mobileMode?"placeholderMobile":"placeholder";return this.tr(this.getActiveOption()[e])},updatePlaceholder:function(){this.getView("._search-types")&&this.$("._input").attr({placeholder:this.getPlaceholder()})},chooseHint:function(){var e=this;return o(t.default.mark((function i(){var n,r;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$("._input").val().trim(),(r=e.getView("SearchHints").getSelectedItem())?(e.app.observer.broadcast("Track:UE:SearchHint:Select",{value:r.get("value"),query:e.$("._input").val().trim(),position:e.getView("SearchHints").collection.indexOf(r)+1}),e.$("._input").val(r.get("value"))):e.trackBarSubmit(n),t.next=5,a(e.setSearchSession());case 5:e.search(n,e.getCorrectSortingParam()),e.hideHints();case 7:case"end":return t.stop()}}),i)})))()},fillInputValue:function(e){this.$("._input").val(e)},toggleClearButton:function(e){this.$("._reset").toggleClass("search-bar-input__button-reset_hidden",!e)},hideHints:function(){this.getView("._search-types")&&this.getView("SearchHints").reset()},focusOnInput:function(){var e=this.$("._input");if(e.trigger("focus"),e[0].setSelectionRange){var t=e.val().length;e[0].setSelectionRange(t,t)}else e.val(e.val());document.body.scrollTop=0},shouldIgnoreQuery:function(){return!1},shouldSearchOnCrelloTemplates:function(){return"CrelloTemplate"===this.app.router.routeName&&T(this.model)},isSearchPossible:function(){return!this.isSearchFieldEmpty()||this.isAudioTypeSelected},getCorrectSortingParam:function(){var e=this.isSearchFieldEmpty()&&this.isAudioTypeSelected,t=!this.isSearchFieldEmpty()&&k(this.model);return e?{sorting:"newest"}:t?{sorting:"best_match"}:{}}})}))}).call(this,i(23))},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-bar-wrapper"><div class="search-bar';return e.mobileMode&&(i+=" search-bar_mobile"),i+='"><form class="search-bar__inner _search-form" action="'+e.searchLink+'" target="_top" name="search" role="search"><div class="search-bar__params _params"><div class="search-bar__actions"><div class="search-bar__action-back _action-back"></div></div><div class="search-bar__input-container search-bar-input"><div class="search-bar-input__input-box input-box-l"><input name="query" class="input search-bar-input__input-query _input" type="text" value="'+t(unescape(e.query))+'" placeholder="'+t(e.placeholder)+'" autocomplete="off" /><a class="search-bar-input__button-reset button-reset _reset',e.query.length||(i+=" search-bar-input__button-reset_hidden"),i+='"></a></div></div>',e.isSeparateSearchByImage||(i+='<div class="search-bar__search-images _search-images"></div>'),i+='<div class="search-bar__type-container search-bar-type _search-types"></div>',e.filtersButtonAvailable&&(i+='<div class="search-bar__filters"><i class="search-bar__filters-btn _filters-btn"',e.activeMobileFilters>0&&(i+=' data-count="'+t(e.activeMobileFilters)+'"'),i+="></i></div>"),i+='<div class="_search-hints"></div></div><div class="search-bar__control"><button type="submit" class="search-bar__button-submit button button-blue button-search button-search-watery search-bar__desktop _submit"></button><button type="submit" class="search-bar__button-submit button button-blue button-search button-search-custom search-bar__custom _submit"></button><button type="submit" class="search-bar__button-submit button button-blue button-search button-search-large search-bar__large _submit"></button><button type="submit" class="search-bar__button-submit button button-blue button-search button-search-mobile search-bar__mobile _submit"></button></div></form></div>',e.isSeparateSearchByImage&&(i+='<div class="search-by-image _search-images"></div>'),i+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-bar-wrapper"><div class="search-bar"><form class="search-bar__inner _search-form" action="'+e.searchLink+'" target="_top"><div class="search-bar__params _params"><div class="search-bar__actions"><div role="button" tabindex="0" class="search-bar__action-back _action-back" on="tap:search-bar.hide, header-overlay.show"></div></div><div class="search-bar__input-container search-bar-input"><div class="search-bar-input__input-box input-box-l"><input name="query" class="input search-bar-input__input-query input-l _input" type="text" value="'+t(unescape(e.query))+'" placeholder="'+t(e.placeholder)+'" autocomplete="off" required /><a class="search-bar-input__button-reset button-reset _reset';return e.query.length||(i+=" search-bar-input__button-reset_hidden"),i+='"></a></div></div><div class="search-bar__search-images _search-images"></div></div><div class="search-bar__control"><button type="submit" class="search-bar__button-submit button button-blue button-search button-search-mobile search-bar__mobile _submit"></button></div></form></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-bar-type__container"><span class="search-bar-type__indicators search-bar-type-indicator"><i class="icon search-bar-type-indicator__icon';e.icon&&(i+=" search-bar-type-indicator__icon-type "+t(e.icon)),i+='"></i><span class="search-bar-type-indicator__title',e.icon||(i+=" search-bar-type-indicator__title_all"),i+='">'+this.tr(e.label)+'</span><i class="arrow arrow-black search-bar-type-indicator__arrow arrow-bottom"></i></span><div class="search-bar-type__menu"><ul class="search-bar-type-menu">';var n=e.options;if(n)for(var r,o=-1,s=n.length-1;o<s;)"video"===(r=n[o+=1]).type&&o>0&&(i+='<li class="search-bar-type-menu__separator"></li>'),i+='<li class="search-bar-type-menu__item',r.active&&(i+=" search-bar-type-menu__item_active _active-type"),r.isNew&&(i+=" search-bar-type-menu__item_new"),i+='"><label class="search-bar-type-menu__item-inner',r.parent&&(i+=" search-bar-type-menu__item-inner_sub"),i+='"><i class="search-bar-type-menu__item-ok icon icon-ok icon-ok-blue"></i><input class="search-bar-type-menu__item-radio _search-type" type="radio" name="file-types" value="'+t(r.id)+'" /><i class="search-bar-type-menu__item-icon icon',r.icon?i+=" "+t(r.icon):i+=" icon-all-types",i+='"></i><span class="search-bar-type-menu__item-title">'+this.tr(r.label)+"</span>",r.isNew&&(i+='<i class="search-bar-type-menu__new label label-new-text-box"></i>'),i+="</label></li>";return i+="</ul></div></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<ul class="'+t(e.classes)+' _search-hints">',n=e.items;if(n)for(var r,o=-1,s=n.length-1;o<s;)(r=n[o+=1]).value&&(i+='<li class="search-hints__item _hint',r.selected&&(i+=" hint_active"),i+='" data-value="'+t(r.value)+'"><span class="search-hints__item-text"><span class="search-hints__item-text_main">'+t(e.query.trim())+"</span>"+t(r.cutValue)+"</span></li>");return i+="</ul>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){(function(e){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(865);var t=i(561).SearchByImageIcon,n=i(873),r=i(855),o=i(556),s=i(558),a=(0,i(12).getLogger)(e);e.exports=o.extend({name:"SearchByImage",el:!1,template:n,isLikeButton:!1,events:{click:"onClick","mouseenter ._search-icon":"showImageSearchToolTip","mouseleave ._search-icon":"hideImageSearchToolTip"},clientAfterRender:function(){try{localStorage.removeItem("imgData")}catch(e){a.verbose("There is a problem with local storage",e)}this.setNotExistView("searchByImageToolTip",s,{params:t,content:new o({el:!1,template:r})})},serialize:function(){return{isLikeButton:this.isLikeButton}},showImageSearchToolTip:function(e){this.getView("searchByImageToolTip").show(e)},hideImageSearchToolTip:function(e){this.getView("searchByImageToolTip").hide(e)},onClick:function(e){e.stopPropagation(),this.app.observer.broadcast("Track:UE:Search:ByImageClick"),this.app.store.get("ModalsManager").show("SearchByImage",{app:this.app,single:!0}).catch((function(){}))}})}))}).call(this,i(8)(e))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="<div>";return e.isLikeButton?t+='<button type="button" class="button button-search-by-images">'+this.tr("Search by image")+"</button>":t+='<i class="search-bar__search-images-icon icon-search-by-image _search-icon"></i>',t+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var e={history:"back_forward",reload:"reload"};t.isNavigationTypeOneOf=function(t){if(!Array.isArray(t))throw new Error("Parameter must be an array!");var i=function(){try{return window.performance.getEntriesByType("navigation")[0].type}catch(e){return null}}();return t.some((function(t){return void 0!==e[t]&&e[t]===i}))}})?n.apply(t,r):n)||(e.exports=o)},,,,,,,,function(e,t,i){"use strict";e.exports=i(989)},,,,,,,,,,,,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(6),n=i(15),r=function(e){var t=e.toFixed(0).length;return t<4?(e/1e3).toFixed(4-t):Math.round(e/("1e"+(t-1)))*("1e"+(t-4))};e.exports=t.extend({defaults:{filesType:"total",files:53714430,customers:4890333,contributors:58682,freeItems:5e4,curatedItems:5e5},url:"MarketStats",getQueryParams:function(){return{type:this.get("filesType")}},parse:function(e){return{filesType:e.itemType,files:parseInt(e.count,10)||this.defaults.files,customers:parseInt(e.customers,10)||this.defaults.customers,contributors:parseInt(e.contributorsCount,10)||this.defaults.contributors,freeItems:parseInt(e.freeItemsCount,10)||this.defaults.freeItems,curatedItems:parseInt(e.curatedItemsCount,10)||this.defaults.curatedItems}},serialize:function(){return{files:n.numberFormat(this.get("files")),customers:n.numberFormat(this.get("customers")),contributors:n.numberFormat(this.get("contributors")),millionFiles:Math.floor(this.get("files")/1e6),millionCustomers:Math.ceil(this.get("customers")/1e6),thousandsContributors:n.numberFormat(1e3*Math.floor(this.get("contributors")/1e3)),thousandsFreeItems:r(this.get("freeItems")),thousandsCuratedItems:r(this.get("curatedItems"))}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(879).mobile.responsive,r=i(646);e.exports={setMatchMedia:function(e){n.browser&&!this.matchMedia&&(this.matchMedia=window.matchMedia("(max-width: "+t.mobileBig+"px)"),this.matchMediaCallback=function(){return e()},this.matchMedia.addListener(this.matchMediaCallback),this.listenTo(this.app.observer,"Responsive:ClearMatchMedia",this.clearMatchMedia))},clearMatchMedia:function(){this.matchMedia&&this.matchMediaCallback&&(this.matchMedia.removeListener(this.matchMediaCallback),this.matchMedia=void 0)},isMobileModeEnabled:function(){return this.app.device.isMobile||(n.browser?r.mobileMode():this.isMobileMode)}}}))}).call(this,i(23))},,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(26),r=i(34);e.exports=r.extend({url:"CountryList",model:n.Model.extend({idAttribute:"code",defaults:{code:null,title:null,phoneCode:null},serialize:function(){return t.clone(this.attributes)}}),getQueryParams:{},parse:function(e){return this.detected=e.detected,t.map(e.result||[],(function(e){return{code:e.code,title:e.name,phoneCode:e.phoneCode}}))},serialize:function(){return this.map((function(e){return e.serialize()}))},getNameByCode:function(e){return this.get(e)?this.get(e).get("title"):""}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(91),r=i(33),o={calculateSizeMp:function(e,t){var i=(e.width*e.height/1e6).toFixed(2),n=1e6*t.threshold,r=i<t.threshold;return{max:r,width:r?e.width:Math.round(Math.sqrt(n*e.width/e.height)),height:r?e.height:Math.round(Math.sqrt(n*e.height/e.width))}},calculateSizeFixed:function(e,t){var i=e.width<=t.threshold.width&&e.height<=t.threshold.height;return{max:i,width:i?e.width:t.threshold.width,height:i?e.height:t.threshold.height}},calculateSizeBroadSide:function(e,t){var i=!t.threshold||"extended"===t.license||"standard"===t.license&&t.threshold&&e.width<t.threshold.width&&e.height<t.threshold.height;return i?{max:i,width:e.width,height:e.height}:{max:i,width:e.width>=e.height?t.threshold.width:Math.round(e.width*(t.threshold.width/e.height)),height:e.width<e.height?t.threshold.height:Math.round(e.height*(t.threshold.width/e.width))}},calculateSizeBroadSideDoubled:function(e,t){var i=o.calculateSizeBroadSide(e,t);return i.width*=2,i.height*=2,i},calculateSizeConst:function(e,t){return{width:t.threshold.width,height:t.threshold.height}},makeSize:function(e,t,i){if("video"===e.get("type")){var s="@ "+e.get("fps")+" fps";return{value:s,extendedValue:s,tooltip:!1}}if("vector"===e.get("type")&&["vect","el0"].includes(t.id))return{value:n.ScalableToAnySize,extendedValue:n.ScalableToAnySize,tooltip:!0};var a={inch:function(e){return(e/t.dpi).toFixed(2)},cm:function(e){return(e/t.dpi*2.54).toFixed(2)}},l=t.algo?t.algo.replace(/(^|_)([a-z])/gi,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t[2].toUpperCase()})):null,c=o["calculateSize"+l](e.attributes,t),u=[i,"inch","cm"].reduce((function(e,t){return e[t]=e[t]||function(e){return{width:a[e](c.width),height:a[e](c.height),unit:r.sizes.find((function(t){return t.key===e})).value}}(t),e}),{});return{value:""+u[i].width+u[i].unit+" &times; "+u[i].height+u[i].unit+" ("+t.dpi+"&nbsp;dpi)",extendedValue:""+u[i].width+u[i].unit+" &times; "+u[i].height+u[i].unit+", "+t.dpi+"&nbsp;dpi",tooltip:!1}},makeSizeLabel:function(e,t){if("vector"===e.type&&["el0","vect"].includes(t.id))return n.VectImage;var i=t.algo?t.algo.replace(/(^|_)([a-z])/gi,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t[2].toUpperCase()})):null,r=o["calculateSize"+i](e,t);return r.width+" &times; "+r.height}};e.exports.calculateSizeMp=o.calculateSizeMp,e.exports.calculateSizeFixed=o.calculateSizeFixed,e.exports.calculateSizeBroadSide=o.calculateSizeBroadSide,e.exports.calculateSizeBroadSideDoubled=o.calculateSizeBroadSideDoubled,e.exports.makeSize=o.makeSize,e.exports.makeSizeLabel=o.makeSizeLabel,e.exports.makeExtension=function(e,i){var n="vector"===e&&["el0","vect"].includes(i.id)?"eps":"jpg";return t.findWhere([{key:"jpg",label:"JPG"},{key:"eps",label:"EPS"},{key:"mov",label:"MOV",tip:"Mac- &amp; Windows-friendly format, native to Apple's QuickTime video software."}],{key:"video"===e?"mov":n})}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(6);e.exports=t.extend({defaults:{id:null,imageUrl:"",width:null,height:null,type:"",alt:""},parse:function(e){return void 0===e&&(e={}),this.pickDefaultsFrom(e)},isVideo:function(){return"video"===this.get("type")},isCrelloTemplate:function(){return"crelloTemplate"===this.get("type")}})})?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),r=i(749),o=i(861),s=o.prepareFilename,a=o.prepareThumbFilename,l=o.prepareFileEnding,c=i(953),u=i(6);e.exports=u.extend(t({},c,{url:"File",defaults:{id:null,type:null,width:null,height:null,schema:[],sizeMask:0,licenseMask:0,permissionMask:0,sellerId:null,filename:"",thumbs:[],thumbSource:"",hasHugeImageThumb:!1,hasHugeVectorThumb:!1,hasHugeVideoThumb:!1},parse:function(e){var t=this.getRespErrors(e);if(Object.keys(t).length)return this.validationError=t,this.trigger("invalid",this,t,{validationError:t}),{};var i=n.pick(e,Object.keys(this.defaults));return i.type={i:"image",t:"vector",v:"video"}[e.type]||e.type,i},serialize:function(){var e=u.prototype.serialize.call(this);return e.thumbs=this.makeThumbs(),e.url=e.url||this.makeUrl(this.attributes),e},makeThumb:function(e){return r.getThumbUrl({size:e,file:this.attributes,protocol:this.app.parsedUrl.protocol,genFilename:a.bind(this,this.app)})},makeThumbs:function(){var e=this;return["normal","normalSquare","big","wideSmall","bigWide","wide","xwide","huge","large","max"].reduce((function(t,i){return t[i]=e.makeThumb(i),t}),{})},makeUrl:function(e,t){return void 0===e&&(e=this.attributes),this.app.makeUrl({route:"FileView",fileUrl:"/"+(1===e.nudity?"n/":"")+e.id+"/"+s(this.app,e,t)+l(this.app,e,t)+".html"},{absolute:!0})},toTracking:function(){return{id:this.get("id"),type:this.get("type"),position:this.collection&&this.collection.indexOf(this)+1||0}}}))}))},,function(e,t,i){},,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(154);e.exports={getErrors:function(e,t){var i=this.getRespErrors(t);return Object.keys(i).length||Object.keys(e).length||(i.id=["Empty response"]),i},getRespErrors:function(e){var i=this;void 0===e&&(e={});var n={};return(e.errors||[]).forEach((function(e){if((n[e.error_code]||(n[e.error_code]=[])).push(e.error_message),(n.id||(n.id=[])).push(e.error_message),e.error_data)switch(e.error_code){case t.apiErrors.itemRejectedPortfolioRedirect:n[e.error_code].push(e.error_data.userId);break;case t.apiErrors.itemDisabledImageRedirect:case t.apiErrors.itemDisabledVectorRedirect:case t.apiErrors.itemDisabledVideoRedirect:n[e.error_code].push(e.error_data.title);break;case t.apiErrors.itemRejectedDuplicated:n[e.error_code].push(i.makeUrl({id:e.error_data.originalItemId,filename:e.error_data.filename,nudity:0|e.error_data.nudity}))}})),n}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(6);e.exports=t.extend({defaults:{domains:[],countries:[]}})})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t="image",i="vector",n="video",r="crelloTemplate",o="audio",s={i:t,t:i,v:n,c:r,a:o};e.exports={parseFileType:function(e){return s[e]||e},isImage:function(){return this.get("type")===t},isVideo:function(){return this.get("type")===n},isVector:function(){return this.get("type")===i},isCrelloTemplate:function(){return this.get("type")===r},isAudio:function(){return this.get("type")===o}}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){(function(e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var o=i(26).$,s=i(564).to,a=i(19),l=i(15).stringToKebabCase,c=(0,i(12).getLogger)(e),u=function(e){return new Promise((function(t,i){return o.getJSON(e).done(t).fail(i)}))},d="json",h=["mp3",d],p=function(e){var t=void 0===e?{}:e,i=t.fileId,n=t.filename,r=t.sellerId,o=t.thumbSource,s=t.ext,l=t.protocol,c=t.query;if(!i)return"";var u=h.includes(s)?s:"mp3";return a.urlFormat({protocol:l,host:o,pathname:r+"/a/depositphotos_"+i+"-"+n+"."+u,query:c})};e.exports=function(e){var i=e.getThumbSource,n=e.getSellerId,o=e.getFilename;return{defaults:{audioType:"",filesize:null,genre:null},initialize:function(){this.peaks=[]},makeUrl:function(){var e=o(this);return this.app.makeUrl({route:"AudioView",audioId:this.get("id"),audioName:l(e).split("-").slice(0,5).join("-")},{absolute:!0})},makeThumb:function(){return p({fileId:this.get("id"),filename:o(this),sellerId:n(this),thumbSource:i(this),protocol:this.app.parsedUrl.protocol})},makeThumbDownloadUrl:function(){return p({fileId:this.get("id"),filename:o(this),sellerId:n(this),thumbSource:i(this),protocol:this.app.parsedUrl.protocol,query:{download:!0}})},fetchPeaks:function(){var e=this;return r(t.default.mark((function r(){var o,l,h,p,f,g,v;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.peaks.length>0)){t.next=2;break}return t.abrupt("return");case 2:return o=i(e),l=n(e),h=e.get("id"),p=a.urlFormat({protocol:e.app.parsedUrl.protocol,host:o,pathname:"/thumbs/"+l+"/"+h+"/awf."+d}),t.next=8,s(u(p));case 8:if(f=t.sent,g=f[0],v=f[1],!g&&v&&Array.isArray(v.data)){t.next=14;break}return c.error("Can not get peaks for audio id: "+h),t.abrupt("return");case 14:e.peaks=[].concat(v.data);case 15:case"end":return t.stop()}}),r)})))()}}}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)}).call(this,i(8)(e))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(749),n=i(861).prepareThumbFilename,r=["jpg","mp4","webm"];e.exports=function(){return{initialize:function(){this.videoThumbs={}},getVideoThumbs:function(e){var i=this;return void 0===e&&(e="wide"),this.videoThumbs&&this.videoThumbs[e]||(this.videoThumbs[e]={},r.forEach((function(r){i.videoThumbs[e][r]=t.getThumbUrl({ext:r,size:e,file:i.attributes,protocol:i.app.parsedUrl.protocol,genFilename:n.bind(i,i.app)})}))),this.videoThumbs[e]}}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,,,function(e,t,i){(function(n){var r,o,s;!function(n,a){o=[i(151)],void 0===(s="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(t){"use strict";function r(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t),i(977),i(951);var s=i(0),a=i(856).videoPlayer,l=i(978),c=i(26),u=i(857),d=i(556),h=i(749),p=null;e.exports=d.extend({name:"FilePreviewVideo",el:!1,template:l,file:null,RAWVideoFiles:null,$mount:void 0,$poster:void 0,mountMethod:"append",mountOn:"ready",playerId:null,preload:!0,loop:!0,shouldSetSizes:!0,width:0,height:0,controls:!0,resizeManager:!1,autoplay:!0,hasPoster:!0,muted:!1,controlBar:{muteToggle:!1,volumeControl:!0},spinner:{top:void 0,left:void 0,color:void 0},startPoint:0,startPointAutoCalculation:!0,blackBackground:!1,viewMode:"modal",initialize:function(){var e=this;this.spinner=new u(s.defaults(this.spinner,s.clone(a))),this.app&&this.app.device&&this.app.device.isMobile?this.on("ready loadstart",(function(){e.toggleSpinner(),e.$el.addClass("video-playing"),e.$(".video-js").addClass("vjs-has-started")})):this.once("playing",(function(){return e.$el.addClass("video-playing")})),this.$mount&&this.once(this.mountOn,this.mountHandler)},serialize:function(){return o({files:this.RAWVideoFiles||this.file.getVideoThumbs(this.getVideoThumbsSize(!1)),isEditorial:this.file&&this.file.get("editorial"),showTitle:this.getShowTitle(),title:this.file&&this.file.get("title"),isWebmAllowed:this.app.features.isFeatureOnValue("Is webm video thumb allowed"),shouldSetSizes:this.shouldSetSizes,autoplay:this.autoplay,muted:this.muted},this.makeVideoInfo(),this.makePlayerOptions())},clientAfterRender:function(){this.initVideoPlayer()},getShowTitle:function(){return this.app&&this.app.features&&this.app.features.isFeatureOnValue("Show file title in preview")},initVideoPlayer:function(){var e=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(n,o){var s=e.apply(t,i);function a(e){r(s,n,o,a,l,"next",e)}function l(e){r(s,n,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function n(){var r,s;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.toggleSpinner(!0),p){t.next=9;break}return t.next=4,i.e(27).then(i.t.bind(null,1131,7));case 4:return r=t.sent,s=r.default,t.next=8,i.e(27).then(i.bind(null,1133));case 8:p=s;case 9:e.destroyInactivePlayers(),e.playerId=p(e.getPlayerElement(),o({},e.makePlayerOptions(),e.makeVideoInfo())).id(),e.initPlayerEvents();case 12:case"end":return t.stop()}}),n)})))()},initPlayerEvents:function(){var e=this,t=this.getPlayer();t&&t.ready((function(){e.trigger("ready",e),t.muted(e.muted),t.userActive(!1),t.currentTime(e.makeStartPoint()),t.rotatePlayerPlugin(),t.on("loadeddata",(function(){e.checkVideoSoundTrack(),e.getPlayerElement().currentTime=e.makeStartPoint()})),t.on("loadstart",(function(){e.toggleSpinner(!0),e.trigger("loadstart",e)})),t.on("playing",(function(){e.toggleSpinner(!1),e.trigger("playing",e)})),t.on("error",(function(){return e.onPlayerError()})),t.on("dispose",(function(){e.stopListening(),e.undelegateEvents()})),t.on("touchend",(function(i){e.el.getElementsByClassName("vjs-control-bar")[0].contains(i.target)||(t.paused()?e.startPlayer():e.pausePlayer())})),e.autoplay&&t.paused()&&e.startPlayer()}))},calculateStartPoint:function(){var e=this.file&&this.file.get("mp")||0;return e>5?Math.floor(e/5):0},makeStartPoint:function(){return this.startPointAutoCalculation?this.calculateStartPoint():this.startPoint},makeVideoInfo:function(){var e={width:this.width,height:this.height};if(this.file){var t=h.getThumbSizes(this.file.serialize(),"huge");e.width=this.width||t.w,e.height=this.height||t.h}return e},makePlayerOptions:function(){return{controls:this.controls,preload:!!n.browser&&this.preload,loop:this.loop,blackBackground:this.blackBackground,poster:this.hasPoster?this.makePoster():null,controlBar:this.controlBar,resizeManager:this.resizeManager}},makePoster:function(){var e=this.file&&this.file.getVideoThumbs(this.getVideoThumbsSize(!0));return e&&e.jpg?e.jpg:this.RAWVideoFiles&&this.RAWVideoFiles.jpg?this.RAWVideoFiles.jpg:null},getVideoThumbsSize:function(e){var t=["modal","page"].includes(this.viewMode)?"huge":"wide";return e?t:h.getVideoClipThumbSize(this.file.serialize(),t)},getPlayerElement:function(){return"video"===this.el.tagName.toLowerCase()?this.el:this.$("video").get(0)},mountHandler:function(){this.mountPreview();var e=this.getPlayer();this.autoplay&&e&&e.paused()&&this.startPlayer(),this.app.observer.fire("Responsive:VideoPreviewMounted")},mountPreview:function(){return"html"===this.mountMethod?this.$mount.html(this.$el):-1===this.mountMethod.indexOf("insert")?this.$mount[this.mountMethod](this.$el):this.$el[this.mountMethod](this.$mount)},onPlayerError:function(){this.spinner.stop(),this.spinner=new u(s.extend(s.clone(a),{color:"#ff0000"})),this.toggleSpinner(!0)},checkVideoSoundTrack:function(){var e=this.getPlayer();if(e){var t=this.$("video").get(0),i=s.isUndefined(t.webkitAudioDecodedByteCount||t.mozHasAudio);e.toggleClass("vjs-silent-video",i)}},toggleSpinner:function(e){e?this.spinner.spin(this.$mount&&this.$mount.get(0)||this.el):this.spinner.stop()},getPlayer:function(){return p&&this.playerId?p.getPlayers()[this.playerId]:null},startPlayer:function(){var e=this.getPlayer();e&&e.play().catch((function(){}))},pausePlayer:function(){var e=this.getPlayer();e&&e.pause()},destroyInactivePlayers:function(){p&&s.each(p.getPlayers(),(function(e,t){e?c.$("#"+t).length||e.dispose():delete p.players[t]}))},cleanup:function(){this.toggleSpinner(),this.pausePlayer()}})}))}).call(this,i(23))},function(e,t,i){},function(e,t,i){},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(1059),r=i(1128),o=n.Model.extend({constructor:function(e,t){void 0===t&&(t={}),this.app=t.app||t.collection&&t.collection.app,this.on({request:this.onRequest,sync:this.onSync,error:this.onError}),n.Model.call(this,e,t)},getQueryParams:function(){return t.clone(this.attributes)},exportSettings:function(e){return e?t.pick(this.attributes,e):t.clone(this.attributes)},importSettings:function(){},isBulkAllowed:function(){return!0},clone:function(e){return new this.constructor(this.attributes,e)},onRequest:function(){this.pending=!0},onSync:function(e,t,i){this.pending=!1,t.errors&&this.trigger("error",e,t,i)},onError:function(){this.pending=!1},secureSet:function(e,i,n){if(null===e)return!1;var r,o=n;"object"==typeof e?(r=e,o=i):(r={})[e]=i;var s=t.pick(r,t.intersection(t.keys(r),t.keys(this.attributes)));return!t.isEmpty(s)&&this.set(s,Object.assign(o||{},{validate:!0}))},secureSetParsed:function(e){return this.secureSet(this.parse(e))},resetToDefaults:function(e,i){var n=e?t.pick(this.defaults,e):this.defaults;return this.set(n,i)},getNonDefaults:function(e){var i=this,n=e?t.pick(this.attributes,e):this.attributes,r={};return t.each(n,(function(e,n){t.isEqual(i.defaults[n],e)||(r[n]=e)})),r},hasChangedExcept:function(e){var i=t.isArray(e)?e:[e];return t.size(t.omit(this.hasChanged(),i))>0},serialize:function(){return t.clone(this.attributes)},toAPI:function(){return{}}});Object.assign(o.prototype,r.mixin),e.exports=o},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";function t(e){var n="function"==typeof Map?new Map:void 0;return(t=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return i(e,arguments,o(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)})(e)}function i(e,t,o){return(i=n()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return i&&r(o,i.prototype),o}).apply(null,arguments)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){function t(t){var i;if(i=e.call(this)||this,!t.code)throw new Error('"code" required');return i.code=t.code,i.message=t.message,i.payload=t.payload,i}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(t(Error));e.exports={Exception:s}})?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="vjs-container"><noscript><video class="video-js vjs-deposit-skin ';return e.blackBackground&&(i+=" vjs-bg-black"),i+='"',e.shouldSetSizes&&(i+='style="width: '+t(e.width)+"px; height: "+t(e.height)+'px;"'),i+='width="'+t(e.width)+'" height="'+t(e.height)+'" ',e.controls&&(i+=" controls"),e.muted&&(i+=" muted"),e.autoplay&&(i+=" autoplay"),e.poster&&(i+=' poster="'+t(e.poster)+'"'),e.preload&&(i+=" preload"),e.loop&&(i+=" loop"),i+=">",e.files.mp4&&(i+='<source type="video/mp4" src="'+e.files.mp4+'"></source>'),e.isWebmAllowed&&e.files.webm&&(i+='<source type="video/webm" src="'+e.files.webm+'"></source>'),e.files.ogg&&(i+='<source type="video/ogg" src="'+e.files.ogg+'"></source>'),i+='</video></noscript><video class="video-js vjs-deposit-skin ',e.blackBackground&&(i+=" vjs-bg-black"),i+='"',e.shouldSetSizes&&(i+='style="width: '+t(e.width)+"px; height: "+t(e.height)+'px;"'),i+='width="'+t(e.width)+'" height="'+t(e.height)+'" ',e.controls&&(i+=" controls"),e.muted&&(i+=" muted"),e.autoplay&&(i+=" autoplay"),e.poster&&(i+=' poster="'+t(e.poster)+'"'),e.preload&&(i+=" preload"),e.loop&&(i+=" loop"),i+=">",e.files.mp4&&(i+='<source type="video/mp4" src="'+e.files.mp4+'"></source>'),e.isWebmAllowed&&e.files.webm&&(i+='<source type="video/webm" src="'+e.files.webm+'"></source>'),e.files.ogg&&(i+='<source type="video/ogg" src="'+e.files.ogg+'"></source>'),i+="</video></div>"}})?n.apply(t,r):n)||(e.exports=o)},,,function(e,t,i){var n;!function(t,i){"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("Cropper requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var o=i.document,s=i.location,a=i.navigator,l=i.ArrayBuffer,c=i.Object,u=i.Array,d=i.String,h=i.Number,p=i.Math,f="cropper",g=f+"-modal",v=f+"-hide",m=f+"-hidden",b=f+"-move",y=f+"-crop",_=f+"-disabled",w="mousedown touchstart pointerdown MSPointerDown",x="mousemove touchmove pointermove MSPointerMove",T="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",k="wheel mousewheel DOMMouseScroll",S="dblclick",C="resize",M="error",P="load",E="build",I="built",L="cropstart",R="cropmove",A="cropend",O="crop",F="zoom",D=/e|w|s|n|se|sw|ne|nw|all|crop|move|zoom/,H=/width|height|left|top|marginLeft|marginTop/,z=/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i,B=/^\s+(.*)\s+$/,N=/\s+/,V=/^data\:/,U=/^data\:([^\;]+)\;base64,/,j=/^data\:image\/jpeg.*;base64,/,q=/([a-z\d])([A-Z])/g,W="preview",X="action",Y="se",$="sw",G="ne",Q="nw",Z="crop",K="move",J="zoom",ee=!!o.createElement("canvas").getContext,te=a&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(a.userAgent),ie=p.min,ne=p.max,re=p.abs,oe=p.sin,se=p.cos,ae=p.sqrt,le=p.round,ce=p.floor,ue=p.PI,de=c.prototype,he=de.toString,pe=de.hasOwnProperty,fe=u.prototype.slice,ge=d.fromCharCode;function ve(e){return he.call(e).slice(8,-1).toLowerCase()}function me(e){return"number"==typeof e&&!isNaN(e)}function be(e){return void 0===e}function ye(e){return"object"==typeof e&&null!==e}function _e(e){var t,i;if(!ye(e))return!1;try{return i=(t=e.constructor).prototype,t&&i&&pe.call(i,"isPrototypeOf")}catch(e){return!1}}function we(e){return"function"===ve(e)}function xe(e,t){return t=t>=0?t:0,u.from?u.from(e).slice(t):fe.call(e,t)}function Te(e){return"string"==typeof e&&(e=e.trim?e.trim():e.replace(B,"$1")),e}function ke(e,t){var i,n;if(e&&we(t))if(function(e){return u.isArray?u.isArray(e):"array"===ve(e)}(e)||me(e.length))for(n=0,i=e.length;n<i&&!1!==t.call(e,e[n],n,e);n++);else if(ye(e))for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(e,e[n],n,e))break;return e}function Se(e){var t;if(arguments.length>1){if(t=xe(arguments),c.assign)return c.assign.apply(c,t);t.shift(),ke(t,(function(t){ke(t,(function(t,i){e[i]=t}))}))}return e}function Ce(e,t){var i=xe(arguments,2);return function(){return e.apply(t,i.concat(xe(arguments)))}}function Me(e,t){var i=e.style;ke(t,(function(e,t){H.test(t)&&me(e)&&(e+="px"),i[t]=e}))}function Pe(e,t){var i;return me(e.length)?ke(e,(function(e){Pe(e,t)})):e.classList?e.classList.add(t):void((i=Te(e.className))?i.indexOf(t)<0&&(e.className=i+" "+t):e.className=t)}function Ee(e,t){return me(e.length)?ke(e,(function(e){Ee(e,t)})):e.classList?e.classList.remove(t):void(e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Ie(e,t,i){if(me(e.length))return ke(e,(function(e){Ie(e,t,i)}));i?Pe(e,t):Ee(e,t)}function Le(e){return e.replace(q,"$1-$2").toLowerCase()}function Re(e,t){return ye(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+Le(t))}function Ae(e,t,i){ye(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-"+Le(t),i)}function Oe(e,t){ye(e[t])?delete e[t]:e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+Le(t))}function Fe(e,t,i){var n=Te(t).split(N);if(n.length>1)return ke(n,(function(t){Fe(e,t,i)}));e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)}function De(e,t,i,n){var r=Te(t).split(N),o=i;if(r.length>1)return ke(r,(function(t){De(e,t,i)}));n&&(i=function(){return Fe(e,t,i),o.apply(e,arguments)}),e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)}function He(e,t,i){var n;return e.dispatchEvent?(we(Event)&&we(CustomEvent)?n=be(i)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):be(i)?(n=o.createEvent("Event")).initEvent(t,!0,!0):(n=o.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)):e.fireEvent?e.fireEvent("on"+t):void 0}function ze(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Be(e){var t,n=e||i.event;return n.target||(n.target=n.srcElement||o),me(n.pageX)||(t=o.documentElement,n.pageX=n.clientX+(i.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0),n.pageY=n.clientY+(i.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0)),n}function Ne(e){var t=o.documentElement,n=e.getBoundingClientRect();return{left:n.left+(i.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0),top:n.top+(i.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0)}}function Ve(e,t){return e.getElementsByTagName(t)}function Ue(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function je(e){return o.createElement(e)}function qe(e,t){e.appendChild(t)}function We(e){e.parentNode&&e.parentNode.removeChild(e)}function Xe(e){var t=e.match(z);return t&&(t[1]!==s.protocol||t[2]!==s.hostname||t[3]!==s.port)}function Ye(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function $e(e){var t=[],i=e.rotate,n=e.scaleX,r=e.scaleY;return me(n)&&me(r)&&t.push("scale("+n+","+r+")"),me(i)&&t.push("rotate("+i+"deg)"),t.length?t.join(" "):"none"}function Ge(e,t){var i,n,r=re(e.degree)%180,o=(r>90?180-r:r)*ue/180,s=oe(o),a=se(o),l=e.width,c=e.height,u=e.aspectRatio;return t?n=(i=l/(a+s/u))/u:(i=l*a+c*s,n=l*s+c*a),{width:i,height:n}}function Qe(e,t){var i,n,r,o=je("canvas"),s=o.getContext("2d"),a=0,l=0,c=t.naturalWidth,u=t.naturalHeight,d=t.rotate,h=t.scaleX,p=t.scaleY,f=me(h)&&me(p)&&(1!==h||1!==p),g=me(d)&&0!==d,v=g||f,m=c*re(h||1),b=u*re(p||1);return f&&(i=m/2,n=b/2),g&&(i=(m=(r=Ge({width:m,height:b,degree:d})).width)/2,n=(b=r.height)/2),o.width=m,o.height=b,v&&(a=-c/2,l=-u/2,s.save(),s.translate(i,n)),f&&s.scale(h,p),g&&s.rotate(d*ue/180),s.drawImage(e,ce(a),ce(l),ce(c),ce(u)),v&&s.restore(),o}function Ze(e){var t,i,n,r,o,s,a,l,c,u=new DataView(e),d=u.byteLength;if(255===u.getUint8(0)&&216===u.getUint8(1))for(l=2;l<d;){if(255===u.getUint8(l)&&225===u.getUint8(l+1)){s=l;break}l++}if(s&&(i=s+10,"Exif"===function(e,t,i){var n="",r=t;for(i+=t;r<i;r++)n+=ge(e.getUint8(r));return n}(u,s+4,4)&&((r=18761===(o=u.getUint16(i)))||19789===o)&&42===u.getUint16(i+2,r)&&(n=u.getUint32(i+4,r))>=8&&(a=i+n)),a)for(d=u.getUint16(a,r),c=0;c<d;c++)if(l=a+12*c+2,274===u.getUint16(l,r)){l+=8,t=u.getUint16(l,r),te&&u.setUint16(l,1,r);break}return t}function Ke(e,t){var i=this;i.element=e,i.options=Se({},Ke.DEFAULTS,_e(t)&&t),i.ready=!1,i.built=!1,i.complete=!1,i.rotated=!1,i.cropped=!1,i.disabled=!1,i.replaced=!1,i.limited=!1,i.wheeling=!1,i.isImg=!1,i.originalUrl="",i.canvasData=null,i.cropBoxData=null,i.previews=null,i.init()}Ke.prototype={constructor:Ke,init:function(){var e,t=this,i=t.element,n=i.tagName.toLowerCase();if(!Re(i,f)){if(Ae(i,f,t),"img"===n){if(t.isImg=!0,t.originalUrl=e=i.getAttribute("src"),!e)return;e=i.src}else"canvas"===n&&ee&&(e=i.toDataURL());t.load(e)}},load:function(e){var t,i=this,n=i.options,r=i.element;if(e&&(we(n.build)&&De(r,E,n.build,!0),!1!==He(r,E))){if(i.url=e,i.imageData={},!n.checkOrientation||!l)return i.clone();if(V.test(e))return j.test(e)?i.read(function(e){var t,i=e.replace(U,""),n=atob(i),r=n.length,o=new l(r),s=new Uint8Array(o);for(t=0;t<r;t++)s[t]=n.charCodeAt(t);return o}(e)):i.clone();(t=new XMLHttpRequest).onerror=t.onabort=function(){i.clone()},t.onload=function(){i.read(this.response)},n.checkCrossOrigin&&Xe(e)&&r.crossOrigin&&(e=Ye(e)),t.open("get",e),t.responseType="arraybuffer",t.send()}},read:function(e){var t,i,n,r=this,o=r.options,s=Ze(e),a=r.imageData;if(s>1)switch(r.url=function(e){var t,i=new Uint8Array(e),n=i.length,r="";for(t=0;t<n;t++)r+=ge(i[t]);return"data:image/jpeg;base64,"+btoa(r)}(e),s){case 2:i=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}o.rotatable&&(a.rotate=t),o.scalable&&(a.scaleX=i,a.scaleY=n),r.clone()},clone:function(){var e,t,i,n,r,o=this,s=o.element,a=o.url;o.options.checkCrossOrigin&&Xe(a)&&((e=s.crossOrigin)?t=a:(e="anonymous",t=Ye(a))),o.crossOrigin=e,o.crossOriginUrl=t,i=je("img"),e&&(i.crossOrigin=e),i.src=t||a,o.image=i,o._start=n=Ce(o.start,o),o._stop=r=Ce(o.stop,o),o.isImg?s.complete?o.start():De(s,P,n):(De(i,P,n),De(i,M,r),Pe(i,v),s.parentNode.insertBefore(i,s.nextSibling))},start:function(e){var t=this,i=t.isImg?t.element:t.image;e&&(Fe(i,P,t._start),Fe(i,M,t._stop)),function(e,t){var i;if(e.naturalWidth&&!te)return t(e.naturalWidth,e.naturalHeight);(i=je("img")).onload=function(){t(this.width,this.height)},i.src=e.src}(i,(function(e,i){Se(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.ready=!0,t.build()}))},stop:function(){var e=this,t=e.image;Fe(t,P,e._start),Fe(t,M,e._stop),We(t),e.image=null},build:function(){var e,t,i,n,r,o,s,a=this,l=a.options,c=a.element,u=a.image;a.ready&&(a.built&&a.unbuild(),(t=je("div")).innerHTML=Ke.TEMPLATE,a.container=e=c.parentNode,a.cropper=i=Ue(t,"cropper-container")[0],a.canvas=n=Ue(i,"cropper-canvas")[0],a.dragBox=r=Ue(i,"cropper-drag-box")[0],a.cropBox=o=Ue(i,"cropper-crop-box")[0],a.viewBox=Ue(i,"cropper-view-box")[0],a.face=s=Ue(o,"cropper-face")[0],qe(n,u),Pe(c,m),e.insertBefore(i,c.nextSibling),a.isImg||Ee(u,v),a.initPreview(),a.bind(),l.aspectRatio=ne(0,l.aspectRatio)||NaN,l.viewMode=ne(0,ie(3,le(l.viewMode)))||0,l.autoCrop?(a.cropped=!0,l.modal&&Pe(r,g)):Pe(o,m),l.guides||Pe(Ue(o,"cropper-dashed"),m),l.center||Pe(Ue(o,"cropper-center"),m),l.background&&Pe(i,"cropper-bg"),l.highlight||Pe(s,"cropper-invisible"),l.cropBoxMovable&&(Pe(s,b),Ae(s,X,"all")),l.cropBoxResizable||(Pe(Ue(o,"cropper-line"),m),Pe(Ue(o,"cropper-point"),m)),a.setDragMode(l.dragMode),a.render(),a.built=!0,a.setData(l.data),setTimeout((function(){we(l.built)&&De(c,I,l.built,!0),He(c,I),He(c,O,a.getData()),a.complete=!0}),0))},unbuild:function(){var e=this;e.built&&(e.built=!1,e.complete=!1,e.initialImageData=null,e.initialCanvasData=null,e.initialCropBoxData=null,e.containerData=null,e.canvasData=null,e.cropBoxData=null,e.unbind(),e.resetPreview(),e.previews=null,e.viewBox=null,e.cropBox=null,e.dragBox=null,e.canvas=null,e.container=null,We(e.cropper),e.cropper=null)},render:function(){var e=this;e.initContainer(),e.initCanvas(),e.initCropBox(),e.renderCanvas(),e.cropped&&e.renderCropBox()},initContainer:function(){var e,t=this,i=t.options,n=t.element,r=t.container,o=t.cropper;Pe(o,m),Ee(n,m),t.containerData=e={width:ne(r.offsetWidth,h(i.minContainerWidth)||200),height:ne(r.offsetHeight,h(i.minContainerHeight)||100)},Me(o,{width:e.width,height:e.height}),Pe(n,m),Ee(o,m)},initCanvas:function(){var e,t=this,i=t.options.viewMode,n=t.containerData,r=t.imageData,o=90===re(r.rotate),s=o?r.naturalHeight:r.naturalWidth,a=o?r.naturalWidth:r.naturalHeight,l=s/a,c=n.width,u=n.height;n.height*l>n.width?3===i?c=n.height*l:u=n.width/l:3===i?u=n.width/l:c=n.height*l,(e={naturalWidth:s,naturalHeight:a,aspectRatio:l,width:c,height:u}).oldLeft=e.left=(n.width-c)/2,e.oldTop=e.top=(n.height-u)/2,t.canvasData=e,t.limited=1===i||2===i,t.limitCanvas(!0,!0),t.initialImageData=Se({},r),t.initialCanvasData=Se({},e)},limitCanvas:function(e,t){var i,n,r,o,s=this,a=s.options,l=a.viewMode,c=s.containerData,u=s.canvasData,d=u.aspectRatio,p=s.cropBoxData,f=s.cropped&&p;e&&(i=h(a.minCanvasWidth)||0,n=h(a.minCanvasHeight)||0,l>1?(i=ne(i,c.width),n=ne(n,c.height),3===l&&(n*d>i?i=n*d:n=i/d)):l>0&&(i?i=ne(i,f?p.width:0):n?n=ne(n,f?p.height:0):f&&(i=p.width,(n=p.height)*d>i?i=n*d:n=i/d)),i&&n?n*d>i?n=i/d:i=n*d:i?n=i/d:n&&(i=n*d),u.minWidth=i,u.minHeight=n,u.maxWidth=1/0,u.maxHeight=1/0),t&&(l?(r=c.width-u.width,o=c.height-u.height,u.minLeft=ie(0,r),u.minTop=ie(0,o),u.maxLeft=ne(0,r),u.maxTop=ne(0,o),f&&s.limited&&(u.minLeft=ie(p.left,p.left+p.width-u.width),u.minTop=ie(p.top,p.top+p.height-u.height),u.maxLeft=p.left,u.maxTop=p.top,2===l&&(u.width>=c.width&&(u.minLeft=ie(0,r),u.maxLeft=ne(0,r)),u.height>=c.height&&(u.minTop=ie(0,o),u.maxTop=ne(0,o))))):(u.minLeft=-u.width,u.minTop=-u.height,u.maxLeft=c.width,u.maxTop=c.height))},renderCanvas:function(e){var t,i,n=this,r=n.canvasData,o=n.imageData,s=o.rotate;n.rotated&&(n.rotated=!1,(t=(i=Ge({width:o.width,height:o.height,degree:s})).width/i.height)!==r.aspectRatio&&(r.left-=(i.width-r.width)/2,r.top-=(i.height-r.height)/2,r.width=i.width,r.height=i.height,r.aspectRatio=t,r.naturalWidth=o.naturalWidth,r.naturalHeight=o.naturalHeight,s%180&&(i=Ge({width:o.naturalWidth,height:o.naturalHeight,degree:s}),r.naturalWidth=i.width,r.naturalHeight=i.height),n.limitCanvas(!0,!1))),(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=ie(ne(r.width,r.minWidth),r.maxWidth),r.height=ie(ne(r.height,r.minHeight),r.maxHeight),n.limitCanvas(!1,!0),r.oldLeft=r.left=ie(ne(r.left,r.minLeft),r.maxLeft),r.oldTop=r.top=ie(ne(r.top,r.minTop),r.maxTop),Me(n.canvas,{width:r.width,height:r.height,left:r.left,top:r.top}),n.renderImage(),n.cropped&&n.limited&&n.limitCropBox(!0,!0),e&&n.output()},renderImage:function(e){var t,i,n,r,o,s=this,a=s.canvasData,l=s.imageData;l.rotate&&(t={width:n=(i=Ge({width:a.width,height:a.height,degree:l.rotate,aspectRatio:l.aspectRatio},!0)).width,height:r=i.height,left:(a.width-n)/2,top:(a.height-r)/2}),Se(l,t||{width:a.width,height:a.height,left:0,top:0}),o=$e(l),Me(s.image,{width:l.width,height:l.height,marginLeft:l.left,marginTop:l.top,WebkitTransform:o,msTransform:o,transform:o}),e&&s.output()},initCropBox:function(){var e=this,t=e.options,i=t.aspectRatio,n=h(t.autoCropArea)||.8,r=e.canvasData,o={width:r.width,height:r.height};i&&(r.height*i>r.width?o.height=o.width/i:o.width=o.height*i),e.cropBoxData=o,e.limitCropBox(!0,!0),o.width=ie(ne(o.width,o.minWidth),o.maxWidth),o.height=ie(ne(o.height,o.minHeight),o.maxHeight),o.width=ne(o.minWidth,o.width*n),o.height=ne(o.minHeight,o.height*n),o.oldLeft=o.left=r.left+(r.width-o.width)/2,o.oldTop=o.top=r.top+(r.height-o.height)/2,e.initialCropBoxData=Se({},o)},limitCropBox:function(e,t){var i,n,r,o,s=this,a=s.options,l=a.aspectRatio,c=s.containerData,u=s.canvasData,d=s.cropBoxData,p=s.limited;e&&(i=h(a.minCropBoxWidth)||0,n=h(a.minCropBoxHeight)||0,i=ie(i,c.width),n=ie(n,c.height),r=ie(c.width,p?u.width:c.width),o=ie(c.height,p?u.height:c.height),l&&(i&&n?n*l>i?n=i/l:i=n*l:i?n=i/l:n&&(i=n*l),o*l>r?o=r/l:r=o*l),d.minWidth=ie(i,r),d.minHeight=ie(n,o),d.maxWidth=r,d.maxHeight=o),t&&(p?(d.minLeft=ne(0,u.left),d.minTop=ne(0,u.top),d.maxLeft=ie(c.width,u.left+u.width)-d.width,d.maxTop=ie(c.height,u.top+u.height)-d.height):(d.minLeft=0,d.minTop=0,d.maxLeft=c.width-d.width,d.maxTop=c.height-d.height))},renderCropBox:function(){var e=this,t=e.options,i=e.containerData,n=e.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=ie(ne(n.width,n.minWidth),n.maxWidth),n.height=ie(ne(n.height,n.minHeight),n.maxHeight),e.limitCropBox(!1,!0),n.oldLeft=n.left=ie(ne(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=ie(ne(n.top,n.minTop),n.maxTop),t.movable&&t.cropBoxMovable&&Ae(e.face,X,n.width===i.width&&n.height===i.height?K:"all"),Me(e.cropBox,{width:n.width,height:n.height,left:n.left,top:n.top}),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){var e=this;e.preview(),e.complete&&He(e.element,O,e.getData())},initPreview:function(){var e,t=this,i=t.options.preview,n=je("img"),r=t.crossOrigin,s=r?t.crossOriginUrl:t.url;r&&(n.crossOrigin=r),n.src=s,qe(t.viewBox,n),t.image2=n,i&&(t.previews=e=o.querySelectorAll(i),ke(e,(function(e){var t=je("img");Ae(e,W,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),r&&(t.crossOrigin=r),t.src=s,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),qe(e,t)})))},resetPreview:function(){ke(this.previews,(function(e){var t=Re(e,W);Me(e,{width:t.width,height:t.height}),e.innerHTML=t.html,Oe(e,W)}))},preview:function(){var e=this,t=e.imageData,i=e.canvasData,n=e.cropBoxData,r=n.width,o=n.height,s=t.width,a=t.height,l=n.left-i.left-t.left,c=n.top-i.top-t.top,u=$e(t),d={WebkitTransform:u,msTransform:u,transform:u};e.cropped&&!e.disabled&&(Me(e.image2,Se({width:s,height:a,marginLeft:-l,marginTop:-c},d)),ke(e.previews,(function(e){var t=Re(e,W),i=t.width,n=t.height,u=i,h=n,p=1;r&&(h=o*(p=i/r)),o&&h>n&&(u=r*(p=n/o),h=n),Me(e,{width:u,height:h}),Me(Ve(e,"img")[0],Se({width:s*p,height:a*p,marginLeft:-l*p,marginTop:-c*p},d))})))},bind:function(){var e=this,t=e.options,n=e.element,r=e.cropper;we(t.cropstart)&&De(n,L,t.cropstart),we(t.cropmove)&&De(n,R,t.cropmove),we(t.cropend)&&De(n,A,t.cropend),we(t.crop)&&De(n,O,t.crop),we(t.zoom)&&De(n,F,t.zoom),De(r,w,e._cropStart=Ce(e.cropStart,e)),t.zoomable&&t.zoomOnWheel&&De(r,k,e._wheel=Ce(e.wheel,e)),t.toggleDragModeOnDblclick&&De(r,S,e._dblclick=Ce(e.dblclick,e)),De(o,x,e._cropMove=Ce(e.cropMove,e)),De(o,T,e._cropEnd=Ce(e.cropEnd,e)),t.responsive&&De(i,C,e._resize=Ce(e.resize,e))},unbind:function(){var e=this,t=e.options,n=e.element,r=e.cropper;we(t.cropstart)&&Fe(n,L,t.cropstart),we(t.cropmove)&&Fe(n,R,t.cropmove),we(t.cropend)&&Fe(n,A,t.cropend),we(t.crop)&&Fe(n,O,t.crop),we(t.zoom)&&Fe(n,F,t.zoom),Fe(r,w,e._cropStart),t.zoomable&&t.zoomOnWheel&&Fe(r,k,e._wheel),t.toggleDragModeOnDblclick&&Fe(r,S,e._dblclick),Fe(o,x,e._cropMove),Fe(o,T,e._cropEnd),t.responsive&&Fe(i,C,e._resize)},resize:function(){var e,t,i,n=this,r=n.options.restore,o=n.container,s=n.containerData;!n.disabled&&s&&(1===(i=o.offsetWidth/s.width)&&o.offsetHeight===s.height||(r&&(e=n.getCanvasData(),t=n.getCropBoxData()),n.render(),r&&(n.setCanvasData(ke(e,(function(t,n){e[n]=t*i}))),n.setCropBoxData(ke(t,(function(e,n){t[n]=e*i}))))))},dblclick:function(){var e=this;e.disabled||e.setDragMode(function(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}(e.dragBox,y)?K:Z)},wheel:function(e){var t=this,i=Be(e),n=h(t.options.wheelZoomRatio)||.1,r=1;t.disabled||(ze(i),t.wheeling||(t.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),i.deltaY?r=i.deltaY>0?1:-1:i.wheelDelta?r=-i.wheelDelta/120:i.detail&&(r=i.detail>0?1:-1),t.zoom(-r*n,i)))},cropStart:function(e){var t,i,n,r=this,o=r.options,s=Be(e),a=s.touches;if(!r.disabled){if(a){if((t=a.length)>1){if(!o.zoomable||!o.zoomOnTouch||2!==t)return;i=a[1],r.startX2=i.pageX,r.startY2=i.pageY,n=J}i=a[0]}if(n=n||Re(s.target,X),D.test(n)){if(!1===He(r.element,L,{originalEvent:s,action:n}))return;ze(s),r.action=n,r.cropping=!1,r.startX=i?i.pageX:s.pageX,r.startY=i?i.pageY:s.pageY,n===Z&&(r.cropping=!0,Pe(r.dragBox,g))}}},cropMove:function(e){var t,i,n=this,r=n.options,o=Be(e),s=o.touches,a=n.action;if(!n.disabled){if(s){if((t=s.length)>1){if(!r.zoomable||!r.zoomOnTouch||2!==t)return;i=s[1],n.endX2=i.pageX,n.endY2=i.pageY}i=s[0]}if(a){if(!1===He(n.element,R,{originalEvent:o,action:a}))return;ze(o),n.endX=i?i.pageX:o.pageX,n.endY=i?i.pageY:o.pageY,n.change(o.shiftKey,a===J?o:null)}}},cropEnd:function(e){var t=this,i=t.options,n=Be(e),r=t.action;t.disabled||r&&(ze(n),t.cropping&&(t.cropping=!1,Ie(t.dragBox,g,t.cropped&&i.modal)),t.action="",He(t.element,A,{originalEvent:n,action:r}))},change:function(e,t){var i,n,r=this,o=r.options.aspectRatio,s=r.action,a=r.containerData,l=r.canvasData,c=r.cropBoxData,u=c.width,d=c.height,h=c.left,p=c.top,f=h+u,g=p+d,v=0,b=0,y=a.width,_=a.height,w=!0;switch(!o&&e&&(o=u&&d?u/d:1),r.limited&&(v=c.minLeft,b=c.minTop,y=v+ie(a.width,l.left+l.width),_=b+ie(a.height,l.top+l.height)),n={x:r.endX-r.startX,y:r.endY-r.startY},o&&(n.X=n.y*o,n.Y=n.x/o),s){case"all":h+=n.x,p+=n.y;break;case"e":if(n.x>=0&&(f>=y||o&&(p<=b||g>=_))){w=!1;break}u+=n.x,o&&(d=u/o,p-=n.Y/2),u<0&&(s="w",u=0);break;case"n":if(n.y<=0&&(p<=b||o&&(h<=v||f>=y))){w=!1;break}d-=n.y,p+=n.y,o&&(u=d*o,h+=n.X/2),d<0&&(s="s",d=0);break;case"w":if(n.x<=0&&(h<=v||o&&(p<=b||g>=_))){w=!1;break}u-=n.x,h+=n.x,o&&(d=u/o,p+=n.Y/2),u<0&&(s="e",u=0);break;case"s":if(n.y>=0&&(g>=_||o&&(h<=v||f>=y))){w=!1;break}d+=n.y,o&&(u=d*o,h-=n.X/2),d<0&&(s="n",d=0);break;case G:if(o){if(n.y<=0&&(p<=b||f>=y)){w=!1;break}d-=n.y,p+=n.y,u=d*o}else n.x>=0?f<y?u+=n.x:n.y<=0&&p<=b&&(w=!1):u+=n.x,n.y<=0?p>b&&(d-=n.y,p+=n.y):(d-=n.y,p+=n.y);u<0&&d<0?(s=$,d=0,u=0):u<0?(s=Q,u=0):d<0&&(s=Y,d=0);break;case Q:if(o){if(n.y<=0&&(p<=b||h<=v)){w=!1;break}d-=n.y,p+=n.y,u=d*o,h+=n.X}else n.x<=0?h>v?(u-=n.x,h+=n.x):n.y<=0&&p<=b&&(w=!1):(u-=n.x,h+=n.x),n.y<=0?p>b&&(d-=n.y,p+=n.y):(d-=n.y,p+=n.y);u<0&&d<0?(s=Y,d=0,u=0):u<0?(s=G,u=0):d<0&&(s=$,d=0);break;case $:if(o){if(n.x<=0&&(h<=v||g>=_)){w=!1;break}u-=n.x,h+=n.x,d=u/o}else n.x<=0?h>v?(u-=n.x,h+=n.x):n.y>=0&&g>=_&&(w=!1):(u-=n.x,h+=n.x),n.y>=0?g<_&&(d+=n.y):d+=n.y;u<0&&d<0?(s=G,d=0,u=0):u<0?(s=Y,u=0):d<0&&(s=Q,d=0);break;case Y:if(o){if(n.x>=0&&(f>=y||g>=_)){w=!1;break}d=(u+=n.x)/o}else n.x>=0?f<y?u+=n.x:n.y>=0&&g>=_&&(w=!1):u+=n.x,n.y>=0?g<_&&(d+=n.y):d+=n.y;u<0&&d<0?(s=Q,d=0,u=0):u<0?(s=$,u=0):d<0&&(s=G,d=0);break;case K:r.move(n.x,n.y),w=!1;break;case J:r.zoom(function(e,t,i,n){var r=ae(e*e+t*t);return(ae(i*i+n*n)-r)/r}(re(r.startX-r.startX2),re(r.startY-r.startY2),re(r.endX-r.endX2),re(r.endY-r.endY2)),t),r.startX2=r.endX2,r.startY2=r.endY2,w=!1;break;case Z:if(!n.x||!n.y){w=!1;break}i=Ne(r.cropper),h=r.startX-i.left,p=r.startY-i.top,u=c.minWidth,d=c.minHeight,n.x>0?s=n.y>0?Y:G:n.x<0&&(h-=u,s=n.y>0?$:Q),n.y<0&&(p-=d),r.cropped||(Ee(r.cropBox,m),r.cropped=!0,r.limited&&r.limitCropBox(!0,!0))}w&&(c.width=u,c.height=d,c.left=h,c.top=p,r.action=s,r.renderCropBox()),r.startX=r.endX,r.startY=r.endY},crop:function(){var e=this;return e.built&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&Pe(e.dragBox,g),Ee(e.cropBox,m)),e.setCropBoxData(e.initialCropBoxData)),e},reset:function(){var e=this;return e.built&&!e.disabled&&(e.imageData=Se({},e.initialImageData),e.canvasData=Se({},e.initialCanvasData),e.cropBoxData=Se({},e.initialCropBoxData),e.renderCanvas(),e.cropped&&e.renderCropBox()),e},clear:function(){var e=this;return e.cropped&&!e.disabled&&(Se(e.cropBoxData,{left:0,top:0,width:0,height:0}),e.cropped=!1,e.renderCropBox(),e.limitCanvas(),e.renderCanvas(),Ee(e.dragBox,g),Pe(e.cropBox,m)),e},replace:function(e,t){var i=this;return!i.disabled&&e&&(i.isImg&&(i.element.src=e),t?(i.url=e,i.image.src=e,i.built&&(i.image2.src=e,ke(i.previews,(function(t){Ve(t,"img")[0].src=e})))):(i.isImg&&(i.replaced=!0),i.options.data=null,i.load(e))),i},enable:function(){var e=this;return e.built&&(e.disabled=!1,Ee(e.cropper,_)),e},disable:function(){var e=this;return e.built&&(e.disabled=!0,Pe(e.cropper,_)),e},destroy:function(){var e=this,t=e.element,i=e.image;return e.ready?(e.isImg&&e.replaced&&(t.src=e.originalUrl),e.unbuild(),Ee(t,m)):e.isImg?Fe(t,P,e.start):i&&We(i),Oe(t,f),e},move:function(e,t){var i=this.canvasData;return this.moveTo(be(e)?e:i.left+h(e),be(t)?t:i.top+h(t))},moveTo:function(e,t){var i=this,n=i.canvasData,r=!1;return be(t)&&(t=e),e=h(e),t=h(t),i.built&&!i.disabled&&i.options.movable&&(me(e)&&(n.left=e,r=!0),me(t)&&(n.top=t,r=!0),r&&i.renderCanvas(!0)),i},zoom:function(e,t){var i=this.canvasData;return e=(e=h(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,t)},zoomTo:function(e,t){var i,n,r,o,s=this,a=s.options,l=s.canvasData,c=l.width,u=l.height,d=l.naturalWidth,p=l.naturalHeight;if((e=h(e))>=0&&s.built&&!s.disabled&&a.zoomable){if(i=d*e,n=p*e,!1===He(s.element,F,{originalEvent:t,oldRatio:c/d,ratio:i/d}))return s;t?(r=Ne(s.cropper),o=t.touches?function(e){var t=e.length,i=0,n=0;return t&&(ke(e,(function(e){i+=e.pageX,n+=e.pageY})),i/=t,n/=t),{pageX:i,pageY:n}}(t.touches):{pageX:t.pageX,pageY:t.pageY},l.left-=(i-c)*((o.pageX-r.left-l.left)/c),l.top-=(n-u)*((o.pageY-r.top-l.top)/u)):(l.left-=(i-c)/2,l.top-=(n-u)/2),l.width=i,l.height=n,s.renderCanvas(!0)}return s},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+h(e))},rotateTo:function(e){var t=this;return me(e=h(e))&&t.built&&!t.disabled&&t.options.rotatable&&(t.imageData.rotate=e%360,t.rotated=!0,t.renderCanvas(!0)),t},scale:function(e,t){var i=this,n=i.imageData,r=!1;return be(t)&&(t=e),e=h(e),t=h(t),i.built&&!i.disabled&&i.options.scalable&&(me(e)&&(n.scaleX=e,r=!0),me(t)&&(n.scaleY=t,r=!0),r&&i.renderImage(!0)),i},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,me(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(me(t)?t:1,e)},getData:function(e){var t,i,n=this,r=n.options,o=n.imageData,s=n.canvasData,a=n.cropBoxData;return n.built&&n.cropped?(i={x:a.left-s.left,y:a.top-s.top,width:a.width,height:a.height},t=o.width/o.naturalWidth,ke(i,(function(n,r){n/=t,i[r]=e?le(n):n}))):i={x:0,y:0,width:0,height:0},r.rotatable&&(i.rotate=o.rotate||0),r.scalable&&(i.scaleX=o.scaleX||1,i.scaleY=o.scaleY||1),i},setData:function(e){var t,i,n,r=this,o=r.options,s=r.imageData,a=r.canvasData,l={};return we(e)&&(e=e.call(r.element)),r.built&&!r.disabled&&_e(e)&&(o.rotatable&&me(e.rotate)&&e.rotate!==s.rotate&&(s.rotate=e.rotate,r.rotated=t=!0),o.scalable&&(me(e.scaleX)&&e.scaleX!==s.scaleX&&(s.scaleX=e.scaleX,i=!0),me(e.scaleY)&&e.scaleY!==s.scaleY&&(s.scaleY=e.scaleY,i=!0)),t?r.renderCanvas():i&&r.renderImage(),n=s.width/s.naturalWidth,me(e.x)&&(l.left=e.x*n+a.left),me(e.y)&&(l.top=e.y*n+a.top),me(e.width)&&(l.width=e.width*n),me(e.height)&&(l.height=e.height*n),r.setCropBoxData(l)),r},getContainerData:function(){return this.built?this.containerData:{}},getImageData:function(){return this.ready?this.imageData:{}},getCanvasData:function(){var e=this.canvasData,t={};return this.built&&ke(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){t[i]=e[i]})),t},setCanvasData:function(e){var t=this,i=t.canvasData,n=i.aspectRatio;return we(e)&&(e=e.call(t.element)),t.built&&!t.disabled&&_e(e)&&(me(e.left)&&(i.left=e.left),me(e.top)&&(i.top=e.top),me(e.width)?(i.width=e.width,i.height=e.width/n):me(e.height)&&(i.height=e.height,i.width=e.height*n),t.renderCanvas(!0)),t},getCropBoxData:function(){var e,t=this,i=t.cropBoxData;return t.built&&t.cropped&&(e={left:i.left,top:i.top,width:i.width,height:i.height}),e||{}},setCropBoxData:function(e){var t,i,n=this,r=n.cropBoxData,o=n.options.aspectRatio;return we(e)&&(e=e.call(n.element)),n.built&&n.cropped&&!n.disabled&&_e(e)&&(me(e.left)&&(r.left=e.left),me(e.top)&&(r.top=e.top),me(e.width)&&(t=!0,r.width=e.width),me(e.height)&&(i=!0,r.height=e.height),o&&(t?r.height=r.width/o:i&&(r.width=r.height*o)),n.renderCropBox()),n},getCroppedCanvas:function(e){var t,i,n,r,o,s,a,l,c,u,d,h=this;if(h.built&&ee)return h.cropped?(_e(e)||(e={}),d=h.getData(),t=d.width,i=d.height,l=t/i,_e(e)&&(o=e.width,s=e.height,o?(s=o/l,a=o/t):s&&(o=s*l,a=s/i)),n=ce(o||t),r=ce(s||i),(c=je("canvas")).width=n,c.height=r,u=c.getContext("2d"),e.fillColor&&(u.fillStyle=e.fillColor,u.fillRect(0,0,n,r)),u.drawImage.apply(u,function(){var e,n,r,o,s,l,c=Qe(h.image,h.imageData),u=c.width,p=c.height,f=h.canvasData,g=[c],v=d.x+f.naturalWidth*(re(d.scaleX||1)-1)/2,m=d.y+f.naturalHeight*(re(d.scaleY||1)-1)/2;return v<=-t||v>u?v=e=r=s=0:v<=0?(r=-v,e=s=ie(u,t+(v=0))):v<=u&&(r=0,e=s=ie(t,u-v)),e<=0||m<=-i||m>p?m=n=o=l=0:m<=0?(o=-m,n=l=ie(p,i+(m=0))):m<=p&&(o=0,n=l=ie(i,p-m)),g.push(ce(v),ce(m),ce(e),ce(n)),a&&(r*=a,o*=a,s*=a,l*=a),s>0&&l>0&&g.push(ce(r),ce(o),ce(s),ce(l)),g}.call(h)),c):Qe(h.image,h.imageData)},setAspectRatio:function(e){var t=this,i=t.options;return t.disabled||be(e)||(i.aspectRatio=ne(0,e)||NaN,t.built&&(t.initCropBox(),t.cropped&&t.renderCropBox())),t},setDragMode:function(e){var t,i,n=this,r=n.options,o=n.dragBox,s=n.face;return n.ready&&!n.disabled&&(t=e===Z,i=r.movable&&e===K,Ae(o,X,e=t||i?e:"none"),Ie(o,y,t),Ie(o,b,i),r.cropBoxMovable||(Ae(s,X,e),Ie(s,y,t),Ie(s,b,i))),n}},Ke.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Ke.TEMPLATE=function(e,t){return t=t.split(","),'<0 6="5-container"><0 6="5-wrap-9"><0 6="5-canvas"></0></0><0 6="5-drag-9"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-center"></1><1 6="5-face"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>'.replace(/\d+/g,(function(e){return t[e]}))}(0,"div,span,action,data,point,cropper,class,line,dashed,box");var Je=i.Cropper;return Ke.noConflict=function(){return i.Cropper=Je,Ke},Ke.setDefaults=function(e){Se(Ke.DEFAULTS,e)},void 0===(n=function(){return Ke}.apply(t,[]))||(e.exports=n),r||(i.Cropper=Ke),Ke}))},,,,,,function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(988),r=i(941);e.exports=t.extend({name:"BaseList",listSelector:null,partialItems:null,intersectionObserver:null,partialMountNode:null,initIntersecObserver:function(){this.intersectionObserver=new IntersectionObserver(this.listIntersectionCallback.bind(this),{root:null,rootMargin:"0px",threshold:[.1,.2,.5,1]})},observeLastItem:function(){if(n.browser){this.intersectionObserver||this.initIntersecObserver();var e=this.el.querySelector(this.listSelector),t=e&&e.lastElementChild;t&&this.intersectionObserver&&this.intersectionObserver.observe(t)}},getPartialMountNode:function(){return this.$(this.partialMountNode)||this.$el},_applyTemplate:function(e,t){this.partialItems?this.__applyPartialTemplate(e):r.prototype._applyTemplate.apply(this,[e,t])},__applyPartialTemplate:function(e){var t=this.getPartialMountNode();this.__partialPrepend?t.prepend(e):t.append(e)},__renderPartialTemplate:function(e,t){return this.mutateContextWithPartial(t),this.endless=!1,this.templatePartial.call(this,t).trim()},renderTemplate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Array.isArray(this.partialItems)?this.__renderPartialTemplate.apply(this,t):r.prototype.renderTemplate.apply(this,t)},_onCollectionUpdate:function(e,t){this.__partialPrepend=0===t.at,this.partialItems=this.endless&&t.add?t.changes.added:null,this.render(),this.scrollToStart()},_onCollectionReset:function(){this.partialItems=null,this.render(),this.scrollToStart()},mutateContextWithPartial:function(){},listIntersectionCallback:function(){}})}))}).call(this,i(23))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(941);e.exports=n.extend({name:"List",el:!1,templatePartial:function(){return"Setup templatePartial for "+this.name+".js"},collection:null,autoScrollToStart:!0,autoScrollPadding:150,endless:!1,__needPartialRender:!1,__partialPrepend:!1,__applyPartialTemplate:function(e){this.__partialPrepend?this.$el.prepend(e):this.$el.append(e)},_applyTemplate:function(e,t){this.__needPartialRender?this.__applyPartialTemplate(e):n.prototype._applyTemplate.apply(this,[e,t])},__renderPartialTemplate:function(e,t){return this.templatePartial.call(this,t).trim()},renderTemplate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.__needPartialRender?this.__renderPartialTemplate.apply(this,t):n.prototype.renderTemplate.apply(this,t)},initialize:function(){this.listenToCollection()},listenToCollection:function(){this.listenTo(this.collection,{update:this._onCollectionUpdate,reset:this._onCollectionReset})},scrollToStart:function(){if(!this.endless&&this.autoScrollToStart){var e=this.$el.offset().top-this.autoScrollPadding,t=Math.max(0,e);window.scrollTo(0,t)}},_onCollectionUpdate:function(e,i){this.__needPartialRender=this.endless,this.__partialPrepend=0===t.result(i,"at"),this.render(),this.scrollToStart()},_onCollectionReset:function(){this.__needPartialRender=!1,this.render(),this.scrollToStart()}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){"use strict";var n=i(990),r=i(994),o=i(1002);e.exports={initialize:r,update:o,destroy:n}},function(e,t,i){"use strict";var n=i(644),r=i(658),o=i(627);e.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),r.remove(t.scrollbarX),r.remove(t.scrollbarY),r.remove(t.scrollbarXRail),r.remove(t.scrollbarYRail),n.removePsClasses(e),o.remove(e))}},function(e,t,i){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},function(e,t,i){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var i=void 0!==t;this.events[e]=this.events[e].filter((function(n){return!(!i||n===t)||(this.element.removeEventListener(e,n,!1),!1)}),this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var r=function(){this.eventElements=[]};r.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return void 0===t&&(t=new n(e),this.eventElements.push(t)),t},r.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},r.prototype.unbind=function(e,t,i){this.eventElement(e).unbind(t,i)},r.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},r.prototype.once=function(e,t,i){var n=this.eventElement(e),r=function(e){n.unbind(t,r),i(e)};n.bind(t,r)},e.exports=r},function(e,t,i){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},function(e,t,i){"use strict";var n=i(644),r=i(863),o=i(627),s=i(645),a={"click-rail":i(995),"drag-scrollbar":i(996),keyboard:i(997),wheel:i(998),touch:i(999),selection:i(1e3)},l=i(1001);e.exports=function(e,t){t="object"==typeof t?t:{},r.add(e,"ps");var i=o.add(e);i.settings=n.extend(i.settings,t),r.add(e,"ps--theme_"+i.settings.theme),i.settings.handlers.forEach((function(t){a[t](e)})),l(e),s(e)}},function(e,t,i){"use strict";var n=i(627),r=i(645),o=i(652);e.exports=function(e){!function(e,t){function i(e){return e.getBoundingClientRect()}var n=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",n),t.event.bind(t.scrollbarYRail,"click",(function(n){var s=n.pageY-window.pageYOffset-i(t.scrollbarYRail).top>t.scrollbarYTop?1:-1;o(e,"top",e.scrollTop+s*t.containerHeight),r(e),n.stopPropagation()})),t.event.bind(t.scrollbarX,"click",n),t.event.bind(t.scrollbarXRail,"click",(function(n){var s=n.pageX-window.pageXOffset-i(t.scrollbarXRail).left>t.scrollbarXLeft?1:-1;o(e,"left",e.scrollLeft+s*t.containerWidth),r(e),n.stopPropagation()}))}(e,n.get(e))}},function(e,t,i){"use strict";var n=i(644),r=i(658),o=i(627),s=i(645),a=i(652);e.exports=function(e){var t=o.get(e);!function(e,t){var i=null,o=null;function l(r){var o=i+r*t.railXRatio,s=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=o<0?0:o>s?s:o;var l=n.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;a(e,"left",l)}var c=function(t){l(t.pageX-o),s(e),t.stopPropagation(),t.preventDefault()},u=function(){n.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",c)};t.event.bind(t.scrollbarX,"mousedown",(function(s){o=s.pageX,i=n.toInt(r.css(t.scrollbarX,"left"))*t.railXRatio,n.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",c),t.event.once(t.ownerDocument,"mouseup",u),s.stopPropagation(),s.preventDefault()}))}(e,t),function(e,t){var i=null,o=null;function l(r){var o=i+r*t.railYRatio,s=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=o<0?0:o>s?s:o;var l=n.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));a(e,"top",l)}var c=function(t){l(t.pageY-o),s(e),t.stopPropagation(),t.preventDefault()},u=function(){n.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",c)};t.event.bind(t.scrollbarY,"mousedown",(function(s){o=s.pageY,i=n.toInt(r.css(t.scrollbarY,"top"))*t.railYRatio,n.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",c),t.event.once(t.ownerDocument,"mouseup",u),s.stopPropagation(),s.preventDefault()}))}(e,t)}},function(e,t,i){"use strict";var n=i(644),r=i(658),o=i(627),s=i(645),a=i(652);function l(e,t){var i=!1;t.event.bind(e,"mouseenter",(function(){i=!0})),t.event.bind(e,"mouseleave",(function(){i=!1}));t.event.bind(t.ownerDocument,"keydown",(function(o){if(!(o.isDefaultPrevented&&o.isDefaultPrevented()||o.defaultPrevented)){var l=r.matches(t.scrollbarX,":focus")||r.matches(t.scrollbarY,":focus");if(i||l){var c=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(c){if("IFRAME"===c.tagName)c=c.contentDocument.activeElement;else for(;c.shadowRoot;)c=c.shadowRoot.activeElement;if(n.isEditable(c))return}var u=0,d=0;switch(o.which){case 37:u=o.metaKey?-t.contentWidth:o.altKey?-t.containerWidth:-30;break;case 38:d=o.metaKey?t.contentHeight:o.altKey?t.containerHeight:30;break;case 39:u=o.metaKey?t.contentWidth:o.altKey?t.containerWidth:30;break;case 40:d=o.metaKey?-t.contentHeight:o.altKey?-t.containerHeight:-30;break;case 33:d=90;break;case 32:d=o.shiftKey?90:-90;break;case 34:d=-90;break;case 35:d=o.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:d=o.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}a(e,"top",e.scrollTop-d),a(e,"left",e.scrollLeft+u),s(e),function(i,n){var r=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===r&&n>0||r>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&i<0||o>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(u,d)&&o.preventDefault()}}}))}e.exports=function(e){l(e,o.get(e))}},function(e,t,i){"use strict";var n=i(627),r=i(645),o=i(652);function s(e,t){var i=!1;function n(n){var s=function(e){var t=e.deltaX,i=-1*e.deltaY;return void 0!==t&&void 0!==i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!=t&&i!=i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}(n),a=s[0],l=s[1];(function(t,i){var n=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(n){var r=window.getComputedStyle(n);if(![r.overflow,r.overflowX,r.overflowY].join("").match(/(scroll|auto)/))return!1;var o=n.scrollHeight-n.clientHeight;if(o>0&&!(0===n.scrollTop&&i>0||n.scrollTop===o&&i<0))return!0;var s=n.scrollLeft-n.clientWidth;if(s>0&&!(0===n.scrollLeft&&t<0||n.scrollLeft===s&&t>0))return!0}return!1})(a,l)||(i=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o(e,"top",l?e.scrollTop-l*t.settings.wheelSpeed:e.scrollTop+a*t.settings.wheelSpeed),i=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o(e,"left",a?e.scrollLeft+a*t.settings.wheelSpeed:e.scrollLeft-l*t.settings.wheelSpeed),i=!0):(o(e,"top",e.scrollTop-l*t.settings.wheelSpeed),o(e,"left",e.scrollLeft+a*t.settings.wheelSpeed)),r(e),(i=i||function(i,n){var r=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===r&&n>0||r>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&i<0||o>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(a,l))&&(n.stopPropagation(),n.preventDefault()))}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)}e.exports=function(e){s(e,n.get(e))}},function(e,t,i){"use strict";var n=i(644),r=i(627),o=i(645),s=i(652);e.exports=function(e){(n.env.supportsTouch||n.env.supportsIePointer)&&function(e,t,i,n){function a(i,n){var r=e.scrollTop,o=e.scrollLeft,s=Math.abs(i),a=Math.abs(n);if(a>s){if(n<0&&r===t.contentHeight-t.containerHeight||n>0&&0===r)return!t.settings.swipePropagation}else if(s>a&&(i<0&&o===t.contentWidth-t.containerWidth||i>0&&0===o))return!t.settings.swipePropagation;return!0}function l(t,i){s(e,"top",e.scrollTop-i),s(e,"left",e.scrollLeft-t),o(e)}var c={},u=0,d={},h=null,p=!1,f=!1;function g(){p=!0}function v(){p=!1}function m(e){return e.targetTouches?e.targetTouches[0]:e}function b(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function y(e){if(b(e)){f=!0;var t=m(e);c.pageX=t.pageX,c.pageY=t.pageY,u=(new Date).getTime(),null!==h&&clearInterval(h),e.stopPropagation()}}function _(e){if(!f&&t.settings.swipePropagation&&y(e),!p&&f&&b(e)){var i=m(e),n={pageX:i.pageX,pageY:i.pageY},r=n.pageX-c.pageX,o=n.pageY-c.pageY;l(r,o),c=n;var s=(new Date).getTime(),h=s-u;h>0&&(d.x=r/h,d.y=o/h,u=s),a(r,o)&&(e.stopPropagation(),e.preventDefault())}}function w(){!p&&f&&(f=!1,t.settings.swipeEasing&&(clearInterval(h),h=setInterval((function(){r.get(e)&&(d.x||d.y)?Math.abs(d.x)<.01&&Math.abs(d.y)<.01?clearInterval(h):(l(30*d.x,30*d.y),d.x*=.8,d.y*=.8):clearInterval(h)}),10)))}i?(t.event.bind(window,"touchstart",g),t.event.bind(window,"touchend",v),t.event.bind(e,"touchstart",y),t.event.bind(e,"touchmove",_),t.event.bind(e,"touchend",w)):n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",g),t.event.bind(window,"pointerup",v),t.event.bind(e,"pointerdown",y),t.event.bind(e,"pointermove",_),t.event.bind(e,"pointerup",w)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",g),t.event.bind(window,"MSPointerUp",v),t.event.bind(e,"MSPointerDown",y),t.event.bind(e,"MSPointerMove",_),t.event.bind(e,"MSPointerUp",w)))}(e,r.get(e),n.env.supportsTouch,n.env.supportsIePointer)}},function(e,t,i){"use strict";var n=i(644),r=i(627),o=i(645),s=i(652);function a(e,t){var i=null,a={top:0,left:0};function l(){i||(i=setInterval((function(){r.get(e)?(s(e,"top",e.scrollTop+a.top),s(e,"left",e.scrollLeft+a.left),o(e)):clearInterval(i)}),50))}function c(){i&&(clearInterval(i),i=null),n.stopScrolling(e)}var u=!1;t.event.bind(t.ownerDocument,"selectionchange",(function(){e.contains(function(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}())?u=!0:(u=!1,c())})),t.event.bind(window,"mouseup",(function(){u&&(u=!1,c())})),t.event.bind(window,"keyup",(function(){u&&(u=!1,c())})),t.event.bind(window,"mousemove",(function(t){if(u){var i={x:t.pageX,y:t.pageY},r={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};i.x<r.left+3?(a.left=-5,n.startScrolling(e,"x")):i.x>r.right-3?(a.left=5,n.startScrolling(e,"x")):a.left=0,i.y<r.top+3?(a.top=r.top+3-i.y<5?-5:-20,n.startScrolling(e,"y")):i.y>r.bottom-3?(a.top=i.y-r.bottom+3<5?5:20,n.startScrolling(e,"y")):a.top=0,0===a.top&&0===a.left?c():l()}}))}e.exports=function(e){a(e,r.get(e))}},function(e,t,i){"use strict";var n=i(627),r=i(645);e.exports=function(e){!function(e,t){t.event.bind(e,"scroll",(function(){r(e)}))}(e,n.get(e))}},function(e,t,i){"use strict";var n=i(644),r=i(658),o=i(627),s=i(645),a=i(652);e.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.css(t.scrollbarXRail,"display","block"),r.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=n.toInt(r.css(t.scrollbarXRail,"marginLeft"))+n.toInt(r.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=n.toInt(r.css(t.scrollbarYRail,"marginTop"))+n.toInt(r.css(t.scrollbarYRail,"marginBottom")),r.css(t.scrollbarXRail,"display","none"),r.css(t.scrollbarYRail,"display","none"),s(e),a(e,"top",e.scrollTop),a(e,"left",e.scrollLeft),r.css(t.scrollbarXRail,"display",""),r.css(t.scrollbarYRail,"display",""))}},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(1103);i(1106),e.exports={isModerator:function(){return this.app.user.hasPermissionsTo("homepage","moderation")},handleEditClick:function(e){this.isModerator()&&(e.preventDefault(),this.app.store.get("ModalsManager").show("EditContentModal",t({app:this.app,collection:this.collection},this.getEditContentModalOptions(e))).catch((function(){})))},handleRemoveClick:function(e){e.preventDefault(),this.collection.get(e.currentTarget.dataset.id).destroy()},handleItemMouseEnter:function(e){if(this.isModerator()){var t=this.getEditContentTooltipData(e)||[];this.setView("EditableInfoTooltip",new n({app:this.app,data:t})).show(e)}},handleItemMouseLeave:function(e){if(this.isModerator()){var t=this.getView("EditableInfoTooltip");t&&t.remove()}},getEditContentTooltipData:function(){},getEditContentModalOptions:function(){}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(94),n=function(e){var i,n=e.iframe,r=e.uuid;return new Promise((function(e,o){!function o(){if(clearTimeout(i),t.get(r)===r)return t.set(r,"",{path:"/",expires:"1ms"}),setTimeout((function(){n.remove()}),6e4),void e();i=setTimeout(o,1e3)}()}))};e.exports={downloadByUrl:function(e){var t=e.app,i=e.link;return t.device.isMobile?(t.router.redirect(i),Promise.resolve()):function(e){var t="u"+Math.random(),i=document.createElement("iframe");return i.classList.add("invisible"),i.dataset.uuid=t,i.src=e+(-1!==e.indexOf("?")?"&":"?")+"uuid="+t,document.body.appendChild(i),n({iframe:i,uuid:t})}(i)}}}))},,,,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}t=function(e){return e&&e.__esModule?e:{default:e}}(t),i(1029),i(1030),i(1031),i(1032),i(1033),i(1034),i(1035),i(1036),i(1037),i(1038),i(1039),i(1040),i(1041),i(1042),i(1043),i(1044);var r=i(26),o=i(1013),s=i(1045),a=i(1046),l=i(1047),c=i(1048),u=i(1049),d=i(1050),h=i(1051),p=i(1052),f=i(1014),g=i(1015),v=i(1016),m=i(1017),b=i(1018),y=i(1019),_=i(1020),w=i(1021),x=i(1053),T=i(1054),k=i(1055),S=i(1056),C=i(1057),M=i(1058),P=i(1022),E=i(556),I=i(565),L=i(943),R=i(1102),A={SignupPreviewBlackFriday:p,SignupPreviewCyberMonday:p,SignupPreviewChristmas:p,SignupOndemand:s,SignupChristmas:k,SignupBlackFriday:a,SignupCyberMonday:h,SignupAugust20Offer:l,SignupSeptember20Offer:c,SignupOctober20Offer:u,HomeMembership:C,Home3Membership:M,Home3CardExpiration:S,Home3BlackFriday:o,Home3Mar20Offer:f,Home3EasterOffer:g,Home3May20Offer:v,Home3June20Offer:m,Home3July20Offer:b,Home3August20Offer:y,Home3September20Offer:_,Home3October20Offer:w,Home3Christmas:o,Home3CyberMonday:o,Home3Trial:d,IndexVideosMembershipVideo:P,SubscribeChristmas:o,SubscribeBlackFriday:o,SubscribeMar20Offer:f,SubscribeEasterOffer:g,SubscribeMay20Offer:v,SubscribeJune20Offer:m,SubscribeJuly20Offer:b,SubscribeAugust20Offer:y,SubscribeSeptember20Offer:_,SubscribeOctober20Offer:w,SubscribeCyberMonday:o,SearchSeptember20Offer:x,SearchOctober20Offer:T},O={Home3:"holiday-poster_home",Subscribe:"holiday-poster_subscribe",SignupPreview:"holiday-poster_signup-preview"},F={BlackFriday:"holiday-poster_black-friday",CyberMonday:"holiday-poster_cyber-monday",Christmas:"holiday-poster_christmas",Bundle:"bundle-banner"},D={CardExpired:"card-expiration-poster_expired",RebillFailedInsufficientFunds:"card-expiration-poster_expired",BundleBusiness:"bundle-banner_business",BundleBackgrounds:"bundle-banner_backgrounds",BundleLandscapes:"bundle-banner_landscapes",BundleVectors:"bundle-banner_vectors"},H={CardExpired:"button-red",RebillFailedInsufficientFunds:"button-red",RebillStopped:"button-blue",RebillStoppedFreeDownload:"button-blue",RebillDiscount:"button-blue",CardExpirationInTimeNotification:"button-blue",CardExpirationEarlyNotification:"button-blue"};e.exports=E.extend({name:"Banner",el:!1,isLink:!1,templates:A,events:{"mouseover ._pseudolink":"onMouseOverLink","click ._link":"handleLinkClick","click ._close":"handleCloseClick","click ._btn":"handleBtnClick"},initialize:function(){this.listenTo(this.model,"sync",this.render)},template:function(){this.templateName=""+this.model.get("location")+this.model.get("template");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.templates[this.templateName]?this.templates[this.templateName].apply(this,t):""},serialize:function(){var e=this.model.serialize(),t=e.name,i=e.location,n=e.template;return{data:e,isLink:this.isLink,classes:{byName:D[t]||"",byLocation:O[i]||"",byTemplate:F[n]||""},buttonClasses:{byName:H[t]||""}}},clientAfterRender:function(){var e=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function n(){var o,s,a,l;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.app.observer.broadcast("Track:UE:Banner:Show",{model:e.model}),I(e.$el,r.$),o=e.model.get("components"),!(s=o.timer)){t.next=9;break}return t.next=6,i.e(13).then(i.t.bind(null,952,7));case 6:a=t.sent,l=a.default,e.setViews({"._timer":new l({app:e.app,distance:s.distance,format:s.format,shouldShowLabels:s.shouldShowLabels,finishCallback:function(){return e.model.fetch()}})});case 9:case"end":return t.stop()}}),n)})))()},onMouseOverLink:function(e){L.transformToLink(e.currentTarget,this.model.get("url"))},onAuthCallback:function(){var e=this;this.model.get("config").fetchUrl?this.model.fetch().then((function(){return e.redirectTo(e.model.get("url"))})):this.redirectTo(this.model.get("url"))},execSignupModalStrategy:function(){var e=this;this.app.user.isLoggedIn()?this.redirectTo(this.model.get("url")):this.app.store.get("ModalsManager").show("SignupModal",{app:this.app,authCallbacks:{onAuthCallback:function(){return e.onAuthCallback()}}}).catch((function(){}))},handleLinkClick:function(e){e.preventDefault(),this.trackBannerClick(),this.model.get("config").liveChat?new R({app:this.app}).open():this.model.get("config").actionData||(this.model.get("config").signupModal?this.execSignupModalStrategy():this.redirectTo(this.model.get("url")))},handleBtnClick:function(e){e.preventDefault(),e.stopPropagation(),this.trackBannerClick();var t=this.model.get("config").actionData;if(Object.keys(t).length)this.model.save().then(this.onActionSave.bind(this));else if(this.model.get("config").signupModal)this.execSignupModalStrategy();else{var i=this.model.get("url");this.redirectTo(i)}},handleCloseClick:function(){var e=this;this.model.destroy().then((function(){e.app.observer.broadcast("Track:UE:Banner:Close",{model:e.model}),e.remove()}))},onActionSave:function(e){void 0===e&&(e={}),e.callbackUrl?this.redirectTo(e.callbackUrl):this.remove()},trackBannerClick:function(){this.app.observer.broadcast("Track:UE:Banner:Click",{model:this.model})},redirectTo:function(e){this.app.router.redirect(e)}})},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div> <a href="'+t(e.data.url)+'" class="holiday-poster '+t(e.classes.byLocation)+" "+t(e.classes.byTemplate)+' _link"> <span class="holiday-poster_img"></span> <div class="holiday-poster__text"> <h2 class="holiday-poster__title"> '+e.data.config.title+" </h2> ";return e.data.config.description&&(i+=' <h3 class="holiday-poster__sub-title"> '+e.data.config.description+" </h3> "),i+=" </div> ",e.data.components.timer&&(i+=' <div class="holiday-poster__timer _timer"></div> '),i+=' <span class="holiday-poster__button button button-pill button-l button-red"> '+e.data.config.buttonTitle+" </span> </a></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="march-offer '+t(e.classes.byLocation)+'"> <h2 class="march-offer__title"> '+e.data.config.title+" </h2> ";return e.data.components.timer&&(i+=' <div class="march-offer__timer _timer"></div> '),i+=' <button type="button" class="march-offer__button button button-pill button-l"> '+e.data.config.buttonTitle+' </button> <a href="'+t(e.data.url)+'" class="march-offer__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="easter-offer '+t(e.classes.byLocation)+'"> <h2 class="easter-offer__title"> '+e.data.config.title+" </h2> ";return e.data.components.timer&&(i+=' <div class="easter-offer__timer _timer"><div class="timer-placeholder"></div></div> '),i+=' <button type="button" class="easter-offer__button button button-pill button-l"> '+e.data.config.buttonTitle+' </button> <a href="'+t(e.data.url)+'" class="easter-offer__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="may-offer '+t(e.classes.byLocation)+'"> <h2 class="may-offer__title"> '+e.data.config.title+" </h2> ";return e.data.components.timer&&(i+=' <div class="may-offer__timer _timer"><div class="timer-placeholder"></div></div> '),i+=' <button type="button" class="may-offer__button button button-pill button-l"> '+e.data.config.buttonTitle+' </button> <a href="'+t(e.data.url)+'" class="may-offer__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="june-offer '+t(e.classes.byLocation)+'"><i class="june-offer__logo"></i><h2 class="june-offer__title">'+e.data.config.title+"</h2>";return e.data.components.timer&&(i+='<div class="june-offer__timer _timer"><div class="timer-placeholder"></div></div>'),i+='<button type="button" class="june-offer__button button button-pill button-l">'+e.data.config.buttonTitle+'</button><a href="'+t(e.data.url)+'" class="june-offer__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="july-offer '+t(e.classes.byLocation)+'"><i class="july-offer__logo"></i><h2 class="july-offer__title">'+e.data.config.title+"</h2>";return e.data.components.timer&&(i+='<div class="july-offer__timer _timer"><div class="timer-placeholder"></div></div>'),e.data.components.timer||(i+='<div class="july-offer__timer-holder"></div>'),i+='<button type="button" class="july-offer__button button button-pill button-l">'+e.data.config.buttonTitle+'</button><a href="'+t(e.data.url)+'" class="july-offer__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="august-offer ';return e.data.components.timer&&(i+="august-offer_with-timer"),i+=" "+t(e.classes.byLocation)+'"><div class="august-offer__logo-holder"><div class="august-offer__logo"></div><div class="august-offer__image-holder"></div></div><h2 class="august-offer__title">'+e.data.config.title+"</h2>",e.data.components.timer&&(i+='<div class="august-offer__timer _timer"><div class="timer-placeholder"></div></div>'),i+='<button type="button" class="august-offer__button button button-pill button-l">'+e.data.config.buttonTitle+'</button><a href="'+t(e.data.url)+'" class="august-offer__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="september-offer ';return e.data.components.timer&&(i+="september-offer_with-timer"),i+=" "+t(e.classes.byLocation)+'"><div class="september-offer__logo-holder"><div class="september-offer__logo"></div><div class="september-offer__image-holder"></div></div><h2 class="september-offer__title">'+e.data.config.title+"</h2>",e.data.components.timer&&(i+='<div class="september-offer__timer _timer"><div class="timer-placeholder"></div></div>'),i+='<button type="button" class="september-offer__button button button-pill button-l">'+e.data.config.buttonTitle+'</button><a href="'+t(e.data.url)+'" class="september-offer__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="october-offer ';return e.data.components.timer&&(i+="october-offer_with-timer"),i+=" "+t(e.classes.byLocation)+'"><div class="october-offer__logo"></div><h2 class="october-offer__title">'+e.data.config.title+"</h2>",e.data.components.timer&&(i+='<div class="october-offer__timer _timer"><div class="timer-placeholder"></div></div>'),i+='<button type="button" class="october-offer__button button button-pill button-l">'+e.data.config.buttonTitle+'</button><a href="'+t(e.data.url)+'" class="october-offer__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="plan-poster plan-poster_video-membership"><div class="plan-poster__wrap link-white _link"><div class="plan-poster__label"><span class="plan-poster__text">New</span></div><span class="plan-poster__cell"><div class="plan-poster__title"><span>'+e.data.config.title+'</span><button type="button" class="plan-poster__button plan-poster__button_mobile button button-4xl button-red button-pill">'+e.data.config.buttonTitle+'</button></div><div class="plan-poster__button-wrap"><button type="button" class="plan-poster__button button button-4xl button-red button-pill">'+e.data.config.buttonTitle+"</button></div></span></div></div>"}})?n.apply(t,r):n)||(e.exports=o)},,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t='<div><div class="offer-preview__content"><div class="offer-preview__content-wrap"><h2 class="offer-preview__content-title">'+e.data.config.title+'</h2><h3 class="offer-preview__content-subtitle">'+e.data.config.description+'</h3><ul class="offer-preview__content-list">',i=e.data.config.texts;if(i)for(var n=-1,r=i.length-1;n<r;)t+='<li class="offer-preview__content-list-item">'+i[n+=1]+"</li>";return t+='</ul></div></div><div class="offer-preview__total"><h4 class="offer-preview__total-title">'+this.tr("Total Price")+':</h4><span class="offer-preview__total-old-price">'+e.data.config.priceWithoutDiscount+'</span><span class="offer-preview__total-price">'+e.data.config.price+"</span></div></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div><div class="offer-preview__content offer-preview__content_black-friday"><div class="offer-preview__content-wrap"><h2 class="offer-preview__content-title">'+e.data.config.title+'</h2><h3 class="offer-preview__content-subtitle">'+e.data.config.description+"</h3>";return e.data.components.timer&&(t+='<div class="offer-preview__timer-box _timer"></div>'),t+='</div></div> <div class="offer-preview__total"> <h4 class="offer-preview__total-title">'+e.data.config.texts[0]+':</h4> <span class="offer-preview__total-old-price">'+e.data.config.priceWithoutDiscount+'</span> <span class="offer-preview__total-price">'+e.data.config.price+"</span> </div></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div><div class="offer-preview__content offer-preview__content_august"><div class="offer-preview__content-wrap"><i class="offer-preview__content-logo"></i><h2 class="offer-preview__content-title">'+e.data.config.title+"</h2>";return e.data.components.timer&&(t+='<div class="offer-preview__timer _timer"><div class="timer-placeholder"></div></div>'),t+='</div></div><div class="offer-preview__total"><h4 class="offer-preview__total-title">'+this.tr("Total Price")+':</h4><span class="offer-preview__total-old-price">'+e.data.config.priceWithoutDiscount+'</span><span class="offer-preview__total-price">'+e.data.config.price+"</span></div></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div><div class="offer-preview__content offer-preview__content_september"><div class="offer-preview__content-wrap"><div class="offer-preview__content-info"><h2 class="offer-preview__content-title">'+e.data.config.title+"</h2></div>";return e.data.components.timer&&(t+='<div class="offer-preview__content-timer-wrap"><div class="offer-preview__timer _timer"><div class="timer-placeholder"></div></div></div>'),t+='</div></div><div class="offer-preview__total"><h4 class="offer-preview__total-title">'+this.tr("Total Price")+':</h4><span class="offer-preview__total-old-price">'+e.data.config.priceWithoutDiscount+'</span><span class="offer-preview__total-price">'+e.data.config.price+"</span></div></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div><div class="offer-preview__content offer-preview__content_october ';return e.data.components.timer&&(t+="offer-preview__content_with-timer"),t+='"><div class="offer-preview__content-wrap"><div class="offer-preview__content-info"><h2 class="offer-preview__content-title">'+e.data.config.title+"</h2></div>",e.data.components.timer&&(t+='<div class="offer-preview__timer _timer"><div class="timer-placeholder"></div></div>'),t+='</div></div><div class="offer-preview__total"><h4 class="offer-preview__total-title">'+this.tr("Total Price")+':</h4><span class="offer-preview__total-old-price">'+e.data.config.priceWithoutDiscount+'</span><span class="offer-preview__total-price">'+e.data.config.price+"</span></div></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="trial-banner _plan-poster"><a href="'+e.data.url+'" class="trial-banner__wrap _link"><span class="trial-banner__icon"><i class="icon"></i></span><span class="trial-banner__text">'+e.data.config.description+'</span><span class="trial-banner__action"><button class="button button-blue button-5xl button-pill button-bold">'+e.data.config.buttonTitle+"</button></span></a></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div><div class="offer-preview__content offer-preview__content_cyber-monday"><div class="offer-preview__content-wrap"><h2 class="offer-preview__content-title">'+e.data.config.title+'</h2><h3 class="offer-preview__content-subtitle">'+e.data.config.description+"</h3>";return e.data.components.timer&&(t+='<div class="offer-preview__timer-box _timer"></div>'),t+='</div></div> <div class="offer-preview__total"> <h4 class="offer-preview__total-title">'+e.data.config.texts[0]+':</h4> <span class="offer-preview__total-old-price">'+e.data.config.priceWithoutDiscount+'</span> <span class="offer-preview__total-price">'+e.data.config.price+"</span> </div></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div> <div class="tall-holiday-poster '+t(e.classes.byLocation)+" "+t(e.classes.byTemplate)+" ";return e.data.components.timer?i+="holiday-poster_with-timer":i+="holiday-poster_without-timer",i+='"> <h2 class="tall-holiday-poster__title"> '+e.data.config.title+" </h2> ",e.data.components.timer&&(i+=' <div class="tall-holiday-poster__timer _timer"></div> '),i+=" </div> ",e.data.config.texts&&e.data.config.price&&e.data.config.priceWithoutDiscount&&(i+='  <div class="offer-preview__total"> <h4 class="offer-preview__total-title">'+e.data.config.texts[0]+':</h4> <span class="offer-preview__total-old-price">'+e.data.config.priceWithoutDiscount+'</span> <span class="offer-preview__total-price">'+e.data.config.price+"</span> </div> "),i+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-banner"><div class="search-banner__main-content">';return e.data.components.timer&&(i+='<div class="search-banner__timer _timer"><div class="timer-placeholder"></div></div>'),i+='<p class="search-banner__info">'+this.tr("Special Offer")+':</p><h1 class="search-banner__title">'+e.data.config.title+'</h1><button type="button" class="search-banner__button button button-red button-l button-pill button-bold">'+e.data.config.buttonTitle+'</button></div><a href="'+t(e.data.url)+'" class="search-banner__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-october"><div class="search-october__main-content">';return e.data.components.timer&&(i+='<div class="search-october__timer _timer"><div class="timer-placeholder"></div></div>'),i+='<p class="search-october__info">'+this.tr("Halloween Offer")+':</p><h1 class="search-october__title">'+e.data.config.title+'</h1><button type="button" class="search-october__button button button-red button-l button-pill button-bold">'+e.data.config.buttonTitle+'</button></div><a href="'+t(e.data.url)+'" class="search-october__link _link"></a></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t='<div><div class="offer-preview__content offer-preview__content_christmas"><div class="offer-preview__content-wrap"><h2 class="offer-preview__content-title">'+e.data.config.title+'</h2><h3 class="offer-preview__content-subtitle">'+e.data.config.description+'</h3><ul class="offer-preview__content-list">',i=e.data.config.texts;if(i)for(var n=-1,r=i.length-1;n<r;)t+='<li class="offer-preview__content-list-item">'+i[n+=1]+"</li>";return t+='</ul></div></div><div class="offer-preview__total"><h4 class="offer-preview__total-title">'+this.tr("Total Price")+':</h4><span class="offer-preview__total-old-price">'+e.data.config.priceWithoutDiscount+'</span><span class="offer-preview__total-price">'+e.data.config.price+"</span></div></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="card-expiration-poster '+e.classes.byName+'"><a href="'+e.data.url+'" class="card-expiration-poster__wrap _link"><div class="card-expiration-poster__content"><div class="card-expiration-poster__info"><span class="card-expiration-poster__title">'+e.data.config.title+'</span><span class="card-expiration-poster__description">'+e.data.config.description+'</span></div><button class="button '+e.buttonClasses.byName+' card-expiration-poster__button _btn">'+e.data.config.buttonTitle+'</button></div></a><i class="card-expiration-poster__close button-close _close"></i></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="plan-poster plan-poster_home"><a href="'+e.data.url+'" class="plan-poster__wrap link-white _link"><span class="plan-poster__cell"><span class="plan-poster__title">'+e.data.config.title+'</span><span class="plan-poster__button button button-l button-blue">'+e.data.config.buttonTitle+"</span></span></a></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="plan-poster plan-poster_home-wide"><a href="'+e.data.url+'" class="plan-poster__wrap link-white _link"><span class="plan-poster__cell"><span class="plan-poster__title">'+e.data.config.title+'</span><span class="plan-poster__button button button-xl button-red">'+e.data.config.buttonTitle+"</span></span></a></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(26);t.oldSync=t.oldSync||t.sync,t.sync=function(e,i,n){if(!i.getQueryParams&&!n.getQueryParams||i.oldSync)return t.oldSync.call(this,e,i,n);if(!i.app){if("undefined"==typeof window||!window.app)throw new Error('Model\'s "app" object is not defined');i.app=window.app}return i.app.fetcher.request(e,i,n)},e.exports=t})?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";var i,n;function r(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}t=function(e){return e&&e.__esModule?e:{default:e}}(t),e.exports=(n=i=function(){function e(){}var i=e.prototype;return i.run=function(){var e=function(e){return function(){var t=this,i=arguments;return new Promise((function(n,o){var s=e.apply(t,i);function a(e){r(s,n,o,a,l,"next",e)}function l(e){r(s,n,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function e(i){var n;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validate(i);case 2:return n=e.sent,e.abrupt("return",this.execute(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.validate=function(e){return e},i.execute=function(){throw new Error("Execute method not implemented!")},e}(),i.errorCodes={},n)},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var o=i(1061),s=i(975).Exception,a=i(1162),l=function(e){function i(t){var i,n=t.app,r=t.downloadManager,o=t.isFreeLicenseAvailable,s=t.getDownloadModel,a=t.beforeDownloadStart,l=t.onDownloadStart;if(i=e.call(this)||this,!n||!r||"function"!=typeof s)throw new Error('"app", "downloadManager" and "getDownloadModel" are required');return i.app=n,i.downloadManager=r,i.getDownloadModel=s,i.isFreeLicenseAvailable=o||function(){},i.beforeDownloadStart=a||function(){},i.onDownloadStart=l||function(){},i}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(i,e);var n=i.prototype;return n.validate=function(e){if(!e.size||!e.file)throw new Error("Required params missing");return e},n.execute=function(){var e=r(t.default.mark((function e(n){var r,o,a,l,c;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.file,o=n.size,a=n.ignoreFreeModal,!this.isFreeLicenseAvailable(r,o)||a){e.next=3;break}throw new s({code:i.errorCodes.FREE_LICENSE_AVAILABLE});case 3:if(!this.app.user.isLoggedIn()){e.next=7;break}this.downloadForAuth(n),e.next=9;break;case 7:return e.next=9,this.downloadForGuest(n);case 9:if(l=this.getDownloadModel(r,o),r.isFreeForSize(o)||r.isPurchased(o)||!l.isPlanRefillNeeded()){e.next=12;break}throw new s({code:i.errorCodes.PLAN_REFILL_NEEDED});case 12:return e.next=14,l.requestLink();case 14:return c=e.sent,this.beforeDownloadStart(l,r),e.abrupt("return",this.downloadManager.downloadByUrl({app:this.app,link:c}));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.downloadForAuth=function(e){var t=e.size,n=e.isElNoticeShown;if("el0"===t&&!n&&this.app.user.checkExtendedProduct())throw new s({code:i.errorCodes.EXTENDED_LICENSE_DOWNLOAD})},n.downloadForGuest=function(){var e=r(t.default.mark((function e(n){var r;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.file,!n.isCartEnabled||r.get("inCart")){e.next=4;break}return e.next=4,(new a).execute({file:r,observer:this.app.observer});case 4:if(!this.app.features.isFeatureOnValue("Is Signup Modal On Download Allowed")){e.next=6;break}throw new s({code:i.errorCodes.SIGNUP_NEEDED});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i}(o);l.errorCodes={FREE_LICENSE_AVAILABLE:"FREE_LICENSE_AVAILABLE",EXTENDED_LICENSE_DOWNLOAD:"EXTENDED_LICENSE_DOWNLOAD",PLAN_REFILL_NEEDED:"PLAN_REFILL_NEEDED",SIGNUP_NEEDED:"SIGNUP_NEEDED",PERMISSION_DENIED:"PERMISSION_DENIED",CAPTCHA_ERROR:"CAPTCHA_ERROR",OTHER:"OTHER"},e.exports=l},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(1118),n=i(0),r=i(941);e.exports=r.extend({name:"Slider",el:!1,lazyload:!1,infiniteLoop:!1,responsive:null,useControls:!0,useRangeControl:!0,maxRangeValue:200,swipeSensitivity:60,transitionDuration:500,rangeTransitionDuration:0,activeInCenter:!1,slidesToShow:1,slidesToMove:1,currentOffset:0,currentIndex:0,firstIndex:0,events:{"touchstart ._slider":"onTouchStart","touchend ._slider":"onTouchEnd","touchmove ._slider":"onTouchMove","input ._range-input":"onRangeInput","click ._next":"onNextClick","click ._prev":"onPrevClick"},globals:{"resize window":"onWindowResize"},clientAfterRender:function(){this.slider=this.el.querySelector("._slider"),this.slides=this.el.querySelectorAll("._slider-item"),this.addAnimationListener(),this.lazyload&&this.setImagePlaceholders(),this.initializeSlider()},addAnimationListener:function(){this.slider.addEventListener("transitionend",this.handleTransitionEnd.bind(this))},remove:function(){this.slider.removeEventListener("transitionend",this.handleTransitionEnd.bind(this)),r.prototype.remove.call(this)},handleTransitionEnd:function(e){e.target.classList&&e.target.classList.contains("_slider")&&(this.blockControls=!1,this.infiniteLoop&&this.handleInfiniteLoop())},initializeSlider:function(){this.setResponsiveOptions(),this.maxOffset=this.el.clientWidth-this.slider.clientWidth,this.lastWidth=window.innerWidth,this.currentIndex=this.firstIndex,this.moveToNextSlide(this.slides[this.currentIndex],0)},onTouchStart:function(e){this.slider.classList.toggle("no-transition",!1),this.startTouch=e.originalEvent.touches[0].clientX},onTouchEnd:function(e){var t=e.originalEvent.changedTouches[0].clientX,i=this.startTouch-t||0;if(Math.abs(i)>this.swipeSensitivity){var n=i<0?-1:1;this.slideSwitch(n)}},onWindowResize:n.throttle((function(){0!=this.lastWidth-window.innerWidth&&this.isSliderVisible()&&(this.useRangeControl&&(this.el.querySelector("._range-input").value=0),this.initializeSlider())}),500),onRangeInput:function(e){var t=e.target;this.currentOffset=this.maxOffset/this.maxRangeValue*t.value,this.animateMotion(this.rangeTransitionDuration,this.currentOffset)},onPrevClick:function(e){this.blockControls||(e.stopPropagation(),this.slideSwitch(-1))},onNextClick:function(e){this.blockControls||(e.stopPropagation(),this.slideSwitch(1))},slideSwitch:function(e){this.currentIndex=this.getNextIndex(e),this.moveToNextSlide(this.slides[this.currentIndex])},getNextIndex:function(e){var t=this.currentIndex+e*this.slidesToMove;return t<=0?0:t>=this.slides.length-this.slidesToMove?this.slides.length-this.slidesToMove:t},moveToNextSlide:function(e,t){void 0===t&&(t=this.transitionDuration),this.setActiveSlide(e.classList);var i=e.offsetLeft,n=i+e.offsetWidth/2,r=this.el.clientWidth/2,o=this.activeInCenter?r-n:-i;o<this.maxOffset?this.currentOffset=this.maxOffset:this.currentOffset=o,this.toggleControls(),this.animateMotion(t,this.currentOffset)},animateMotion:function(e,t){this.slider.style.transitionDuration=e+"ms",this.slider.style.transform="translate3d("+t+"px, 0, 0)",e?this.blockControls=!0:this.infiniteLoop&&this.handleInfiniteLoop()},setImagePlaceholders:function(){var e=this;this.slides.forEach((function(t){var i=t.querySelector("._slider-img"),n=e.slider.clientHeight*t.dataset.ratio;t.style.width=n+"px",t.classList.add("placeholder"),i.onload=function(){t.style.width="inherit"}}))},handleInfiniteLoop:function(){this.currentIndex===this.slidesToShow-1&&(this.currentIndex=this.slides.length-this.slidesToShow-1,this.jumpTo(this.slides[this.currentIndex])),this.currentIndex>=this.slides.length-this.slidesToShow&&(this.currentIndex=this.slidesToShow,this.jumpTo(this.slides[this.currentIndex]))},jumpTo:function(e){this.slider.classList.add("no-transition"),this.moveToNextSlide(e,0),this.slider.classList.remove("no-transition")},setResponsiveOptions:function(){var e=this;if(this.responsive){var t=this.responsive[this.getBreakpoint()];t&&Object.keys(t).forEach((function(i){e[i]=t[i]}))}},getBreakpoint:function(){return t(Object.keys(this.responsive),window.innerWidth)},setActiveSlide:function(e){this.el.querySelector(".active")&&this.el.querySelector(".active").classList.remove("active"),e.add("active")},isSliderVisible:function(){return this.$(this.slider).is(":visible")},toggleControls:function(){if(this.useControls){var e=this.el.querySelector("._prev"),t=this.el.querySelector("._next");e.classList.add("visible-control"),t.classList.add("visible-control"),0!==this.currentOffset&&0!==this.currentIndex||e.classList.remove("visible-control"),(this.currentOffset<=this.maxOffset||this.currentIndex===this.slides.length-1)&&t.classList.remove("visible-control")}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(1092),i(1093);var t=i(0),n=i(26).$,r=i(33).fileViewButtons,o=i(624),s=i(987),a=i(1094),l=i(947);e.exports=s.extend({name:"FilesList",el:!1,autoScrollToStart:!1,events:{"click ._to-cart":"onCartClick","click ._to-favorites":"onFavoritesClick","click ._to-similar":"onSimilarClick","click ._cover":"onCoverClick","contextmenu .file-box":"onCustomFileClick","mouseup .file-box":"onCustomFileClick"},trackImpression:function(){var e=this.collection.pager?this.collection.pager.get("page"):1;this.collection.length&&this.$el.is(":visible")&&this.app.observer.broadcast("Track:UE:File:UserSeeFileThumb",{files:this.collection.serialize(),relatedMode:this.relatedMode,view:this.name,page:e})},setFileEventsListeners:function(){var e=this;this.on("clientAfterRender",this.markFavorites),this.listenTo(this.app.observer,{"Favorites:PanelCacheUpdate":this.onFavoritesPanelCacheUpdate,"Cart:added":function(t){return e.markCart(!0,t.fileId)},"Cart:removed":function(t){return e.markCart(!1,t.fileId)},"Cover:Add":function(t){return e.markCover(!0,t.fileId)},"Cover:Remove":function(){return e.markCover(!1)},"Cover:SetIndicator":function(t){return e.setCoverIndicator(t.fileId)}})},getFileThumbID:function(e){return+n(e).parents("[data-id]").data("id")},onCartClick:function(e){var t=this;e.stopPropagation(),e.preventDefault();var i=this.getFileModel(e.currentTarget);if(this.app.observer.broadcast(i.get("inCart")?"Track:UE:File:RemoveFromCart":"Track:UE:File:AddToCart",{id:i.get("id"),file:i.serialize(),position:this.collection.indexOf(i),view:this.name}),this.app.observer.fire(i.get("inCart")?"Cart:remove":"Cart:add",{fileId:i.get("id")}),!i.get("inCart")&&!this.app.user.isLoggedIn()){var n=new l({id:i.get("id"),imageUrl:i.makeThumb("wide"),width:i.get("width"),height:i.get("height"),type:i.get("type"),alt:i.get("title")});this.app.store.get("ModalsManager").show("SignupModal",{app:this.app,title:this.tr("Add to Cart?"),subTitle:"video"===i.get("type")?this.tr('<span class="%s">Create your Account</span> to add this video to your Cart',"sub-text"):this.tr('<span class="%s">Create your Account</span> to add this image to your Cart',"sub-text"),previewFile:n}).then((function(){return t.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:t.name+"/addToCart"})})).catch((function(){}))}},onFavoritesClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.getFileModel(e.currentTarget);this.app.observer.broadcast(t.get("inFavorites")?"Track:UE:File:RemoveFromFavorites":"Track:UE:File:AddToFavorites",{id:t.get("id"),file:t.serialize(),position:this.collection.indexOf(t),view:this.name}),t.get("inFavorites")||this.app.store.link("FileForFavorite",t),this.app.observer.fire("Favorites:ToggleFile",{id:t.get("id")})},onSimilarClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.getFileModel(e.currentTarget);this.app.observer.broadcast("Track:UE:File:ToSimilar",{file:t,position:this.collection.indexOf(t)+1});var i=t.makeRelatedUrl({relatedTo:"similar"});this.app.router.redirect(i)},onCoverClick:function(e){if(e.stopPropagation(),e.preventDefault(),this.$(e.currentTarget).hasClass("active"))this.app.observer.fire("Cover:Remove");else{var t=this.getFileModel(e.currentTarget),i=this.app.store.get("Folder"),n=this.app.store.get("PortfolioCover");n?this.coverCrop(t,n):i&&this.coverCrop(t,i,{folderId:i.get("id")})}},trackNewTabClick:function(e,t){var i=this.$(e).closest("[data-id]").data("id"),n=this.collection.get(i);this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"FileThumb",target:{target:"fileView",targetId:i},params:Object.assign(n&&n.toTracking()||{},t,{view:this.name})})},onCustomFileClick:function(e){[o.rightMouse,o.middleMouse].includes(e.which)&&this.trackNewTabClick(e.currentTarget)},onFavoritesPanelCacheUpdate:function(e){var t=e.folderId,i=e.options,n=void 0===i?{}:i,r=this.app.store.get("FolderCache"),o=this.app.store.get("Folder");if(r){var s=n.changes,a=n.refetch;if(this.collection.syncWithPanelCache&&o.get("id")===t){var l=s?s.added.map((function(e){return e.id})):[],c=s?s.removed.map((function(e){return e.id})):[];if(l.length&&a)return void this.collection.fetch();if(c.length)return void this.collection.remove(c)}this.markFavorites()}},markFavorites:function(){var e=this,i=this.app.store.get("FolderState"),n=i&&i.get("folderID"),o=this.app.store.get("FolderCache");if(o){var s=this.app.store.get("Folder"),a=s&&s.get("id")===n;this.collection.each((function(i){var n=!!o.get(i.get("id")),s=n?"removeFavorites":"addToFavorites",l=t.findWhere(r,{key:s}).label;i.set({inFavorites:n});var c=e.$('[data-id="'+i.get("id")+'"]');c.find("._label-in-favorites").toggleClass("hidden",a||!n),c.find("._to-favorites").toggleClass("active",n).attr({title:l})}))}},markCart:function(e,i){var n=this,o=this.collection.where((function(e){return t.contains(i,e.get("id"))}));t.each(o,(function(i){i.set("inCart",e);var o=n.$("[data-id="+i.get("id")+"]");o.find("._label-in-cart").toggleClass("hidden",!e),o.find("._to-cart").toggleClass("active",e).attr({title:t.findWhere(r,{key:e?"removeFromCart":"addToCart"}).label})}))},markCover:function(e,t){var i=this.app.store.get("Folder"),n=this.app.store.get("PortfolioCover");(i||n)&&(this.$("._cover.active").removeClass("active"),e&&this.$("[data-id="+t+"] ._cover").addClass("active"))},coverCrop:function(e,t,i){void 0===i&&(i={}),new a({app:this.app,file:e,destroyOnHide:!0,model:t,additionalData:i}).show()},setCoverIndicator:function(e){this.$("._cover.active").removeClass("active"),e&&this.$("[data-id="+e+"] ._cover").addClass("active")},getFileModel:function(e){return this.collection.get(this.getFileThumbID(e))}})}))},function(e,t,i){},function(e,t,i){},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(974),n=i(1095);e.exports=t.extend({name:"CoverCrop",additionalData:{},initialize:function(){var e=this;this.title=this.tr("Cover Crop"),this.body=function(){return new n({app:e.app,file:e.file,model:e.model,additionalData:e.additionalData})},this.footer=[{label:this.tr("Cancel"),hide:!0},{label:this.tr("Ok"),color:"blue",defaultAction:!0,callback:"cropCallback"}]},cropCallback:function(){var e=this;this.closeOnOverlayClick=!0,this.$el.addClass("modal_loading"),this.listenToOnce(this.model,"sync",(function(t,i){i.errors||e.app.observer.fire("Cover:Add",{fileId:e.file.get("id")}),e.hide()})),this.findView("CoverCropBody").crop()}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(981),r=i(1096),o=i(556),s=i(749),a=i(861).prepareThumbFilename,l=450,c=2e3;e.exports=o.extend({name:"CoverCropBody",el:!1,template:r,additionalData:{},prepareRender:function(){this.sizes=this.getThumbSizes()},serialize:function(){return{sizes:this.sizes,url:s.getThumbUrl({file:this.file.serialize(),size:"wideSmall",protocol:this.app.parsedUrl.protocol,genFilename:a.bind(this,this.app)})}},clientAfterRender:function(){this.cropper=new n(this.$("._img").get(0),{aspectRatio:5,minCropBoxWidth:this.sizes.width,minContainerHeight:this.sizes.height,zoomable:!1})},getThumbSizes:function(){var e=this.file.get("width"),t=this.file.get("height");return e>t?{width:l,height:Math.floor(t*l/e)}:{width:Math.floor(e*l/t),height:l}},crop:function(){var e=this.cropper.getCropBoxData(),i=this.sizes.width/this.sizes.height>5,n=c/this.sizes.width,r=t({},this.additionalData,{fileId:this.file.get("id"),boxWidth:c,boxHeight:Math.floor(c*this.sizes.height/this.sizes.width),width:i?Math.floor(e.width*n):c,height:Math.floor(e.height*n),top:Math.floor(e.top*n),left:Math.floor(e.left*n)});this.model.save({coverCropData:r})}})}))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<div class="cover-crop" style="width: '+t(e.sizes.width)+'px;"><div class="cover-crop__wrap"><img class="cover-crop__img _img" src="'+e.url+'" style="width: '+t(e.sizes.width)+"px; height: "+t(e.sizes.height)+'px;" /></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(973),r=[28,42,56,70];e.exports=n.extend({defaults:{route:"",offset:0,limit:r[0],page:1,totalItems:0,totalPages:0,pagerLimit:1,schema:{}},validation:{offset:{required:!0,pattern:/^[0-9]\d*$/,min:0,fn:function(e){if(e<0||this.get("totalItems")&&e>this.get("totalItems"))return"Invalid value for offset, given: "+e}},page:{required:!0,pattern:/^[1-9]\d*$/,min:1,fn:function(e){if(this.get("totalPages")&&e>this.get("totalPages"))return"Invalid value for page, given: "+e}}},getLimits:function(){return r},getQueryParams:function(){return this.pick(["limit","offset"])},initialize:function(e){var t=e.page,i=e.offset;t?this.mutateOffsetByPage(t):i&&this.mutatePageByOffset(i),this.on("change",this.calculate)},parse:function(e){return t.pick(e,t.keys(this.defaults))},calculate:function(e){t.has(e.changed,"page")&&this.mutateOffsetByPage(e.changed.page),(t.has(e.changed,"offset")||t.has(e.changed,"limit"))&&this.mutatePageByOffset(e.changed.offset),this.attributes.totalPages=Math.ceil(parseFloat(this.get("totalItems")/this.get("limit")))},mutateOffsetByPage:function(e){void 0===e&&(e=this.get("page")),this.attributes.offset=Math.max(parseInt(e,10)-1,0)*this.get("limit")},mutatePageByOffset:function(e){void 0===e&&(e=this.get("offset")),this.attributes.page=Math.floor(parseInt(e/this.get("limit"),10))+1},getSchema:function(){var e=this;if(!t.isEmpty(this.get("schema")))return this.get("schema");var i=function(t){return t<=0||t>e.get("totalPages")?null:e.getUrl({page:t})};return{current:this.getUrl(),buttons:{first:{href:i(this.validation.page.min),page:this.validation.page.min,active:this.get("page")!==this.validation.page.min},last:{href:i(this.get("totalPages")),page:this.get("totalPages"),active:this.get("page")!==this.get("totalPages")},prev:{href:i(this.getPrevPage()),page:this.getPrevPage(),active:this.hasPrevPage()},next:{href:i(this.getNextPage()),page:this.getNextPage(),active:this.hasNextPage()}}}},getUrl:function(e){void 0===e&&(e={});var t=Object.assign(this.getUrlParams(),this.serialize(),e);return this.app.makeUrl(t,this.getUrlQueryParams())},getUrlParams:function(){},getUrlQueryParams:function(){},hasNextPage:function(e){return void 0===e&&(e=this.get("page")),e<this.get("totalPages")},hasPrevPage:function(e){return void 0===e&&(e=this.get("page")),e>this.validation.page.min},getPrevPage:function(){return Math.max(parseInt(this.get("page"),10)-1,1)},getNextPage:function(){return Math.min(parseInt(this.get("page"),10)+1,this.get("totalPages"))},getNextOffset:function(){var e=parseInt(this.get("offset"),10),t=parseInt(this.get("limit"),10);return Math.min(e+t,this.get("totalItems"))}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,function(e,t,i){(function(e){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(26).$,r=i(938),o=i(94),s=i(646),a=i(859),l=i(947),c=(0,i(12).getLogger)(e),u=["Search","Folder","CustomFolder"];e.exports=t({},r,{asyncFileViewModalLoad:!1,enableListThroughNavigation:!0,storeFileViewModalAsLastViewed:!1,needToUpdateHistoryState:!1,replaceState:!0,onFileClick:function(e){if(e.ctrlKey||e.shiftKey||e.metaKey)this.trackNewTabClick(e);else{var t=this.getTargetInfo(e);this.shouldIgnoreModal(t.file)?this.app.observer.broadcast("Track:UE:File:OpenFileView",{file:t.file,view:"FileThumb"}):(e.preventDefault(),e.stopPropagation(),this.tryShowSignUpModal(t.file)||this.applyFileInfo(t))}},shouldIgnoreModal:function(e){return this.app.features.isFeatureOnValue("Should ignore file view modal")||this.app.features.isFeatureOnValue("Should ignore file view modal on mobile")&&this.isMobileModeEnabled()||e.isAudio()},applyFileInfo:function(e){var t=this,i=e.$file,n=e.id,r=e.file;this.asyncFileViewModalLoad?this.fetchFile(n).then((function(e){t.openFileModal({$file:i,id:n,file:e})})):this.openFileModal({$file:i,id:n,file:r})},openFileModal:function(e){var t=e.$file,i=e.id,n=e.file;n&&n.id?(t&&this.trackFileClick(t,i,n),this.setActiveModal("FileViewModal",n)):c.warn("Fail to get File data by id")},onFileZoomClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.getTargetInfo(e),i=t.$file,n=t.id,r=t.file;this.tryShowSignUpModal(r)||(r&&(this.trackFileClick(i,n,r),this.trackFileZoomClick(r)),this.setActiveModal("ZoomModal",r))},setActiveModal:function(e,i,n){void 0===n&&(n={}),this.app.store.get("ModalsManager").show(e,this.getModalOptions(e,i,t({},n,{track:!0}))).catch((function(){}))},getModalOptions:function(e,i,n){var r=this;return void 0===n&&(n={}),t({},{app:this.app,model:i,collection:this.collection,isFirstItem:this.isFirstItem.bind(this),isLastItem:this.isLastItem.bind(this),rightEdgeCallback:this.rightEdgeCallback.bind(this),leftEdgeCallback:this.leftEdgeCallback.bind(this),enableListThroughNavigation:this.enableListThroughNavigation,afterRenderCallback:this.tuneScroll.bind(this)},n,{FileViewModal:function(){return n.track&&r.trackModalOpen(i,n),{trackingInfo:r.getTrackingInfo?r.getTrackingInfo():null,asyncFileViewModalLoad:r.asyncFileViewModalLoad,onLicenseSuccessCallback:r.onFileViewLicenseSuccessCallback.bind(r),needToUpdateHistoryState:r.needToUpdateHistoryState,storeFileViewModalAsLastViewed:r.storeFileViewModalAsLastViewed,shouldTrackModalShow:!!n.track,updateHistoryState:r.updateHistoryState.bind(r),onRelatedReadyCallback:function(){return r.trigger("relatedReady")}}},ZoomModal:function(){return{shouldShowDownloadButton:function(){return!0},onDownloadCallback:r.handleDownloadFromZoom.bind(r),zoomShowCallback:r.updateHistoryState.bind(r),zoomHideCallback:r.zoomHideCallback.bind(r)}}}[e]())},handleDownloadFromZoom:function(e,t){this.openModalAndStartDownload(e,t),this.trackZoomHide(t)},openModalAndStartDownload:function(e,i){var n=this.getModalOptions("FileViewModal",i,{track:!1});this.app.store.get("ModalsManager").show("FileViewModal",t({},n,{onShowCallback:function(){this.isOpened||this.findView("PriceTable").onDownloadClick(e)}})).catch((function(){}))},getTargetInfo:function(e){var t=n(e.currentTarget).closest("[data-id]"),i=t.data("id");return{$file:t,id:i,file:this.collection.get(i)}},updateHistoryState:function(e,t){if(void 0===t&&(t=!1),+this.app.queryParams.qview!==e){var i=this.app.makeUrl(this.app.parsedUrl.path,{query:{qview:e||null}});this.app.router.appNavigate(i,t)}},tryShowSignUpModal:function(e){var t=this,i=1===parseInt(o.get("signUpFileShown"),10);if(!u.includes(this.app.router.routeName)||!this.app.features.isFeatureOnValue("Sign Up Modal instead of File View Modal")||i||this.app.user.isLoggedIn()||s.mobilePhone())return!1;var n=new l({id:e.get("id"),imageUrl:e.makeThumb("wide"),width:e.get("width"),height:e.get("height"),type:e.get("type"),alt:e.get("title")});return this.app.store.get("ModalsManager").show("SignupModal",{app:this.app,previewFile:n}).then((function(){o.set("signUpFileShown",1,{expires:365}),t.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:1})})).catch((function(){})),!0},isFirstItem:function(e){var t=this.pagerModel?this.pagerModel.get("page"):1,i=this.collection.indexOf(this.collection.get(e));return 1===t&&0===i},isLastItem:function(e){var t=this.pagerModel?this.pagerModel.get("page"):1,i=this.pagerModel?this.pagerModel.get("pagesCount"):1,n=this.collection.indexOf(this.collection.get(e));return t===i&&!this.collection.at(n+1)},tuneScroll:function(e){var t=this.$('[data-id="'+e+'"]');if(t.length){var i=window.innerHeight,r=window.pageYOffset,o=r+i,s=t.offset().top,a=s+t.height();if(a>o||s<r)s-100+n("._page-footer").outerHeight(!0)+i>n(document).height()&&(s=a-i+200),n("body").add(n("html")).stop(!1,!0).animate({scrollTop:s-100},600)}},fetchFile:function(e){var t=new a({id:e},{app:this.app,validate:!0});return t.promiseFetch({parser:"parseFromFile"}).then((function(){return t})).catch((function(){c.error("Failed to fetch file. id: "+e)}))},hideFileViewModalIfOpen:function(){var e=this.app.store.get("ModalsManager");e&&e.get("FileViewModal")&&e.hide("FileViewModal")},zoomHideCallback:function(e){this.updateHistoryState(null,!1);var t=this.app.store.get("ModalsManager").last();t&&"FileViewModal"===t.id&&(this.setActiveModal("FileViewModal",e),this.trackZoomHide(e))},getTrackingInfo:function(){return{callingView:this.name}},trackFileClick:function(e,t,i){this.app.observer.broadcast("Track:UE:File:ThumbClick",{id:t,file:i,index:e.index(),query:this.app.store.get("SearchQuery").get("query"),sorting:this.app.store.get("SearchQuery").toTracking("sorting"),view:this.name})},trackFileZoomClick:function(e){this.app.observer.broadcast("Track:UE:Zoom:Click",{type:"FastZoom",file:e,view:this.name})},trackModalOpen:function(e,t){this.app.observer.broadcast("Track:UE:FileViewModal:Open",{file:e,ecommerce:t.ecommerce,view:this.name})},trackZoomHide:function(e){this.app.observer.broadcast("Track:UE:FileViewModal:Ready",{file:e,view:"FileViewModal",source:{source:"closeZoom",action:"click",pagetype:"zoom"}})},leftEdgeCallback:function(){},rightEdgeCallback:function(){},onFileViewLicenseSuccessCallback:function(){}})}))}).call(this,i(8)(e))},,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(1104),n=i(556),r=i(558);i(1105),e.exports=r.extend({name:"EditableInfoTooltip",params:{type:"simple",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,destroyOnHide:!0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},data:{},prepareContent:function(){var e=this;this.content=new n({el:!1,template:t,serialize:function(){return{data:e.data}}})}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<ul class="editable-info">',n=e.data;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<li class="editable-info__item"><span class="editable-info__key">'+t((r=n[o+=1]).key)+':</span><span class="editable-info__value">'+t(r.value)+"</span></li>";return i+="</ul>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){},,,,,,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports={makeUrlByParamsFromApi:function(e){var t=e.route,i=void 0===t?"Search":t,n=e.query,r=e.type,o=void 0===r?{}:r,s=e.params,a=e.seller;return this.app.makeUrl({route:i,query:n.replace(/\s/g,"-"),seller:a,photo:o.image,vector:o.vector,video:o.video,illustration:o.illustration,crelloTemplate:o.crelloTemplate,audio:o.audio},{query:s})}}})?n.apply(t,r):n)||(e.exports=o)},,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e,t){return e.reduce((function(e,i){return i<=t&&(e=Math.max(e,i)),e}),-1)}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(1124),r=i(1125),o=i(626);i(1126),e.exports=o.extend({name:"SearchBarLite",el:!1,template:n,enableNavigation:!0,formAction:"",placeholder:"",classes:"",events:t({},o.prototype.events,{"click ._reset":"onResetClick"}),initialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.initialize.apply(this,t),this.listenTo(this.model,"change paramsArrived",this.render)},serialize:function(){return{query:this.model.get("query"),formAction:this.formAction,placeholder:this.placeholder,classes:this.classes}},onResetClick:function(){var e=this;this.searchReset(),this.render().promise().then((function(){return r(e.$("._field"))}))},onRegularFieldInput:function(e){this.$("._reset").toggleClass("hidden",!e.target.value.length)},onSubmit:function(e){e.preventDefault();var t=this.$("._field").val().trim();this.model.set({query:t}),this.trackSubmit(t),0!==t.length&&this.model.hasChanged()&&this.enableNavigation&&this.getSearchUrl()&&this.app.router.redirect(this.getSearchUrl())},searchReset:function(){this.model.resetToDefaults()},handleModelError:function(){},handleModelInvalid:function(){},getSearchUrl:function(){},trackSubmit:function(){}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(973),r=i(1129),o=n.extend({defaults:{limit:60,offset:0}}),s=i(1098),a=n.extend({});e.exports=r.extend({storageKey:"pageable",endless:!1,pending:!1,byPageCache:{},modeIdToPageLinks:{},lastSyncOptions:{},getQueryParams:function(){var e=t.result(this.filters,"getQueryParams"),i=t.result(this.pager,"getQueryParams"),n=t.result(this.sorting,"getQueryParams");return Object.assign(e,i,n)},initialize:function(e,i){void 0===i&&(i={}),Object.assign(this,t.pick(i,["url","route","endless"])),this.initFilters(i.filters),this.initPager(i.pager),this.initSorting(i.sorting),this.listenTo(this.filters,"change",this.handleFiltersChange),this.listenTo(this.pager,"change",this.handlePagerChange),this.listenTo(this.sorting,"change",this.handleSortingChange),this.on({request:this.onCollectionRequest,sync:this.onCollectionSync,update:this.onCollectionUpdate,reset:this.onCollectionUpdate,sort:this.invalidateCaches})},initFilters:function(e){void 0===e&&(e={}),e.cid?this.filters=e:this.filters=new o(e,{app:this.app})},initPager:function(e){var i=this;void 0===e&&(e={}),e.cid?this.pager=e:(this.endless||t.defaults(e,{limit:t.result(this.app.settings.get(this.storageKey),"limit")}),this.pager=new s(e,{app:this.app}),e&&e.getUrlQueryParams&&(this.pager.getUrlQueryParams=function(){return e.getUrlQueryParams()})),this.pager.getUrlParams=function(){return i.getQueryParams()}},initSorting:function(e){void 0===e&&(e={}),e.cid?this.sorting=e:this.sorting=new a(e,{app:this.app})},fetch:function(e){if(this.pending)return!1;var i=Object.assign({remove:!this.endless,reset:t.result(e,"reset",this.isEmpty()),page:this.pager.get("page")},e);return this.endless&&(i.add=!0),this.endless&&this.pager.get("page")<this.pager.previous("page")&&(i.at=0),r.prototype.fetch.call(this,i)},serializePartial:function(){var e=this;return this.endless&&!t.result(this.lastSyncOptions,"reset")?t.map(this.getCachedPageIds(this.lastSyncOptions.page),(function(t){return e.get(t).serialize()})):r.prototype.serialize.call(this)},handleFiltersChange:function(e,i){var n=t.pick(e.changed,["limit","offset"]);t.isEmpty(n)||this.setPager(n,Object.assign({pageAbleInnerSync:!0},i)),i.pageAbleInnerSync||(this.resetCaches(),this.onFiltersChange(e,i))},handlePagerChange:function(e,t){t.pageAbleInnerSync||!(e.changed.page||e.changed.limit||e.changed.offset)||this.hasCachedPage(e.changed.page)||this.onPagerChange(e,t)},onFiltersChange:function(){},onPagerChange:function(){},handleSortingChange:function(){},onCollectionRequest:function(){this.pending=!0,this.lastSyncOptions={}},onCollectionSync:function(e,t,i){this.pending=!1,this.lastSyncOptions=i},onCollectionUpdate:function(){this.setPager({totalItems:this.totalItems}),this.invalidateCaches()},resetCaches:function(){this.modeIdToPageLinks={},this.byPageCache={}},invalidateCaches:function(){if(this.resetCaches(),this.endless)for(var e=Math.max(this.pager.get("limit"),1),t=0;t<this.models.length;t+=1){var i=Math.ceil((t+1)/e),n=this.models[t];this.modeIdToPageLinks[n.id]=i,this.byPageCache[i]?this.byPageCache[i].push(n.id):this.byPageCache[i]=[n.id]}},hasCachedPage:function(e){var t=this.byPageCache[+e];return t&&t.length===this.pager.get("limit")},getCachedPageIds:function(e){return this.byPageCache[parseInt(e,10)]},getPageByItemId:function(e){return this.modeIdToPageLinks[parseInt(e,10)]},getFilters:function(e){return t.isArray(e)?this.filters.pick(e):this.filters.get(e)},setFilters:function(){var e;return(e=this.filters).secureSet.apply(e,arguments)},getPager:function(e){return t.isArray(e)?this.pager.pick(e):this.pager.get(e)},setPager:function(){var e;return(e=this.pager).secureSet.apply(e,arguments)},getSorting:function(e){return t.isArray(e)?this.sorting.pick(e):this.sorting.get(e)},setSorting:function(){var e;return(e=this.sorting).secureSet.apply(e,arguments)},fetchPage:function(e,t){this.setPager({page:e?parseInt(e,10):this.getPager("page")},t),this.pager.hasChanged()||this.fetch(t)},fetchPrevPage:function(){!this.pending&&this.pager.hasPrevPage()&&this.setPager({page:this.pager.getPrevPage()})},fetchNextPage:function(e){void 0===e&&(e={}),!this.pending&&this.pager.hasNextPage()&&this.setPager({page:this.pager.getNextPage()},Object.assign({},e))}})}))},,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(558),n=i(556);e.exports=t.extend({name:"ActionTooltip",params:{type:"simple",rootClose:!0,hideOnScroll:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","lm","auto"],templateOffset:{top:4,left:4},pointerShow:!0},classes:{tooltip_dark:!0},title:"",prepareContent:function(){var e=this;this.content=new n({el:!1,template:function(){return e.title}})},setTitle:function(e){void 0===e&&(e=""),this.title=e}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<form class="search-bar-lite '+t(e.classes)+'" action="'+e.formAction+'"><div class="search-bar-lite__input-box"><input class="search-bar-lite__input _field" type="text" name="query" value="'+t(e.query)+'" placeholder="'+t(e.placeholder)+'" autocomplete="off" /><i class="search-bar-lite__reset button-reset _reset';return e.query||(i+=" hidden"),i+='"></i></div><div class="search-bar-lite__btn-box "><button class="search-bar-lite__btn button button-search button-search-watery button-search-lite" type="submit"></button></div></form>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e,t){var i=e.length?e:null;if(i&&(void 0===t||!t))if(i.trigger("focus"),i[0].setSelectionRange){var n=i.val().length;i[0].setSelectionRange(n,n)}else i.val(i.val())}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(164);Object.assign(t.validators,{boolean:function(e,t,i,n){if("boolean"!=typeof e)return this.format("{0} must be boolean",this.formatLabel(t,n))}}),Object.assign(t.patterns,{email:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),e.exports=t},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(1059),r=i(973);e.exports=n.Collection.extend({model:r,constructor:function(e,t){var i=this;void 0===t&&(t={}),this.app=t.app,this.on("destroy",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.trigger.apply(i,["sync"].concat(t))})),n.Collection.call(this,e,t)},clone:function(e){return new this.constructor(this.models,{model:this.model,comparator:this.comparator},e)},getQueryParams:function(){return{}},_prepareModel:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=n.Collection.prototype._prepareModel.apply(this,t);return r.app=this.app,r},toPLAIN:function(e){return this.models.map((function(t){return t.get(e||t.idAttribute)}))},serialize:function(e){return void 0===e&&(e={}),this.models.map((function(t){return t.serialize(e)}))},toAPI:function(){return{}},isBulkAllowed:function(){return!0},sortByOrder:function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.models.sort((function(t,i){return e.includes(t.id)&&e.includes(i.id)?e.indexOf(t.id)-e.indexOf(i.id):0})),t.silent||this.trigger("sort",this,t)},promiseSync:function(e,i,n){var r=this;return void 0===n&&(n={}),new Promise((function(o,s){r.sync(e,i,t({},n,{success:function(e){return e.errors?s(e.errors):o(e)},error:function(e){s(e)}}))||s(new Error("There is no result returned"))}))}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var o=i(564).to,s=i(154),a=s.apiErrors,l=s.captchaErrors,c=i(1065),u=i(975).Exception,d=i(6);e.exports=d.extend({defaults:{itemId:null,size:null,source:"item",license:null,licenseId:null,method:null,subscription:0,fileType:"image",resolution:"standart",splitCount:0,sizeMask:0,link:null,purchased:!1,"g-recaptcha-response":""},url:function(){return this.options.url||"Download"},getQueryParams:function(){return r({},this.attributes)},parse:function(e){return this.set("g-recaptcha-response",""),e.errors?{}:{link:e.downloadLink}},isPlanRefillNeeded:function(){var e=this.get("method");if("membership"!==e)return!1;var t=this.app.user.serializeUserPlans({type:e}).sort((function(e,t){return e.order-t.order}))[0];return!(t&&this.app.user.products.findWhere({type:e,id:t.id}).canBePurchased())},getErrorCodes:function(){return this.options.errorCodes||c.errorCodes},requestLink:function(){var e=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function i(){var n,r,s,c,d;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e.promiseSave());case 2:if(n=t.sent,r=n[0],s=n[1],!r){t.next=13;break}if(c=e.getErrorCodes(),!r.some((function(e){return e.error_code===a.haveNoPermissionToSection}))){t.next=9;break}throw new u({code:c.PERMISSION_DENIED,message:r.map((function(e){return e.error_message})).join(" ")});case 9:if(!(d=r.find((function(e){return!!Object.values(l).includes(+e.error_code)&&e})))){t.next=12;break}throw new u({code:c.CAPTCHA_ERROR,message:d.error_message});case 12:throw new u({code:c.OTHER,payload:r[0]});case 13:return t.abrupt("return",s.downloadLink);case 14:case"end":return t.stop()}}),i)})))()}})},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(6),n=i(34),r=i(1114);e.exports=n.extend(r).extend({model:t,type:"photo",url:function(){return this.options.url||"TopKeywords"},initialize:function(e,t){this.type=t.type||this.type},getQueryParams:function(){return{lang:this.app.lang,type:this.type}},parse:function(e){var t=this,i=e.data;return(void 0===i?[]:i).map((function(e){return{name:e.query,url:t.makeUrlByParamsFromApi(e),rate:e.rate}})).sort((function(e,t){return e.rate-t.rate}))}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="select-items _scrollable"><div class="select-items__list-wrapper _scrollable"><div class="select-items__list">';e.allGroups&&(i+='<label class="select-items__list-item"><input class="select-items__radio _group-selection" type="radio" name="group" value="-1"',-1==+e.selected&&(i+=' checked="checked"'),i+=' /><i class="select-items__icon icon icon-ok"></i><span class="select-items__text">'+t(e.allGroupsTitle)+"</span></label>"),e.groups.length&&e.allGroups&&(i+='<div class="select-items__list-sep"></div>');var n=e.groups;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<label class="select-items__list-item"><input class="select-items__radio _group-selection" type="radio" name="group"',+(r=n[o+=1]).id==+e.selected&&(i+=' checked="checked"'),i+=' value="'+t(r.id)+'" /><i class="select-items__icon icon icon-ok"></i><span class="select-items__text">'+t(r.name)+"</span></label>";return i+="</div></div></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},,,,,function(e,t,i){"use strict";i.r(t);var n=i(1141),r=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},function(e,t,i){(function(e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,i(151),i(564),i(1369),i(1371),i(15),i(12),i(1373),i(1123),i(1307),i(1309),i(1310),i(1311),i(1374)],n=function(t,n,r,o,s,a,l,c,u,d,h,p,f,g){"use strict";function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function b(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function y(e){return function(){var t=this,i=arguments;return new Promise((function(n,r){var o=e.apply(t,i);function s(e){b(o,n,r,s,a,"next",e)}function a(e){b(o,n,r,s,a,"throw",e)}s(void 0)}))}}t.__esModule=!0,t.default=void 0,n=v(n),o=v(o),s=v(s),c=v(c),u=v(u),d=v(d),h=v(h),p=v(p),f=v(f),g=v(g);var _,w,x=(0,l.getLogger)(e),T=function(){return Promise.all([i.e(8),i.e(43)]).then(i.t.bind(null,1565,7))},k=function(){return Promise.all([i.e(8),i.e(43)]).then(i.t.bind(null,1558,7))},S="#4792de",C={waveColor:"#b4b4b4",progressColor:S,cursorWidth:0,barWidth:2,barRadius:2,height:48,barGap:2,responsive:!0,hideScrollbar:!0},M={width:"2px",color:S,opacity:"1"},P={name:"AudioList",inject:["app","userPlansManager"],components:{AudioPlayer:o.default,PurchaseAudioButton:s.default},mounted:function(){var e=this;this.intersectionObserver=new IntersectionObserver(this.onElementObserved),this.userAudioPlansTooltip=new c.default({app:this.app,plans:this.userPlansManager,onUserProductClickCallback:this.onUserProductClick.bind(this)}),this.actionTooltip=new u.default({app:this.app}),this.audioItems.forEach((function(t){e.intersectionObserver.observe(e.$refs["waveform-"+t.id][0])})),this.app.observer.on("SearchFilter:Toggle",this.handleSearchFiltersToggle)},beforeDestroy:function(){this.userAudioPlansTooltip&&this.userAudioPlansTooltip.remove(),this.actionTooltip&&this.actionTooltip.remove(),Object.values(this.players).forEach((function(e){return e.destroy()})),this.intersectionObserver.disconnect(),this.app.observer.off("SearchFilter:Toggle",this.handleSearchFiltersToggle)},mixins:[p.default,d.default,f.default,h.default,g.default],data:function(){return{players:{},activePlayerId:null,isActivePlayerPlaying:!1,audioToPlanId:{}}},computed:{downloadLabel:function(){return this.$t("Download Track")},reDownloadLabel:function(){return this.$t("Re-Download Track")},shouldShowNameAsLink:function(){return this.app.features.isFeatureOnValue("Audio Single Page")},activePlayer:function(){return null==this.activePlayerId?null:this.players[this.activePlayerId]},shouldShowPurchaseButton:function(){return this.isUserLoggedIn&&this.userPlans.length>0},shouldShowPlansDropdown:function(){return this.userPlans.length>1}},methods:{onElementObserved:function(e){var t=this;e.forEach((function(e){e.isIntersecting&&(t.intersectionObserver.unobserve(e.target),t.initPlayer(e.target))}))},initPlayer:function(e){var t=this;return y(n.default.mark((function i(){var r,o,s,a,l,c;return n.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=+e.dataset.id,i.prev=1,i.next=4,Promise.all([T(),k(),t.fetchAudiosPeaks(r)]);case 4:o=i.sent,_=o[0].default,w=o[1].default,i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),x.error(t.name+":Can not fetch audio player dependencies.");case 12:s=t.isAudioHasPeaks(r),a=m({},C,{container:e,plugins:[w.create(M)]}),s&&(a.backend="MediaElement"),l=_.create(a),c=t.makeAudiosThumbUrl(r),s?l.load(c,t.getAudiosPeaks(r),"none",t.getAudiosDuration(r)):l.load(c),l.on("finish",(function(){t.isActivePlayerPlaying=!1})),l.on("play",(function(){t.activePlayerId=r,t.isActivePlayerPlaying=!0})),l.on("pause",(function(){t.isActivePlayerPlaying=!1})),t.players[r]=l;case 22:case"end":return i.stop()}}),i,null,[[1,9]])})))()},handleWaveformClick:function(e){var t=this.players[e];t&&this.activePlayerId!==e&&(this.activePlayer&&this.activePlayer.stop(),t.play())},handleTogglePlay:function(e){var t=this.players[e];t&&(this.activePlayerId!==e?(this.activePlayer&&this.activePlayer.stop(),t.play()):t.playPause())},handleThumbDownload:function(e){this.isUserLoggedIn||(e.preventDefault(),this.app.store.get("ModalsManager").show("SignupModal",{app:this.app}).catch((function(){})))},handleDownloadButtonMouseEnter:function(e){var t=e.currentTarget;this.actionTooltip.setTitle(this.$t("Download Sample")),this.actionTooltip.show(m({},e,{currentTarget:t}))},handleDownloadButtonMouseLeave:function(e){var t=e.currentTarget;this.actionTooltip.hide(m({},e,{currentTarget:t}))},handlePlansBtnClick:function(e,t){e.stopPropagation();var i=this.getAudioPlanById(t);if(i){var n=e.currentTarget;this.userAudioPlansTooltip.setData({audioId:t,selectedPlanId:i.id}),this.userAudioPlansTooltip.toggle(m({},e,{currentTarget:n}))}},onUserProductClick:function(e,t){var i,n=+e.currentTarget.dataset.id,r=this.userPlanById[n];r&&(this.userAudioPlansTooltip.hide(),this.audioToPlanId=m({},this.audioToPlanId,((i={})[t]=r.id,i)))},handleSearchFiltersToggle:function(){Object.values(this.players).forEach((function(e){return e.setHeight(C.height)}))},getAudioPlanById:function(e){if(!this.userPlans.length)return null;var t=this.audioToPlanId[e];return t&&this.userPlanById[t]?this.userPlanById[t]:this.userPreferredPlan},getPlanLabel:function(e){var t=this.getAudioPlanById(e);return t?this.getAudioPlanLabel(t):""},getSizeToDownload:function(e,t){var i=t.purchased;if(e)return this.getSizeForPlan(e);var n=Object.keys(i);return n.length>0?this.getSizeByPurchased(n):null},getDownloadLabel:function(e){var t=e.id,i=e.purchased,n=this.getAudioPlanById(t),r=this.getSizeToDownload(n,{purchased:i});return r&&i[r.id]?this.reDownloadLabel:this.downloadLabel},getFormattedDuration:function(e){return(0,a.toMMSS)(e)},handlePurchase:function(e){var t=this;return y(n.default.mark((function i(){var o,s,a,l,c;return n.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=e.id,s=e.purchased,a=t.getAudioPlanById(o),l=a||t.userPreferredPlan,c=t.getSizeToDownload(a,{purchased:s})||t.getSizeForPlan(t.userPreferredPlan),i.next=6,(0,r.to)(t.purchase(o,{plan:l,size:c}));case 6:if(!i.sent[0]){i.next=10;break}return i.abrupt("return");case 10:t.setPurchasedSizeForAudio(o,c);case 11:case"end":return i.stop()}}),i)})))()}}};t.default=P},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)}).call(this,i(8)(e))},function(e,t,i){"use strict";i.r(t);var n=i(1143),r=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,i(1303),i(1304),i(1305)],void 0===(o="function"==typeof(n=function(e,t,i,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}e.__esModule=!0,e.default=void 0,t=r(t),i=r(i),n=r(n);var o={name:"AudioPlayer",inject:{components:{default:{IconPlay:t.default,IconPause:i.default,IconDownload:n.default}}},props:{isPlaying:{type:Boolean,default:!1},thumbDownloadUrl:{type:String,required:!0},name:{type:String,required:!0},link:{type:String,default:""},shouldShowNameAsLink:{type:Boolean,default:!1},contributorName:{type:String,required:!0},contributorLink:{type:String,required:!0},duration:{type:String,required:!0}}};e.default=o})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){e.exports={player:"_A1ceL","play-pause-btn":"_3mNgn",playPauseBtn:"_3mNgn","info-container":"_1NJvv",infoContainer:"_1NJvv",link:"_ad26P",name:"_1VeJ9",contributor:"_3bpe5",duration:"_S1z1V","contributor-name":"_2VyJs",contributorName:"_2VyJs",btn:"_3GINa"}},function(e,t,i){"use strict";i.r(t);var n=i(1146),r=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,i(1306)],void 0===(o="function"==typeof(n=function(e,t){"use strict";e.__esModule=!0,e.default=void 0;var i={name:"PurchaseAudioButton",inject:{components:{default:{IconArrowDown:(t=function(e){return e&&e.__esModule?e:{default:e}}(t)).default}}},props:{planLabel:{type:String,required:!0},shouldShowDropdown:{type:Boolean,default:!1},downloadLabel:{type:String,required:!0}}};e.default=i})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){e.exports={"purchase-btn":"_12GY_",purchaseBtn:"_12GY_","purchase-title":"_3DEZz",purchaseTitle:"_3DEZz","selected-plan":"_r-tut",selectedPlan:"_r-tut","plans-btn":"_18bKp",plansBtn:"_18bKp","plan-box":"_2VOsW",planBox:"_2VOsW",multiplans:"_1lZGf"}},function(e,t,i){e.exports={item:"_2cRiM",waveform:"_o_MbW","guest-btn":"_15gHg _3NyXJ _3bMwA _2rCVC",guestBtn:"_15gHg _3NyXJ _3bMwA _2rCVC"}},,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(6).extend({defaults:{layout:"wide",linkTarget:!1,isFilterFull:!0,previews:!0,type:!1,author:!1,maxsize:!1,videoLength:!0,embeddedCollections:!0},validation:{layout:{required:!0,oneOf:["normal","big","wide"]},linkTarget:{required:!0,boolean:!0},isFilterFull:{required:!0,boolean:!0},previews:{required:!0,boolean:!0},type:{required:!0,boolean:!0},author:{required:!0,boolean:!0},maxsize:{required:!0,boolean:!0},videoLength:{required:!0,boolean:!0},embeddedCollections:{required:!0,boolean:!0}},initialize:function(e,t){var i=this;this.on("change",(function(){t.userSettings.set("SearchSettings",i.serialize())}))}},{createInstance:function(e){var i=(void 0===e?{}:e).app;if(!i)throw Error("app is required option parameter");var n=i.userSettings;return new t(n.get("SearchSettings"),{app:i,userSettings:n})}});e.exports=t},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(51),r=i(859);e.exports=n.extend({url:"Trending",idAttribute:"position",defaults:{position:null,container:"",link:"",img:"",contentId:null,file:{}},relations:{file:r},serialize:function(){return t({},this.attributes,{file:this.attributes.file.isNew()?{}:this.attributes.file.serialize(),contentId:this.attributes.contentId?parseInt(this.attributes.contentId,10):this.attributes.contentId,link:this.attributes.link?this.app.makeUrl(this.attributes.link,{absolute:!0}):""})}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,,,,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(1159);var t=i(0),n=i(33).keywordsTitles,r=i(1160),o=i(624),s=i(556);e.exports=s.extend({name:"TopKeywords",template:r,count:{cols:6,rows:5},classNames:"",updateOnItemsTypeChange:!1,shouldBeColumns:!0,events:{"click ._link":"onLinkClick","contextmenu ._link":"onCustomLinkClick","mouseup ._link":"onCustomLinkClick"},initialize:function(){this.updateOnItemsTypeChange&&this.app.store.get("SearchQuery")&&(this.listenTo(this.app.store.get("SearchQuery"),"change",this.requestKeywords),this.listenTo(this.collection,"sync",this.render))},serialize:function(){return{countCols:this.count.cols,indexTabId:this.collection.type,keywordsTitle:t.findWhere(n,{type:this.collection.type}).label,topKeywordsList:this.shouldBeColumns?this.dividedIntoColumns(this.collection.serialize()):this.collection.serialize(),classNames:this.classNames}},requestKeywords:function(){this.collection.type=this.app.store.get("SearchQuery").defineItemsType(),this.collection.fetch()},dividedIntoColumns:function(e){var i=this;return t.chain(e).groupBy((function(e,t){return Math.floor(t/i.count.rows)})).toArray().value().slice(0,this.count.cols)},onLinkClick:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick(e):this.app.observer.broadcast("Track:UE:File:KeywordClick",{position:this.getItemIndex(e.currentTarget.innerText),text:e.currentTarget.innerText})},onCustomLinkClick:function(e){[o.rightMouse,o.middleMouse].includes(e.which)&&this.trackNewTabClick(e)},trackNewTabClick:function(e){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"Keywords",target:{target:"search"},params:{url:e.currentTarget.href,position:this.getItemIndex(e.currentTarget.innerText),text:e.currentTarget.innerText,type:"collection"}})},getItemIndex:function(e){var t=this.collection.serialize(),i=t.find((function(t){return t.name===e}));return t.indexOf(i)+1}})}))},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="top-keywords '+e.classNames+'"><h3 class="top-keywords__title">'+this.tr(e.keywordsTitle)+'</h3><div class="top-keywords__content top-keywords__content_cols'+t(e.countCols)+'">',n=e.topKeywordsList;if(n)for(var r=-1,o=n.length-1;r<o;){i+='<ul class="top-keywords__list list">';var s=n[r+=1];if(s)for(var a,l=-1,c=s.length-1;l<c;)i+='<li class="top-keywords__list-item list-item"><a class="top-keywords__link _link" href="'+(a=s[l+=1]).url+'">'+t(a.name)+"</a></li>";i+="</ul>"}return i+="</div></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(6),n=i(34);e.exports=n.extend({url:"EnterpriseGroups",model:t.extend({defaults:{id:null,name:"",status:"",showTransferLicenses:!1,selected:!1,overdraft:null},getPaymentMode:function(){if(null===this.get("overdraft"))throw new Error("Group payment mode is not defined");return this.get("overdraft")>0?"postPayment":"prePayment"}}),queryParams:{},getQueryParams:function(){return this.queryParams},parse:function(e){return e&&e.data||[]},isTransferLicensesAvailable:function(){var e=this.getSelected();return e?e.get("showTransferLicenses"):!!this.findWhere({showTransferLicenses:!0})},getSelected:function(){return this.findWhere({selected:!0})}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(1061);e.exports=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var i=t.prototype;return i.validate=function(e){if(!e.observer||!e.file)throw new Error("Required params missing");return e},i.execute=function(e){var t=e.observer,i=e.file;return new Promise((function(e){t.once("Cart:added",e),t.fire("Cart:add",{fileId:i.get("id")})}))},t}(t)},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(1164);e.exports={showVideoPreview:function(e){void 0===e&&(e={});var i=this.$(e.anchor).find("._file-box-image");this.setView("videoPreview",new t({$mount:this.$(e.anchor).find("._file-box-holder"),$poster:i,width:i.outerWidth(),height:i.outerHeight(),file:e.contentData.file,RAWVideoFiles:e.contentData.rawVideoFiles,app:this.app})).render()},hideVideoPreview:function(){this.getView("videoPreview")&&this.getView("videoPreview").remove()},isVideoFile:function(e){return"video"===e.get("type")}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(970);e.exports=t.extend({name:"VideoPreview",el:void 0,tagName:"span",className:"file-box-video",muted:!0,controls:!1,viewMode:"wide"})})?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(971);var n=i(561).Pager,r=i(624),o=i(1177),s=i(556),a=i(558);e.exports=o.extend({className:"pager",events:t({},o.prototype.events,{"click ._input":"showToolTip","keydown ._input":"handleInputKeyDown","blur ._input":"handleInputBlur","contextmenu ._page":"trackNewTabClick","mouseup ._page":"handleCustomButtonClick"}),serialize:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t({},o.prototype.serialize.apply(this,i),{isInputReadOnly:this.isInputReadOnly})},clientAfterRender:function(){this.setNotExistView("tooltip",a,{params:n,content:new s({el:!1,template:function(){return this.tr("Type a page number and press Enter.")}})})},onButtonClick:function(e){if(e.ctrlKey||e.shiftKey||e.metaKey)this.trackNewTabClick(e);else{e.preventDefault();var t=e.currentTarget.getAttribute("data-dir"),i=parseInt(e.currentTarget.getAttribute("data-page"),10);["next","prev"].includes(t)&&(i=this.model.get("page")+("next"===t?1:-1)),this.app.observer.broadcast("Track:UE:Pager:ButtonClick",{direction:t,page:i}),this.changePage(i)}},handleCustomButtonClick:function(e){e.which===r.middleMouse&&this.trackNewTabClick(e)},trackNewTabClick:function(e){var t=e.currentTarget.dataset,i=t.dir,n=t.page;this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"Pager",target:{target:"search"},params:{direction:i,page:n}})},handleInputBlur:function(e){var t=+e.currentTarget.value;t&&(t!==this.model.get("page")&&this.app.observer.broadcast("Track:UE:Pager:SubmitInput",{page:t}),this.changePage(t))},changePage:function(e){this.model.secureSet({page:e})},showToolTip:function(e){this.getView("tooltip").show(e)},handleInputKeyDown:function(e){e.keyCode===r.enter&&(e.preventDefault(),e.stopPropagation(),this.handleInputBlur(e)),this.getView("tooltip").hide(e)},onPagerChangeSuccess:function(){}})}))},,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(941),r=i(1178),o=n.extend({name:"Pager",el:!1,events:{"click ._page":"onButtonClick","click ._input":"onInputEvent","input ._input":"onInputEvent","focusin ._input":"onInputEvent","focusout ._input":"onInputEvent","keydown ._input":"onInputEvent","keypress ._input":"onInputEvent","mouseenter ._page":"onMouseEnterButton","mouseleave ._page":"onMouseLeaveButton"},initialize:function(){this.model=this.collection.pager,this.listenTo(this.model,"change",this.onStateChange),this.listenTo(this.collection,"update reset",this.onStateChange)},serialize:function(){return{needToRender:this.model.get("totalPages")>this.model.get("pagerLimit"),schema:this.model.getSchema(),state:this.model.serialize(),isInputActive:this.isInputActive(),isShowPageInInput:this.isShowPageInInput(),placeholder:this.placeholder}},isInputActive:function(){return this.model.get("activeButton")&&this.model.get("page")!==this.model.get("totalPages")},isShowPageInInput:function(){return!t.contains([this.model.get("totalPages"),this.model.getSchema().buttons.first.page],this.model.get("page"))},onStateChange:function(e,t){void 0===t&&(t={}),t.isSilent||this.render()},onButtonClick:function(e){e.preventDefault();var i=e.currentTarget.getAttribute("data-dir"),n=parseInt(e.currentTarget.getAttribute("data-page"),10);-1!==t.indexOf(["next","prev"],i)&&(n=this.model.get("page")+("next"===i?1:-1)),-1===e.currentTarget.className.search("pager__page_inactive")&&this.changePage(n)},onInputEvent:function(e){var i=e.currentTarget,n=e.which||e.keyCode;switch(e.type){case"focusin":i.setAttribute("data-value",i.value.trim()),i.value="";break;case"focusout":""===i.value&&(i.value=this.model.get("page"));break;case"keypress":13===n&&(e.preventDefault(),t.isEmpty(i.getAttribute("data-value"))||this.changePage(+i.value));break;case"input":""!==i.value&&this.model.preValidate("page",i.value)&&(i.value=i.getAttribute("data-value"),this.incorrect()),i.setAttribute("data-value",i.value)}},incorrect:function(){var e=this,i=this.$(".pager__input-box");this.fieldIncorrect(i),t.delay((function(){return e.fieldReset(i)}),300)},changePage:function(e){this.model.secureSet({page:e})}});t.defaults(o.prototype,r),e.exports=o},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0);e.exports={forcePreventBrowserAutoFillForm:function(e){var i=Backbone.$(e);t.contains(["password"],i.attr("name"))&&t.isEmpty(i.value)&&i.attr("type","password")},fieldCorrect:function(e,t){this.fieldReset(e,t),e.addClass("has-success simple")},fieldIncorrect:function(e,t){if(this.fieldReset(e,t),e.addClass("has-error simple"),t&&"string"==typeof t.errorMessage){var i='<p class="help-block">'+t.errorMessage+"</p>";e.append(i)}},fieldProgress:function(e,t){this.fieldReset(e,t),t&&t.keepEnabled||e.find("input, select, textarea").attr("disabled","disabled")},fieldReset:function(e){e.removeClass("has-success has-warning has-error").find(":disabled").removeAttr("disabled"),e.find(".help-block").remove()},_getContextId:function(e){return e.attr("data-id")||e.attr("data-id",t.uniqueId("autoId_")).attr("data-id")},_getErrorHolder:function(e,t){return t&&void 0!==t.errorHolder?t.errorHolder:e}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,,,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var o=i(26),s=i(1220).base,a=i(1221);e.exports=function(){var e=function(e){return function(){var t=this,i=arguments;return new Promise((function(n,o){var s=e.apply(t,i);function a(e){r(s,n,o,a,l,"next",e)}function l(e){r(s,n,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function e(r,l,c){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.e(25).then(i.t.bind(null,1478,7)),i.e(25).then(i.t.bind(null,1484,7))]);case 2:r.draggable(n({},s,{helper:function(){return l.getView("fileDraggableHelper")||l.setViews({fileDraggableHelper:new a(c.helperOptions)}),o.$("<div></div>")},start:function(e,t){l.getView("fileDraggableHelper").active=!0,l.getView("fileDraggableHelper").setData(n({model:c.helperOptions.getModel(e)},l.getView("fileDraggableHelper").getDefaults())).then((function(){return t.helper.append(l.getView("fileDraggableHelper").$el)}))},drag:function(e,t){t.position.top>window.innerHeight+window.scrollY-t.helper.height()&&l.app.observer.fire("Favorites:OpenPanel")},stop:function(e,t){t.helper.remove(),l.getView("fileDraggableHelper").active=!1}}));case 3:case"end":return e.stop()}}),e)})));return function(t,i,n){return e.apply(this,arguments)}}()},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},,,,,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(6);e.exports=n.extend({url:"CuratedFolder",defaults:{id:null,count:1e4},parse:function(e){return e.errors?{}:t.pick(e.data,t.keys(this.defaults))},getLink:function(){return this.app.makeUrl("folder/curated-collection-"+this.get("id"))}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=[{id:"ds",bit:8}];e.exports=function(e){if(!e.length)return{};var i=e.filter((function(e){return t.some((function(t){return!Object.keys(t).every((function(i){return t[i]===e[i]}))}))})),n=i.filter((function(e){return 1===e.licenseBit||8===e.bit})).pop(),r=i.length?i:e;return n||r[r.length-1]}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports={beforeDownloadStart:function(e,t){var i=e.get("size"),n=t.isLicensed(i),r=["EnterpriseLicensedDownloads","EnterpriseCompDownloads"].includes(this.app.router.routeName),o=this.userPlansManager.get("preferred"),s=o.type;if(!this.app.user.isEnterprise()||n||r){if(!this.app.user.isEnterprise()){var a=o.bit_price;t.isFree()&&(a="Free",t.isFreeCurated()&&(a="FreeCurated",s="membership")),this.app.observer.broadcast("Track:UE:File:Download",{route:this.app.router.routeName,file:t,size:i,cost_type:a,view:this.name,plan:this.app.tracking.rewriteProduct(s)})}}else this.app.observer.broadcast("Track:UE:File:AddToCart",{id:t.get("id"),file:t.serialize(),view:this.name});this.injectPurchased(t,i)},injectPurchased:function(e,t,i){void 0===i&&(i=[]);var n=i[0]&&i[0].error_message,r=!n||{error:n},o=this.app.config.prices.singlePaySizes&&this.app.config.prices.singlePaySizes[t];this.app.features.isFeatureEnabled("Single pay for multiple sizes",1)&&o?o.forEach((function(t){e.setPurchase(t,r)})):e.setPurchase(t,r)},initDownloadChain:function(e,t){return this.app.chain.initChain(this.getDownloadChainName(e,t),{refPrefix:this.refPrefix,fileId:e.get("id"),fileType:e.get("type")})},getDownloadChainName:function(){return"download"}}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},,,,,function(e,t,i){e.exports=i(1362)},function(e,t){var i=function(){function e(e,t,i,n,r){this.tagName=e,this.insertLineBreaks=t,this.suppressLineBreaks=i,this.noNesting=n,this.markupGenerator=r,null==r&&(this.markupGenerator=function(e,t,i){return"<"+e.tagName+">"+t+"</"+e.tagName+">"})}return e.createSimpleTag=function(t,i){return void 0===i&&(i=!0),new e(t,i,!1,!1)},e.createTag=function(t,i,n){return void 0===n&&(n=!0),new e(t,n,!1,!1,i)},e}();e.exports=i},,,,,,,,,,,,,,,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(1216),i(1217),i(1218);var n=i(1090),r=i(1257),o=i(1219),s=i(749),a=i(1185),l=i(1091),c=i(943),u=i(15).toMMSS,d=["normalSquare","big","wideSmall","wide","xwide","huge","large","max"],h=l.extend({name:"ConfigurableFilesList",el:!1,collection:null,template:o,layout:"wide",draggableOptions:{},scale:1,maxRows:2,thumbListHolderWidth:1200,isTitleInside:!1,isCartBtnEnabled:!0,isFavoriteBtnEnabled:!0,isSimilarBtnEnabled:!1,isZoomBtnEnabled:!1,isDownloadBtnEnabled:!0,isPictureTagEnabled:!1,isPanoramasImproveEnabled:!0,displaySeeMoreAsThumb:!1,shouldShowVideoLength:!1,lazyLoadOptions:{},isSlidable:!1,sliderParams:{},makeLikeGrid:!1,isEditableFolder:!1,isEditablePortfolio:!1,panoramasWidthToHeightMax:4,events:t({},l.prototype.events,{"click ._see-more":"handleSeeMoreClick","contextmenu ._thumb-link":"handleContextMenu","click ._thumb-link":"handleFileClick","mouseup ._thumb-link":"handleFileMouseup","click ._hint":"handleHintClick","contextmenu ._hint":"handleHintClick","mouseup ._hint":"handleHintMouseup"}),initialize:function(){if(!d.includes(this.layout))throw new Error("Layout: "+this.layout+" is not supported!");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];l.prototype.initialize.apply(this,t),this.applyPropsAutoCorrection(),this.setFileEventsListeners(),this.listenTo(this.collection,"update reset",this.render)},applyPropsAutoCorrection:function(){this.isTitleInside="normalSquare"!==this.layout,this.maxRows=Math.max(Math.min(this.maxRows,4),1)},serialize:function(){this.serialized=this.serializeItems();var e=this.getSettingsData()||{};return t({},this.getItems(),{layout:this.layout,classes:{list:r({"flex-files_wide":"wide"===this.layout,"flex-files_square":"normalSquare"===this.layout,"flex-files_xwide":"xwide"===this.layout,"flex-files_small-wide":"wideSmall"===this.layout,"flex-files_like-grid":this.makeLikeGrid,"flex-files_mobile":this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")}),slider:r({"files-slider":!0,"files-slider_enabled":this.shouldEnableSlider()})},styles:{list:this.makeListStyles()},shouldShowFreeLabel:this.shouldShowFreeLabel(),shouldShowVideoLength:this.shouldShowVideoLength&&e.videoLength,isTitleInside:this.isTitleInside,isCartBtnEnabled:this.checkCartBtnEnabled(),isFavoriteBtnEnabled:this.isFavoriteBtnEnabled,isSimilarBtnEnabled:this.isSimilarBtnEnabled,isZoomBtnEnabled:this.isZoomBtnEnabled&&!e.linkTarget,isEditableFolder:this.isEditableFolder,isEditablePortfolio:this.isEditablePortfolio,isPictureTagEnabled:this.isPictureTagEnabled,settings:e})},getItems:function(){return{items:this.serialized,itemsData:this.makeLikeGrid?this.makeLikeGridDataSheet():this.makeRenderDataSheet()}},shouldShowFreeLabel:function(){return!1},clientAfterRender:function(){if(this.shouldEnableSlider()&&this.experimentalSliderPlug(),this.lazyLoadOptions.enabled&&!this.app.ampEnabled)try{window.lazyLoadInstance.update()}catch(e){}this.clientAfterRenderCallback()},checkCartBtnEnabled:function(){return!this.app.user.isEnterprise()&&this.isCartBtnEnabled&&!this.app.features.isFeatureOnValue("Is cart hidden")},isDownloadButtonEnabled:function(e){return this.app.features.isFeatureOnValue("Show Download In Thumb Actions")&&this.isDownloadBtnEnabled&&!e.isVideo()},getThumbGutter:function(){return"wide"===this.layout?11:15},makeListStyles:function(){if(this.shouldEnableSlider())return"width: "+this.getItemsFullWidth()+"px;";if(1===this.maxRows)return"";var e=(this.renderStats.averageThumbHeight+this.renderStats.averageCroppedThumbHeight)/2,t=this.getThumbGutter();return"max-height: "+Math.floor((e+t)*this.maxRows)+"px; overflow: hidden;"},fileToSearchResult:function(e){return t({},e.serialize(),e.getFreeInfo(),{formattedLength:e.isVideo()?u(e.get("length")):void 0})},serializeItems:function(){var e=this,t=this.shouldDisplaySeeMore(),i=t?this.collection.first(8*this.maxRows):this.collection.models,n=!0,r="",o=i.reduce((function(t,i,o){var s=i.get("type");r||(r=s),r!==s&&(n=!1);var a=e.fileToSearchResult(i);a.lazyload={enabled:e.shouldEnableLazyLoad(o),dataSrc:a.thumbs[e.layout]},a.types={photo:"image"===s,vector:"vector"===s,video:"video"===s},a.shouldShowActions=!i.isBannedForCountry(),a.isDownloadButtonEnabled=e.isDownloadButtonEnabled(i),a.thumbPictureSourceSizes=e.thumbPictureSourceSizes(a);var l=e.getEmbeddedObject(o);return l&&t.push(l),t.push(a),t}),[]);if(t){var s=this.makeSeeMoreData()||{};Object.assign(o[o.length-1],{seeMoreData:s,url:s.url})}return c.injectFilesSEOMeta(this.app,o,n)},thumbPictureSourceSizes:function(e){return[{breakpoint:400,url:e.thumbs[this.layout]+", "+e.thumbs.xwide+" 2x"},{breakpoint:0,url:e.thumbs.wideSmall+", "+e.thumbs[this.layout]+" 2x"}]},calculatedDimensions:function(){var e=this;return this.serialized.length?this.serialized.map((function(t){var i=(s.config[t.type]||s.config.image)[e.layout],n=s.getThumbSizes(t,e.layout);return{id:t.id,thumb:s.calculateSize(t,i,e.layout),w:n.w,h:n.h}})):[]},makeRenderStats:function(){this.dimensions=this.calculatedDimensions();var e={totalThumbWidth:0,totalThumbHeight:0,totalCroppedThumbWidth:0,totalCroppedThumbHeight:0,averageThumbWidth:0,averageThumbHeight:0,averageCroppedThumbWidth:0,averageCroppedThumbHeight:0};if(!this.dimensions.length)return e;for(var t=0;t<this.dimensions.length;t+=1)e.totalThumbWidth+=this.dimensions[t].thumb.w,e.totalThumbHeight+=this.dimensions[t].thumb.h,e.totalCroppedThumbWidth+=this.dimensions[t].w,e.totalCroppedThumbHeight+=this.dimensions[t].h;return e.averageThumbWidth=e.totalThumbWidth/this.dimensions.length*this.scale,e.averageThumbHeight=e.totalThumbHeight/this.dimensions.length*this.scale,e.averageCroppedThumbWidth=e.totalCroppedThumbWidth/this.dimensions.length,e.averageCroppedThumbHeight=e.totalCroppedThumbHeight/this.dimensions.length,e},makeLikeGridDataSheet:function(){var e=this.calculatePanoramasRatio(),t=200*e;return this.serialized.reduce((function(i,n){var r=n.width/n.height,o=Math.round(r*t);return i[n.id]={width:o,height:t,styles:"width:"+o+"px; width:calc("+(r*e).toFixed(3)+" * var(--grid-row-height)); flex-grow:"+(10*r).toFixed(2),linkStyles:"padding-bottom:"+n.height/n.width*100+"%;",classes:{box:o<150?"file-container_small":"",link:"file-container__link"}},i}),{})},calculatePanoramasRatio:function(){var e=this,t=0;return this.serialized.forEach((function(i){var n=i.width/i.height;if(n>2.5){if(t+=1,n>e.panoramasWidthToHeightMax&&(i.width=i.height*e.panoramasWidthToHeightMax),!e.isPanoramasImproveEnabled)return;i.lazyload.enabled?i.lazyload.dataSrc=i.thumbs.large:i.lazyload={enabled:!0,src:i.thumbs[e.layout],dataSrc:i.thumbs.large}}})),1-t/this.serialized.length/2.75},makeRenderDataSheet:function(e){var t=this;return void 0===e&&(e=!1),this.renderStats=this.makeRenderStats(),this.dimensions.reduce((function(i,n){var r={width:110,height:110,styles:"",classes:{box:"_slider-item",link:"file-container__link"}};if("normalSquare"!==t.layout){r.classes.box="file-container_grow _slider-item",r.classes.link="file-container__link",r.styles="min-width: 160px;",r.width=n.w;var o=(t.renderStats.averageThumbHeight+t.renderStats.averageCroppedThumbHeight)/2;if(r.height=parseInt(o,10),e&&t.calculateItemRow(n,r)>t.maxRows)return i}return i[n.id]=r,i}),{})},experimentalSliderPlug:function(){var e=this.insertView("slider",new n(t({app:this.app},this.sliderParams)));e.el=this.el,e.$el=this.$el,e.delegateEvents(),e.clientAfterRender()},getItemsFullWidth:function(){return(this.renderStats.totalThumbWidth+this.renderStats.totalCroppedThumbWidth)/2},shouldDisplaySeeMore:function(){return!(this.collection.length<8*this.maxRows)&&this.displaySeeMoreAsThumb},shouldEnableSlider:function(){if(!this.isSlidable||this.app.ampEnabled||!this.collection.length)return!1;var e=this.getItemsFullWidth();return 4!==this.maxRows&&e>this.thumbListHolderWidth&&e<this.thumbListHolderWidth*this.maxRows},shouldEnableLazyLoad:function(e){return this.lazyLoadOptions.enabled&&!this.app.ampEnabled&&e>=this.lazyLoadOptions.offset},onFileMouseEnter:function(e){var t=this;if(this.showFilePreview(e),this.draggableOptions.enabled){var i=this.$(e.currentTarget);i.data("ui-draggable")||a(i,this,{helperOptions:{app:this.app,mode:this.draggableOptions.mode,defaults:this.getDraggableData.bind(this),getModel:function(){var e=t.collection.get(parseInt(i.data("id"),10));return t.fileToSearchResult(e)}}})}},getDraggableData:function(){return{layout:this.layout,itemsData:this.makeLikeGrid?this.makeLikeGridDataSheet():this.makeRenderDataSheet(),settings:{},layoutClasses:r({"flex-files_like-grid":this.makeLikeGrid})}},onFileMouseLeave:function(){this.hideVideoPreview()},showFilePreview:function(e){var t=this.collection.get(e.currentTarget.getAttribute("data-id"));t&&this.isVideoFile(t)&&this.showVideoPreview({anchor:e.currentTarget,contentData:{file:t}})},handleHintClick:function(){},handleHintMouseup:function(){},handleFileMouseup:function(){},handleFileClick:function(){},handleSeeMoreClick:function(){},handleContextMenu:function(){},calculateItemRow:function(){},makeSeeMoreData:function(){},getSettingsData:function(){},showVideoPreview:function(){},hideVideoPreview:function(){},isVideoFile:function(){},clientAfterRenderCallback:function(){},getEmbeddedObject:function(){}});e.exports=h}))},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}e.exports=function(e){var i="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),n='<div class="'+i(e.classes.slider)+'"><div class="files-slider__nav files-slider__nav_left _prev"><i class="icon icon-nav-arrow-left-white-big"></i></div><div class="flex-files '+e.classes.list+' _slider" ';e.styles.list&&(n+=' style="'+e.styles.list+'"'),n+=">";var r=e.items;if(r)for(var o,s=-1,a=r.length-1;s<a;)if((o=r[s+=1]).isHint)n+='<div data-id="'+i(o.id)+'"class="file-container _hint hint-container _file-container '+e.itemsData[o.id].classes.box+'"',e.itemsData[o.id].styles&&(n+=' style="'+e.itemsData[o.id].styles+'"'),n+='><a href="'+o.url+'"class="'+e.itemsData[o.id].classes.link+'"',e.itemsData[o.id].linkStyles&&(n+=' style="'+e.itemsData[o.id].linkStyles+'"'),n+="><img ",o.lazyload&&o.lazyload.enabled?(o.lazyload.src&&(n+=' src="'+i(o.lazyload.src)+'"'),n+='data-src="'+i(o.lazyload.dataSrc)+'"'):n+='src="'+i(o.thumbs[e.layout])+'"',n+='class="file-container__image _file-image',o.lazyload&&o.lazyload.enabled&&(n+=" lazyload"),n+='"alt="'+i(o.seoAlt)+'"title="'+i(o.seoTitle)+'"width="'+e.itemsData[o.id].width+'"height="'+e.itemsData[o.id].height+'"/><span class="hint-container__info">',o.text&&(n+='<span class="',o.phrase?n+="hint-container__title":n+="hint-container__phrase",n+='">'+i(o.text)+"</span>"),o.phrase&&(n+='<span class="hint-container__phrase">'+i(o.phrase)+"</span>"),n+='<span class="hint-container__icon-box"><i class="hint-container__icon icon"></i></span></span></a></div>';else if(o.isBanner)n+='<div data-id="'+i(o.id)+'"class="file-container _search-banner '+e.itemsData[o.id].classes.box+'"',e.itemsData[o.id].styles&&(n+=' style="'+e.itemsData[o.id].styles+'"'),n+="></div>";else{if(n+='<div data-id="'+i(o.id)+'" class="file-container _file-container '+e.itemsData[o.id].classes.box+'" ',e.itemsData[o.id].styles&&(n+=' style="'+e.itemsData[o.id].styles+'"'),n+='><a href="'+o.url+'"',e.settings.linkTarget&&(n+=' target="_blank"'),n+='class="'+e.itemsData[o.id].classes.link+" ",o.seeMoreData?n+=" _see-more":n+=" _thumb-link _file-box-holder _file-box-image",n+='"',e.itemsData[o.id].linkStyles&&(n+=' style="'+e.itemsData[o.id].linkStyles+'"'),n+=">",e.isPictureTagEnabled){n+="<picture>";var l=o.thumbPictureSourceSizes;if(l)for(var c,u=-1,d=l.length-1;u<d;)c=l[u+=1],n+="<source ",o.lazyload&&o.lazyload.enabled?n+='data-srcset="'+c.url+'"':n+='srcset="'+c.url+'"',n+='media="(min-width: '+c.breakpoint+'px)">'}if(n+="<img ",o.lazyload&&o.lazyload.enabled?(o.lazyload.src&&(n+=' src="'+i(o.lazyload.src)+'"'),n+='data-src="'+i(o.lazyload.dataSrc)+'"'):n+='src="'+i(o.thumbs[e.layout])+'"',n+='class="file-container__image _file-image',o.lazyload&&o.lazyload.enabled&&(n+=" lazyload"),n+='"alt="'+i(o.seoAlt)+'"title="'+i(o.seoTitle)+'"width="'+e.itemsData[o.id].width+'"height="'+e.itemsData[o.id].height+'"/>',e.isPictureTagEnabled&&(n+="</picture>"),o.seeMoreData||(0===o.shortTags.length&&(e.isTitleInside?n+='<span class="file-container__title">'+i(o.title)+"</span>":n+='<span class="file-container__title hidden">'+i(o.title)+" #"+i(o.id)+"</span>"),e.shouldShowFreeLabel&&o.freeLabel&&(n+='<div class="file-container__sale-free',o.isFreeCurated&&(n+=" file-container__sale-free_simple"),n+='"><div class="label label-sale',o.isFreeCurated&&(n+=" label-sale_curated"),n+='">'+i(o.freeLabel)+"</div></div>"),n+='<span class="file-container__indicators">',e.isCartBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-cart _label-in-cart',o.inCart||(n+=" hidden"),n+='"title="'+this.tr("In Shopping Cart")+'"></span>'),e.isFavoriteBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-favorites _label-in-favorites',o.inFavorites||(n+=" hidden"),n+='"title="'+this.tr("Added to Favorites")+'"></span>'),n+='</span><div class="file-container__details">',e.settings.author&&(n+='<img class="file-container__contributor-avatar avatar avatar-s" src="'+i(o.avatar)+'" />'),n+='<div class="file-container__name-details">',e.settings.author&&(n+='<div class="file-container__contributor label label-contributor">'+i(o.sellerName)+"</div>"),e.settings.maxsize&&(n+='<div class="file-container__maxsize label label-maxsize">'+i(o.width)+" x "+i(o.height)+"</div>"),n+="</div><div ","video"===o.type&&(n+=' class="file-container__video-details"'),n+=">",e.shouldShowVideoLength&&"video"===o.type&&(n+='<div class="file-container__video-length label label-video-length">'+i(o.formattedLength)+"</div>"),e.settings.type&&(n+='<div class="file-container__type label label-type label-type-'+i(o.type)+'"></div>'),n+="</div></div>",(e.settings.author||e.settings.maxsize||e.settings.type||e.shouldShowVideoLength&&"video"===o.type)&&(n+='<span class="file-container__details-shadow"></span>'),o.shouldShowActions&&(n+='<span class="file-container__actions">',o.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-new-download _to-download"title="',"video"===o.type?n+=""+this.tr("Download Video"):n+=""+this.tr("Download Image"),n+='" data-id="'+i(o.id)+'"></button>'),e.isCartBtnEnabled&&!o.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-cart',o.inCart&&(n+=" active"),n+=' _to-cart"title="',o.inCart?n+=""+this.tr("Remove from Shopping Cart"):n+=""+this.tr("Add to Shopping Cart"),n+='"></button>'),e.isFavoriteBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-favorites',o.inFavorites&&(n+=" active"),n+=' _to-favorites"title="',o.inCart?n+=""+this.tr("Remove from Favorites"):n+=""+this.tr("Add to Favorites"),n+='"></button>'),e.isSimilarBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-see-more-similars _to-similar"title="',"video"===o.type?n+=""+this.tr("Find Similar Videos"):n+=""+this.tr("Find Similar Images"),n+='"></button>'),n+="</span>"),"video"!==o.type&&(n+='<div class="file-container__btns">',e.isZoomBtnEnabled&&(n+='<button class="file-container__zoom file-action-btn file-action-btn_full-screen _zoom" title="'+this.tr("Quick Preview")+'"></button>'),e.isEditableFolder&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Folder Cover")+'"></button>'),e.isEditablePortfolio&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Portfolio Cover")+'"></button>'),n+="</div>")),o.seeMoreData&&(n+='<span class="file-container__see-more">'+o.seeMoreData.text+"</span>"),n+="</a>",o.shortTags.length>0){n+='<div class="file-container__tags">';var h=o.shortTags;if(h)for(var p,f=-1,g=h.length-1;f<g;)p=h[f+=1],n+='<a class="file-container__tag _short-tag" data-index="'+i(f)+'" href="'+i(this.app.makeUrl(t({route:"Search",query:p},o.types)))+'">'+i(p)+"</a>";n+="</div>"}n+="</div>"}return n+='</div><div class="files-slider__nav files-slider__nav_right _next"><i class="icon icon-nav-arrow-right-white-big"></i></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports.base={connectToSortable:"._sortable-files",cancel:".vjs-control-bar",addClasses:!1,appendTo:"body",cursor:"move",cursorAt:{top:15,left:0},scroll:!1,opacity:.5,zIndex:4001,distance:5,delay:150}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(1222),r=i(556);e.exports=r.extend({el:!1,defaultMode:"search",active:!1,template:n,initialize:function(e){e.mode&&(this.defaultMode=e.mode),e.app&&this.listenTo(e.app.observer,"Draggable:switchHelper",this.switchMode.bind(this))},serialize:function(){return this.data},clientAfterRender:function(){"search"===this.data.mode&&"wide"===this.data.thumbSize&&this.$("img").attr({style:this.data.itemsData[this.data.model.id].holderStyle})},setData:function(e){return e.mode||(e.mode=this.defaultMode),this.data=e,this.render().promise()},switchMode:function(e){if(this.active){var i=e,n=t.clone(this.data.model);t.size(t.omit(i,"mode"))<1&&(i=t.extend({},e,this.getDefaults())),this.setData(t.extend({},{model:n},i))}},getDefaults:function(){return t.result(this,"defaults")},defaults:function(){}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}e.exports=function(e){var i="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),n="";if("search"===e.mode){if(n+='<div class="'+i(e.layoutClasses)+'"><div data-id="'+i(e.model.id)+'" class="file-container _file-container '+e.itemsData[e.model.id].classes.box+'" ',e.itemsData[e.model.id].styles&&(n+=' style="'+e.itemsData[e.model.id].styles+'"'),n+='><a href="'+e.model.url+'"',e.settings.linkTarget&&(n+=' target="_blank"'),n+='class="'+e.itemsData[e.model.id].classes.link+" ",e.model.seeMoreData?n+=" _see-more":n+=" _thumb-link _file-box-holder _file-box-image",n+='"',e.itemsData[e.model.id].linkStyles&&(n+=' style="'+e.itemsData[e.model.id].linkStyles+'"'),n+=">",e.isPictureTagEnabled){n+="<picture>";var r=e.model.thumbPictureSourceSizes;if(r)for(var o=-1,s=r.length-1;o<s;)g=r[o+=1],n+="<source ",e.model.lazyload&&e.model.lazyload.enabled?n+='data-srcset="'+g.url+'"':n+='srcset="'+g.url+'"',n+='media="(min-width: '+g.breakpoint+'px)">'}if(n+="<img ",e.model.lazyload&&e.model.lazyload.enabled?(e.model.lazyload.src&&(n+=' src="'+i(e.model.lazyload.src)+'"'),n+='data-src="'+i(e.model.lazyload.dataSrc)+'"'):n+='src="'+i(e.model.thumbs[e.layout])+'"',n+='class="file-container__image _file-image',e.model.lazyload&&e.model.lazyload.enabled&&(n+=" lazyload"),n+='"alt="'+i(e.model.seoAlt)+'"title="'+i(e.model.seoTitle)+'"width="'+e.itemsData[e.model.id].width+'"height="'+e.itemsData[e.model.id].height+'"/>',e.isPictureTagEnabled&&(n+="</picture>"),e.model.seeMoreData||(0===e.model.shortTags.length&&(e.isTitleInside?n+='<span class="file-container__title">'+i(e.model.title)+"</span>":n+='<span class="file-container__title hidden">'+i(e.model.title)+" #"+i(e.model.id)+"</span>"),e.shouldShowFreeLabel&&e.model.freeLabel&&(n+='<div class="file-container__sale-free',e.model.isFreeCurated&&(n+=" file-container__sale-free_simple"),n+='"><div class="label label-sale',e.model.isFreeCurated&&(n+=" label-sale_curated"),n+='">'+i(e.model.freeLabel)+"</div></div>"),n+='<span class="file-container__indicators">',e.isCartBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-cart _label-in-cart',e.model.inCart||(n+=" hidden"),n+='"title="'+this.tr("In Shopping Cart")+'"></span>'),e.isFavoriteBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-favorites _label-in-favorites',e.model.inFavorites||(n+=" hidden"),n+='"title="'+this.tr("Added to Favorites")+'"></span>'),n+='</span><div class="file-container__details">',e.settings.author&&(n+='<img class="file-container__contributor-avatar avatar avatar-s" src="'+i(e.model.avatar)+'" />'),n+='<div class="file-container__name-details">',e.settings.author&&(n+='<div class="file-container__contributor label label-contributor">'+i(e.model.sellerName)+"</div>"),e.settings.maxsize&&(n+='<div class="file-container__maxsize label label-maxsize">'+i(e.model.width)+" x "+i(e.model.height)+"</div>"),n+="</div><div ","video"===e.model.type&&(n+=' class="file-container__video-details"'),n+=">",e.shouldShowVideoLength&&"video"===e.model.type&&(n+='<div class="file-container__video-length label label-video-length">'+i(e.model.formattedLength)+"</div>"),e.settings.type&&(n+='<div class="file-container__type label label-type label-type-'+i(e.model.type)+'"></div>'),n+="</div></div>",(e.settings.author||e.settings.maxsize||e.settings.type||e.shouldShowVideoLength&&"video"===e.model.type)&&(n+='<span class="file-container__details-shadow"></span>'),e.model.shouldShowActions&&(n+='<span class="file-container__actions">',e.model.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-new-download _to-download"title="',"video"===e.model.type?n+=""+this.tr("Download Video"):n+=""+this.tr("Download Image"),n+='" data-id="'+i(e.model.id)+'"></button>'),e.isCartBtnEnabled&&!e.model.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-cart',e.model.inCart&&(n+=" active"),n+=' _to-cart"title="',e.model.inCart?n+=""+this.tr("Remove from Shopping Cart"):n+=""+this.tr("Add to Shopping Cart"),n+='"></button>'),e.isFavoriteBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-favorites',e.model.inFavorites&&(n+=" active"),n+=' _to-favorites"title="',e.model.inCart?n+=""+this.tr("Remove from Favorites"):n+=""+this.tr("Add to Favorites"),n+='"></button>'),e.isSimilarBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-see-more-similars _to-similar"title="',"video"===e.model.type?n+=""+this.tr("Find Similar Videos"):n+=""+this.tr("Find Similar Images"),n+='"></button>'),n+="</span>"),"video"!==e.model.type&&(n+='<div class="file-container__btns">',e.isZoomBtnEnabled&&(n+='<button class="file-container__zoom file-action-btn file-action-btn_full-screen _zoom" title="'+this.tr("Quick Preview")+'"></button>'),e.isEditableFolder&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Folder Cover")+'"></button>'),e.isEditablePortfolio&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Portfolio Cover")+'"></button>'),n+="</div>")),e.model.seeMoreData&&(n+='<span class="file-container__see-more">'+e.model.seeMoreData.text+"</span>"),n+="</a>",e.model.shortTags.length>0){n+='<div class="file-container__tags">';var a=e.model.shortTags;if(a)for(var l=-1,c=a.length-1;l<c;)y=a[l+=1],n+='<a class="file-container__tag _short-tag" data-index="'+i(l)+'" href="'+i(this.app.makeUrl(t({route:"Search",query:y},e.model.types)))+'">'+i(y)+"</a>";n+="</div>"}n+="</div></div>"}if("favorite"===e.mode&&(n+='<div class="files-list_layout-'+i(e.panel.thumbs)+'"><div data-id="'+i(e.model.id)+'" class="file-box folder-file-box _favorite-file',-1!==e.listOfSelected.indexOf(e.model.id)&&(n+=" file-box_selected"),n+='"><',e.model.shouldShowAsLink?n+='a href="'+e.model.url+'"':n+="span",n+=' class="file-box__link"><span class="file-box__holder">',"audio"===e.model.type?n+='<div class="audio-player _audio-player" data-file-id="'+e.model.id+'"><audio src="'+e.model.thumbs[e.panel.thumbs]+'"></audio></div>':(n+='<span class="file-box-image file-box__image-holder',e.model.width>e.model.height&&e.model.height/e.model.width<.5&&(n+=" file-box__image-holder_limit"),n+='"style="background-image: url('+i(e.model.thumbs[e.thumbSizes[e.panel.thumbs]])+')"></span><span class="file-box-video"></span>'),n+="</span>",e.isCartBtnEnabled&&(n+='<span class="file-box__indicator"><span class="file-box__indicator-item label label-in-cart _label-in-cart ',e.model.inCart||(n+=" hidden"),n+='" title="'+this.tr("In Shopping Cart")+'"></span></span>'),n+='<span class="file-box__control _prevent"><i class="file-box__control-item',e.canChangeFiles?n+=" _delete":n+=" file-box__control-item_disabled ",n+=' icon icon-item-remove"></i><i class="file-box__control-item',e.viewOnly&&(n+=" file-box__control-item_disabled"),n+=' icon icon-item-move"></i><i class="file-box__control-item icon icon-checkbox icon-checkbox-l _select',-1!==e.listOfSelected.indexOf(e.model.id)&&(n+=" checked"),n+='"></i><span class="file-box__blur"><img class="file-box__blur-image" src="'+e.model.thumbs[e.panel.thumbs]+'" style="filter: url(#blur'+i(e.model.id)+')" /></span></span></',e.model.shouldShowAsLink?n+="a":n+="span",n+="></div></div>"),"filePage"===e.mode){if(n+='<div class="file-box view-file-box _file-box '+i(e.fileViewBoxClassNames)+'"><div class="view-file-box__holder ',e.shouldShowTextInside&&(n+="view-file-box__holder_text-inside"),n+=' _file-box-holder"><div class="view-file-box__box _draggable-box">',"video"===e.file.type?(n+='<div class="view-file-box__video _video-placeholder"><div class="view-file-box__video-placeholder" style="'+e.videoPlaceholderStyles+'"></div><img class="view-file-box__video-poster view-file-box__video-poster_absolute _video-poster" src="'+e.thumb.src+'"width="'+e.dimensions.w+'" height="'+e.dimensions.h+'"',e.thumb.preload&&(n+=' data-preload="'+e.thumb.preload+'"'),n+='alt="'+e.file.seoAlt+'" title="'+e.file.seoTitle+'" /><i class="view-file-box__play-video icon-play-video"></i></div>'):(n+='<a class="view-file-box__image-box view-file-box__image-box_label view-file-box__image-clear _image-box" href="'+e.thumb.download+'"><img class="view-file-box__image',e.dimensions.w>=e.dimensions.h?n+=" view-file-box__image_h":n+=" view-file-box__image_v",n+=" ",e.thumb.hasLabel||(n+=" view-file-box__image-clear"),n+=' _image _zoom-image" src="'+e.thumb.src+'" ',e.thumb.preload?n+=' data-preload="'+e.thumb.preload+'"':n+=' data-src="'+e.thumb.seo+'"',n+=" ",e.thumb.preloadMax&&(n+=' data-preload-max="'+e.thumb.preloadMax+'"'),n+=' width="'+e.dimensions.w+'" height="'+e.dimensions.h+'" alt="'+e.file.seoAlt+'" title="'+this.tr("Download")+" - "+e.file.seoTitle+'"/></a>'),e.shouldShowActions&&(n+='<div class="view-file-box__action',e.actionsSmallMode&&(n+=" view-file-box__action_small"),"video"===e.file.type&&(n+=" _view-file-box-video"),n+=' _action-box"><span class="view-file-box__action-holder',"modal"===e.viewMode&&e.file.editorial&&(n+=" view-file-box__action-holder_tall"),n+='">',e.isCartBtnEnabled&&(n+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-cart',e.file.inCart&&(n+=" active"),n+=' _to-cart"title="',e.file.inCart?n+=""+this.tr("Remove from Shopping Cart"):n+=""+this.tr("Add to Shopping Cart"),n+='"></button>'),e.isFavoriteBtnEnabled&&(n+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-favorites _to-favorites',e.file.inFavorites&&(n+=" active"),n+='"title="',e.file.inFavorites?n+=""+this.tr("Remove from Favorites"):n+=""+this.tr("Add to Favorites"),n+='"></button>'),e.isSharingEnabled&&(n+='<button class="view-file-box__action-item button-circle button-circle-xl button-share _share" title="'+this.tr("Share")+'"></button>'),e.isEnterpriseUser||(n+='<a class="view-file-box__action-item button-circle button-circle-xl button-download _download_comp" ',e.canDownloadComp&&(n+='href="'+e.thumb.download+'?download=true" '),n+='title="'+this.tr("Download Comp")+'"></a>'),n+="</span></div>"),e.isSharingEnabled&&(n+='<div class="view-file-box__share _share-box"><div class="view-file-box__share-container"><div class="view-file-box__share-box"><div class="view-file-box__share-holder"><i class="view-file-box__close icon icon-close-cross icon-close-cross-white _share-close"></i><ul class="view-file-box__list"><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="730" data-height="420" data-title="Tweet" data-social="twitter"><span class="button-circle button-circle-xl button-social-twitter"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="650" data-height="370" data-title="Facebook" data-social="facebook"><span class="button-circle button-circle-xl button-social-facebook"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="Pinterest" data-social="pinterest"><span class="button-circle button-circle-xl button-social-pinterest"></span></a></li>',e.showVKSocial&&(n+='<li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="VK" data-social="vk"><span class="button-circle button-circle-xl button-social-vk"></span></a></li>'),n+="</ul></div></div></div></div>"),n+='<div class="view-file-box__indicator-wrapper">',e.infoIndicators.length){n+="<div class='view-file-box__indicator-info'>";var u=e.infoIndicators;if(u)for(var d,h=-1,p=u.length-1;h<p;)n+="<div class='view-file-box__info'><i class=\"icon "+i((d=u[h+=1]).iconClass)+'"></i>'+i(d.value)+"</div>";n+="</div>"}n+='<div class="view-file-box__to-page _to-page"></div><div class="view-file-box__similar-btn _thumb-find-similar"></div><div class="view-file-box__indicator">',e.isCartBtnEnabled&&(n+='<i class="view-file-box__indicator-item label-in-cart _label-in-cart',e.file.inCart||(n+=" hidden"),n+='" title="'+this.tr("In Shopping Cart")+'"></i>'),e.isFavoriteBtnEnabled&&(n+='<i class="view-file-box__indicator-item label-in-favorites _label-in-favorites',e.file.inFavorites||(n+=" hidden"),n+='" title="'+this.tr("Added to Favorites")+'"></i>'),n+="</div></div>","video"!==e.file.type&&(n+='<button class="view-file-box__lens file-action-btn file-action-btn_full-screen _zoom-btn"></button>'),"modal"===e.viewMode&&e.file.editorial&&(n+='<div class="view-file-box__editorial-box',"video"===e.file.type&&(n+=" view-file-box__editorial-box-video"),n+='"><span class="view-file-box__editorial"><span class="view-file-box__editorial-text">'+this.tr("Editorial Use Only")+'</span><i class="view-file-box__editorial-icon icon icon-help icon-help-light-active _editorial-tooltip"></i></span></div>'),n+="</div>","page"===e.viewMode&&e.shouldShowDescription&&(n+='<p class="view-file-box__description view-file-box__description_short _file-box-description ',e.isModifyDescriptionWidth&&(n+="view-file-box__description_squeezed"),n+='">',"video"===e.file.type?n+=i(e.file.visibleDescription)+" &mdash; "+this.tr("Video by %s",e.file.sellerName):(n+='<a class="view-file-box__description-link _zoom-image" href="'+e.thumb.download+'"><span class="view-file-box__description-text">'+i(e.file.visibleDescription)+"</span> &mdash; ","vector"===e.file.type?n+=""+this.tr("Vector by %s",e.file.sellerName):n+=""+this.tr("Photo by %s",e.file.sellerName),n+="</a>"),e.shouldShowFileId&&(n+='<span class="view-file-box__description-id">| '+this.tr("ID")+": "+i(e.file.id)+"</span>"),n+="</p>"),n+="</div></div>"}if("related"===e.mode){if(n+='<div data-id="'+i(e.model.id)+'" class="file-container _file-container '+e.itemsData[e.model.id].classes.box+'" ',e.itemsData[e.model.id].styles&&(n+=' style="'+e.itemsData[e.model.id].styles+'"'),n+='><a href="'+e.model.url+'"',e.settings.linkTarget&&(n+=' target="_blank"'),n+='class="'+e.itemsData[e.model.id].classes.link+" ",e.model.seeMoreData?n+=" _see-more":n+=" _thumb-link _file-box-holder _file-box-image",n+='"',e.itemsData[e.model.id].linkStyles&&(n+=' style="'+e.itemsData[e.model.id].linkStyles+'"'),n+=">",e.isPictureTagEnabled){n+="<picture>";var f=e.model.thumbPictureSourceSizes;if(f)for(var g,v=-1,m=f.length-1;v<m;)g=f[v+=1],n+="<source ",e.model.lazyload&&e.model.lazyload.enabled?n+='data-srcset="'+g.url+'"':n+='srcset="'+g.url+'"',n+='media="(min-width: '+g.breakpoint+'px)">'}if(n+="<img ",e.model.lazyload&&e.model.lazyload.enabled?(e.model.lazyload.src&&(n+=' src="'+i(e.model.lazyload.src)+'"'),n+='data-src="'+i(e.model.lazyload.dataSrc)+'"'):n+='src="'+i(e.model.thumbs[e.layout])+'"',n+='class="file-container__image _file-image',e.model.lazyload&&e.model.lazyload.enabled&&(n+=" lazyload"),n+='"alt="'+i(e.model.seoAlt)+'"title="'+i(e.model.seoTitle)+'"width="'+e.itemsData[e.model.id].width+'"height="'+e.itemsData[e.model.id].height+'"/>',e.isPictureTagEnabled&&(n+="</picture>"),e.model.seeMoreData||(0===e.model.shortTags.length&&(e.isTitleInside?n+='<span class="file-container__title">'+i(e.model.title)+"</span>":n+='<span class="file-container__title hidden">'+i(e.model.title)+" #"+i(e.model.id)+"</span>"),e.shouldShowFreeLabel&&e.model.freeLabel&&(n+='<div class="file-container__sale-free',e.model.isFreeCurated&&(n+=" file-container__sale-free_simple"),n+='"><div class="label label-sale',e.model.isFreeCurated&&(n+=" label-sale_curated"),n+='">'+i(e.model.freeLabel)+"</div></div>"),n+='<span class="file-container__indicators">',e.isCartBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-cart _label-in-cart',e.model.inCart||(n+=" hidden"),n+='"title="'+this.tr("In Shopping Cart")+'"></span>'),e.isFavoriteBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-favorites _label-in-favorites',e.model.inFavorites||(n+=" hidden"),n+='"title="'+this.tr("Added to Favorites")+'"></span>'),n+='</span><div class="file-container__details">',e.settings.author&&(n+='<img class="file-container__contributor-avatar avatar avatar-s" src="'+i(e.model.avatar)+'" />'),n+='<div class="file-container__name-details">',e.settings.author&&(n+='<div class="file-container__contributor label label-contributor">'+i(e.model.sellerName)+"</div>"),e.settings.maxsize&&(n+='<div class="file-container__maxsize label label-maxsize">'+i(e.model.width)+" x "+i(e.model.height)+"</div>"),n+="</div><div ","video"===e.model.type&&(n+=' class="file-container__video-details"'),n+=">",e.shouldShowVideoLength&&"video"===e.model.type&&(n+='<div class="file-container__video-length label label-video-length">'+i(e.model.formattedLength)+"</div>"),e.settings.type&&(n+='<div class="file-container__type label label-type label-type-'+i(e.model.type)+'"></div>'),n+="</div></div>",(e.settings.author||e.settings.maxsize||e.settings.type||e.shouldShowVideoLength&&"video"===e.model.type)&&(n+='<span class="file-container__details-shadow"></span>'),e.model.shouldShowActions&&(n+='<span class="file-container__actions">',e.model.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-new-download _to-download"title="',"video"===e.model.type?n+=""+this.tr("Download Video"):n+=""+this.tr("Download Image"),n+='" data-id="'+i(e.model.id)+'"></button>'),e.isCartBtnEnabled&&!e.model.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-cart',e.model.inCart&&(n+=" active"),n+=' _to-cart"title="',e.model.inCart?n+=""+this.tr("Remove from Shopping Cart"):n+=""+this.tr("Add to Shopping Cart"),n+='"></button>'),e.isFavoriteBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-favorites',e.model.inFavorites&&(n+=" active"),n+=' _to-favorites"title="',e.model.inCart?n+=""+this.tr("Remove from Favorites"):n+=""+this.tr("Add to Favorites"),n+='"></button>'),e.isSimilarBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-see-more-similars _to-similar"title="',"video"===e.model.type?n+=""+this.tr("Find Similar Videos"):n+=""+this.tr("Find Similar Images"),n+='"></button>'),n+="</span>"),"video"!==e.model.type&&(n+='<div class="file-container__btns">',e.isZoomBtnEnabled&&(n+='<button class="file-container__zoom file-action-btn file-action-btn_full-screen _zoom" title="'+this.tr("Quick Preview")+'"></button>'),e.isEditableFolder&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Folder Cover")+'"></button>'),e.isEditablePortfolio&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Portfolio Cover")+'"></button>'),n+="</div>")),e.model.seeMoreData&&(n+='<span class="file-container__see-more">'+e.model.seeMoreData.text+"</span>"),n+="</a>",e.model.shortTags.length>0){n+='<div class="file-container__tags">';var b=e.model.shortTags;if(b){l=-1;for(var y,_=b.length-1;l<_;)y=b[l+=1],n+='<a class="file-container__tag _short-tag" data-index="'+i(l)+'" href="'+i(this.app.makeUrl(t({route:"Search",query:y},e.model.types)))+'">'+i(y)+"</a>"}n+="</div>"}n+="</div>"}return n}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){},,,,,,,,,,,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(1098),r=[10,20,30,40,50,60,70,80,90,100,150,200];e.exports=n.extend({validation:t({},n.prototype.validation,{limit:{required:!0,pattern:"digits"}}),getLimits:function(){return r},getSchema:function(){var e=this,i=Object.assign(this.getUrlParams(),this.serialize()),n=this.getLastPage(),r=function(r){if(r<=0||r>n)return null;var o=(r-1)*e.get("limit");return e.app.makeUrl(t({},i,{offset:o}))};return{current:r(this.get("page")),buttons:{first:{href:r(this.validation.page.min),page:this.validation.page.min,active:this.get("page")!==this.validation.page.min},last:{href:r(n),page:n,active:this.get("page")!==n},prev:{href:r(this.getPrevPage()),page:this.getPrevPage(),active:this.hasPrevPage()},next:{href:r(this.getNextPage()),page:this.getNextPage(),active:this.hasNextPage()}}}},getDirection:function(){var e,t=this.previousAttributes();return t.page<this.get("page")?e="next":t.page>this.get("page")&&(e="prev"),e},getLastPage:function(){return this.get("totalPages")||1}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(882),r=i(1152),o=i(1003);e.exports=t({},o,{scrollCurrentPosition:0,initScroll:function(){var e=this.$("._scroll");0!==e.length&&(n.initialize(e.get(0),{suppressScrollY:!0,wheelSpeed:.6}),e.scrollLeft(this.scrollCurrentPosition))},saveScrollPosition:function(){this.isModerator()&&(this.scrollCurrentPosition=this.$("._scroll").scrollLeft())},handleRemoveClick:function(e){var t=e.currentTarget;this.collection.get(t.dataset.position).destroy()},getEditContentTooltipData:function(e){var t=e.currentTarget,i=t.querySelector("._link"),n=t.querySelector("._edit, ._add"),r=this.getBlockDimensions(n);return[{key:"width",value:r.width},{key:"height",value:r.height},{key:"url",value:i?i.getAttribute("href"):"-"}]},getBlockDimensions:function(e){return{width:e.dataset.width,height:e.dataset.height}},getEditContentModalModel:function(e){var t=this.collection.get(e);return t||(t=new r({container:this.container},{app:this.app})),t},getEditContentModalOptions:function(e){var t=e.currentTarget.dataset.position,i=this.getEditContentModalModel(t),n=this.getBlockDimensions(e.currentTarget);return{params:{width:n.width,height:n.height},title:this.app.tr("Edit Trending"),model:i,formSerialize:function(){return{link:i.get("link")}},thumbSelector:"._edit-thumb"}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(34),n=i(859);e.exports=t.extend({url:"LastCollections",model:n,getQueryParams:{},parse:function(e,i){return i.parser="parseFromCollection",t.prototype.parse.call(this,e.items,i)}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";i(1194),i(1264);var t=i(1265),n=i(624),r=i(556);e.exports=r.extend({name:"LastCollections",el:!1,classes:"",title:"",template:t,events:{"click .folder-box":"handleFolderClick","contextmenu .folder-box":"handleCustomFileClick","mouseup .folder-box":"handleCustomFileClick"},serialize:function(){return{collections:this.collection.serialize()}},handleFolderClick:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick():(e.preventDefault(),this.app.observer.broadcast("Track:UE:Showcase:FolderClick",{id:null,position:this.$(e.currentTarget).index()+1}),this.app.router.redirect(e.currentTarget.href))},handleCustomFileClick:function(e){[n.rightMouse,n.middleMouse].includes(e.which)&&this.trackNewTabClick()},trackNewTabClick:function(){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"FileThumb",target:{target:"fileView",targetId:void 0},params:{view:this.name}})}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="last-collections-wrapper">';this.title&&(i+='<h2 class="last-collections-title">'+this.title+":</h2>"),i+='<div class="last-collections"><div class="last-collections__list '+t(this.classes)+'">';var n=e.collections;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<a class="folder-box" href="'+(r=n[o+=1]).url+'"><span class="folder-box__previews"><span class="folder-box__img" style="background-image: url('+t(r.thumbs.big)+');"></span></span><span class="folder-box__title">'+t(r.title)+"</span></a>";return i+="</div></div></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(34),n=i(1152);e.exports=t.extend({url:"Trending",model:n,getQueryParams:{},parse:function(e,t){return e.list||[]}})})?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){},,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}e.exports={functional:!0,render:function(e,i){var n=i._c,r=(i._v,i.data),o=i.children,s=void 0===o?[]:o,a=r.class,l=r.staticClass,c=r.style,u=r.staticStyle,d=r.attrs,h=void 0===d?{}:d,p=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(r,["class","staticClass","style","staticStyle","attrs"]);return n("svg",t({class:[a,l],style:[c,u],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h)},p),s.concat([n("path",{attrs:{d:"M14 7.86v.28a.76.76 0 01-.37.65L4.68 14c-.54.32-.82.32-1.06.18l-.25-.14a.76.76 0 01-.37-.63V2.59a.76.76 0 01.37-.65l.25-.14c.24-.14.52-.14 1.22.27l8.79 5.14a.76.76 0 01.37.65z",fill:"#3C3C3C"}})]))}}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}e.exports={functional:!0,render:function(e,i){var n=i._c,r=(i._v,i.data),o=i.children,s=void 0===o?[]:o,a=r.class,l=r.staticClass,c=r.style,u=r.staticStyle,d=r.attrs,h=void 0===d?{}:d,p=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(r,["class","staticClass","style","staticStyle","attrs"]);return n("svg",t({class:[a,l],style:[c,u],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h)},p),s.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.4 2a.4.4 0 00-.4.4v11.2c0 .22.18.4.4.4h2.2a.4.4 0 00.4-.4V2.4a.4.4 0 00-.4-.4H4.4zm5 0a.4.4 0 00-.4.4v11.2c0 .22.18.4.4.4h2.2a.4.4 0 00.4-.4V2.4a.4.4 0 00-.4-.4H9.4z",fill:"#3C3C3C"}})]))}}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}e.exports={functional:!0,render:function(e,i){var n=i._c,r=(i._v,i.data),o=i.children,s=void 0===o?[]:o,a=r.class,l=r.staticClass,c=r.style,u=r.staticStyle,d=r.attrs,h=void 0===d?{}:d,p=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(r,["class","staticClass","style","staticStyle","attrs"]);return n("svg",t({class:[a,l],style:[c,u],attrs:Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h)},p),s.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13 2.5a.5.5 0 00-.5-.5h-1a.5.5 0 00-.5.5v12.17l-4.44-4.45a.49.49 0 00-.7 0l-.71.71a.5.5 0 000 .71l6.13 6.14a.77.77 0 00.53.22h.38a.75.75 0 00.53-.22l6.13-6.14a.5.5 0 000-.71l-.7-.71a.5.5 0 00-.71 0L13 14.67V2.5zM3.4 20a.4.4 0 00-.4.4v1.2c0 .22.18.4.4.4h17.2a.4.4 0 00.4-.4v-1.2a.4.4 0 00-.4-.4H3.4z",fill:"#696969"}})]))}}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}e.exports={functional:!0,render:function(e,i){var n=i._c,r=(i._v,i.data),o=i.children,s=void 0===o?[]:o,a=r.class,l=r.staticClass,c=r.style,u=r.staticStyle,d=r.attrs,h=void 0===d?{}:d,p=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(r,["class","staticClass","style","staticStyle","attrs"]);return n("svg",t({class:[a,l],style:[c,u],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h)},p),s.concat([n("path",{attrs:{d:"M8.6 10.81a.614.614 0 01-.442.19h-.316a.63.63 0 01-.442-.19L3.123 6.357a.442.442 0 010-.615l.592-.615a.401.401 0 01.292-.127c.11 0 .215.046.292.127L8 8.982l3.701-3.854a.41.41 0 01.592 0l.584.615a.442.442 0 010 .615L8.6 10.81z",fill:"#696969"}})]))}}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){(function(e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,i(151),i(1308),i(975),i(563),i(1132),i(12),i(1006)],n=function(t,i,n,r,o,s,a,l){"use strict";var c;function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function h(e){return function(){var t=this,i=arguments;return new Promise((function(n,r){var o=e.apply(t,i);function s(e){d(o,n,r,s,a,"next",e)}function a(e){d(o,n,r,s,a,"throw",e)}s(void 0)}))}}t.__esModule=!0,t.default=void 0,i=u(i),n=u(n),o=u(o),s=u(s),l=u(l);var p=(0,a.getLogger)(e),f=n.default.errorCodes,g="download",v="audio",m=function(e){if(!Array.isArray(e))throw new Error("sizes is require and must be an array");return e.find((function(e){return"audio-el"===e.id}))||e[0]},b=((c={})[f.SIGNUP_NEEDED]=function(e){return h(i.default.mark((function t(){var n,r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.app,r=e.fileId,o=e.modalManager,t.next=3,n.chain.initChain(g,{fileId:r,fileType:v});case 3:n.chain.addNextStepDummyRoute((function(){return n.chain.execute("Signup")})),o.show("SignupModal",{app:n}).catch((function(){}));case 5:case"end":return t.stop()}}),t)})))()},c[f.PERMISSION_DENIED]=function(e){var t=e.app,i=e.e;new o.default({app:t,title:t.tr("Service Message"),message:i.message}).show(),p.warn("AUDIO DOWNLOAD ERROR: Cannot get download link. Something wrong with arrived data",i)},c[f.CAPTCHA_ERROR]=function(){p.error("AUDIO DOWNLOAD ERROR: Captcha is disabled for audio.")},c[f.OTHER]=function(e){return h(i.default.mark((function t(){var n,r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.fileId,r=e.app,o=e.e,t.next=3,r.chain.initChain(g,{fileId:n,fileType:v});case 3:r.chain.start(o.payload),p.warn("AUDIO DOWNLOAD ERROR: Cannot get download link. Server returns error: ",o.payload);case 5:case"end":return t.stop()}}),t)})))()},c),y={inject:["app"],methods:{purchase:function(e,t){var n=this;return h(i.default.mark((function o(){var s,a,l;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=t.plan,a=t.size,l=n.setupDownloadUsecase(e,{plan:s,size:a}),i.prev=2,i.next=5,l.run();case 5:n.app.user.fetch(),i.next=12;break;case 8:throw i.prev=8,i.t0=i.catch(2),i.t0 instanceof r.Exception?n.handleDownloadExeption(i.t0,{fileId:e}):p.error("Unknown audio download error",i.t0),i.t0;case 12:case"end":return i.stop()}}),o,null,[[2,8]])})))()},handleDownloadExeption:function(e,t){var i=t.fileId,n=b[e.code];"function"==typeof n?n({e:e,app:this.app,modalManager:this.app.store.get("ModalsManager"),fileId:i}):p.error("Handler is not exist for error code: "+e.code)},setupDownloadUsecase:function(e,t){var i=t.plan,r=t.size,o={app:this.app,downloadManager:l.default,downloadModel:this.getDownloadModel(e,{plan:i,size:r})};return new n.default(o)},getSizeForPlan:function(e){if(!e)throw new Error("purchaseAudioMixin.getSizeForPlan: plan is required!");var t=this.app.licensor.getLicensableSizesForPlan(e);return m(t)},getSizeByPurchased:function(e){var t=this;if(!Array.isArray(e))throw new Error("purchaseAudioMixin.getSizeByPurchased: purchased is required and must be an array");var i=e.map((function(e){return t.app.licensor.getConfigForSize(e)}));return m(i)},getDownloadModel:function(e,t){var i=t.plan,n=t.size;if(!n||!i)return p.error("purchaseAudioMixin.getDownloadModel: plan and size are required! Item id: "+e),null;var r=this.app.licensor.getLicenseByBit(n.licenseBit);return new s.default({source:"item",itemId:e,size:n.id,licenseId:r.id,fileType:v,method:i.type,subscription:"subscription"===i.type?i.id:0,resolution:i.subproduct||"standart",splitCount:i.split_count||0},{app:this.app,errorCodes:f})}}};t.default=y},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)}).call(this,i(8)(e))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],void 0===(o="function"==typeof(n=function(t){"use strict";function n(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var r=i(1061),o=i(975).Exception,s=function(e){function i(t){var i,n=t.app,r=t.downloadManager,o=t.downloadModel;if(i=e.call(this)||this,!n||!r||!o)throw new Error("app, downloadManager and downloadModel are required");return i.app=n,i.downloadManager=r,i.downloadModel=o,i}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(i,e),i.prototype.execute=function(){var e=function(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,l,"next",e)}function l(e){n(s,r,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function e(){var n;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.app.user.isLoggedIn()){e.next=2;break}throw new o({code:i.errorCodes.SIGNUP_NEEDED});case 2:return e.next=4,this.downloadModel.requestLink();case 4:return n=e.sent,e.abrupt("return",this.downloadManager.downloadByUrl({app:this.app,link:n}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i}(r);s.errorCodes={SIGNUP_NEEDED:"SIGNUP_NEEDED",PERMISSION_DENIED:"PERMISSION_DENIED",CAPTCHA_ERROR:"CAPTCHA_ERROR",OTHER:"OTHER"},e.exports=s})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(o="function"==typeof(n=function(e){"use strict";e.__esModule=!0,e.default=void 0;var t={computed:{audioOndemandLabels:function(){var e;return(e={}).standart=this.$t("On Demand Downloads"),e.el=this.$t("Extended License"),e}},methods:{getAudioPlanLabel:function(e){return e?"subscription"===e.type?this.$t("Music Subscription"):"ondemand"===e.type?this.audioOndemandLabels[e.subproduct]:"":""}}};e.default=t})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(o="function"==typeof(n=function(e){"use strict";e.__esModule=!0,e.default=void 0,e.default={inject:["app"],computed:{isUserLoggedIn:function(){return this.app.user.isLoggedIn()}}}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(o="function"==typeof(n=function(e){"use strict";e.__esModule=!0,e.default=void 0;var t={inject:["userPlansManager"],computed:{userPlans:function(){return this.userPlansManager.serializeUserPlans()},userPlanById:function(){return this.userPlans.reduce((function(e,t){var i;return Object.assign(e,((i={})[t.id]=t,i))}),{})},userPreferredPlan:function(){return this.userPlansManager.get("preferred")}}};e.default=t})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(o="function"==typeof(n=function(e){"use strict";e.__esModule=!0,e.default=e.serializeModel=void 0;var t=function(e){var t=e.serialize();return{id:t.id,url:e.makeUrl(),title:t.title,filename:t.filename,filesize:t.filesize,length:t.length,published:t.published,genre:t.genre,tags:t.tags,thumbUrl:e.makeThumb(),thumbDownloadUrl:e.makeThumbDownloadUrl(),sellerName:t.sellerName,sellerUrl:e.makeRelatedUrl({relatedTo:"portfolio"}),sellerAvatar:t.avatar,purchased:t.purchased.reduce((function(e,t){var i,n=t.size;return Object.assign(e,((i={})[n]=!0,i))}),{})}};e.serializeModel=t;var i={inject:["fileModel"],created:function(){this.fileModel.on("change",this.onChangeAudioFile)},beforeDestroy:function(){this.fileModel.off("change",this.onChangeAudioFile)},data:function(){return{audioData:t(this.fileModel)}},methods:{onChangeAudioFile:function(){this.audioData=t(this.fileModel)},fetchPeaks:function(){return this.fileModel.fetchPeaks()},hasPeaks:function(){return this.fileModel.peaks.length>0},getPeaks:function(){return[].concat(this.fileModel.peaks)},setPurchasedSizeForAudio:function(e,t){this.fileModel.setPurchase(e.id,t)}}};e.default=i})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),r=i(624),o=i(1314),s=i(1090),a=i(1259),l=5e3;i(1300),e.exports=s.extend(t({},a,{name:"TrendingBannersSlider",el:!1,template:o,slidesToShow:5,infiniteLoop:!0,transitionDuration:300,moveDirection:1,rotationTimer:null,currentIndex:null,container:"trending_bottom",events:t({},s.prototype.events,{"click ._edit":"handleEditClick","click ._add":"handleEditClick","click ._remove":"handleRemoveClick","mouseenter ._item-box":"handleItemMouseEnter","mouseleave ._item-box":"handleItemMouseLeave","click ._link":"handleLinkClick","contextmenu ._link":"handleCustomLinkClick","mouseup ._link":"handleCustomLinkClick"}),initialize:function(){var e=this;this.applyContextAutoCorrection(),this.listenTo(this.collection,{add:function(){return e.collection.fetch({reset:!0})},"sync update":function(){e.saveScrollPosition(),e.render()}})},serialize:function(){return{items:this.getItems(),canEdit:this.isModerator(),useControls:this.useControls}},clientAfterRender:function(){this.collection.length&&(null===this.currentIndex&&(this.currentIndex=Math.round(Date.now()/l)%this.collection.length),this.isModerator()?this.initScroll():this.initSlider(),this.el.classList.add("trending-folders_showed"))},initSlider:function(){this.slider=this.el.querySelector("._slider"),this.slides=this.el.querySelectorAll("._slider-item"),this.addAnimationListener(),this.focusOnActive(),this.runRotation(this.moveDirection,l)},applyContextAutoCorrection:function(){this.isModerator()&&(this.useControls=!1,this.slideSwitch=function(){})},getBlockDimensions:function(){return{width:224,height:116}},getItems:function(){var e=this.getVisibleItemsHash(),i=this.collection.models.map((function(i,n){return t({},i.serialize(),{index:n,isVisible:!!e[n]})}));return this.isModerator()?i:[].concat(i.slice(-this.slidesToShow),i,i.slice(0,this.slidesToShow))},getVisibleItemsHash:function(){for(var e=this.collection.length,t=e+(this.currentIndex-this.slidesToShow),i={},n=0;n<this.slidesToShow;n+=1){i[(t+n)%e]=!0}return i},focusOnActive:function(){var e=this.slides[this.currentIndex];e&&this.jumpTo(e)},runRotation:function(e,t){var i=this;this.slidesToShow>this.collection.length||(clearTimeout(this.rotationTimer),this.rotationTimer=setTimeout((function(){i.slideSwitch(e),i.runRotation(i.moveDirection,l)}),t))},onTouchEnd:function(e){var t=e.originalEvent.changedTouches[0].clientX,i=this.startTouch-t||0;if(this.startTouch=null,Math.abs(i)>this.swipeSensitivity){var n=i<0?-1:1;clearTimeout(this.rotationTimer),this.runRotation(n)}},onPrevClick:function(){this.handleControlsClick.apply(this,arguments)},onNextClick:function(){this.handleControlsClick.apply(this,arguments)},handleControlsClick:function(e){this.blockControls||(e.stopPropagation(),clearTimeout(this.rotationTimer),this.runRotation(e.currentTarget.value,0))},onWindowResize:n.throttle((function(){this.isModerator()||(clearTimeout(this.rotationTimer),this.focusOnActive(),this.runRotation(this.moveDirection,l))}),50),getItemPosition:function(e){return this.$(e.currentTarget).parent().index()+1},handleLinkClick:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick(e):(e.preventDefault(),this.app.observer.broadcast("Track:UE:Market:FolderClick",{id:null,position:this.getItemPosition(e)}),this.app.router.redirect(e.currentTarget.href))},handleCustomLinkClick:function(e){[r.rightMouse,r.middleMouse].includes(e.which)&&this.trackNewTabClick(e)},trackNewTabClick:function(e){var t={source:"MarketFolders",target:{target:"search"},params:{position:this.getItemPosition(e),type:"collection"}};this.app.observer.broadcast("Track:UE:ContextMenu:Open",t)}}))}))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="trending trending-folders"><div class="trending-folders__box _scroll"><div class="trending-folders__slider _items _slider">',n=e.items;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<div class="trending__folder-item _item-box _slider-item">',(r=n[o+=1]).img?(i+='<a class="trending__folder-link _link" href="'+r.link+'" data-id="'+t(r.id)+'"><img class="trending__folder-img lazyload" ',r.isVisible||e.canEdit||(i+=" data-"),i+='src="'+t(r.img)+'" /></a>'):i+='<div class="trending__folder-link"></div>',e.canEdit&&(i+='<i class="edit-content__edit _edit" data-position="'+t(r.position)+'" data-id="'+t(r.id)+'"></i><i class="edit-content__remove button-reset _remove" data-position="'+t(r.position)+'" data-id="'+t(r.id)+'"></i>'),i+="</div>";return e.canEdit&&(i+='<div class="trending__folder-item _item-box"><div class="trending__folder-link"></div><i class="edit-content__edit edit-content__edit_add _add" data-position="0"></i></div>'),i+="</div></div>",e.useControls&&(i+='<button class="trending-folders__nav trending-folders__nav_prev _prev" value="-1"></button><button class="trending-folders__nav trending-folders__nav_next _next" value="1"></button>'),i+="</div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(1120),n=i(154).apiErrors,r=i(15),o=i(859);e.exports=t.extend({model:o,parse:function(e,i){if(this.totalItems=+e.count||0,e.items=e.items||e.result,e.errors){var o=e.errors[0]||{};o.error_code===n.bannedKeywordInSearch?this.trigger("bannedKeywordInSearch"):o.error_code===n.searchFailed?this.trigger("searchFailed"):o.error_code===n.itemNotFound?this.trigger("itemNotFound"):this.trigger("exception")}var s=r.beautifyApiResponse(e.items||[]);return i.parser="parseFromSearch",t.prototype.parse.call(this,s,i)},hasAudio:function(){return this.some((function(e){return e.isAudio()}))}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){},,,,,,,,,,,,,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(1199),r=i(1365),o=i(6),s=i(859),a=i(749),l=i(15).isObject,c=i(861).prepareThumbFilename,u=i(1114);e.exports=o.extend(u).extend({defaults:{count:0,hints:[],hintsExtended:[],embeddedCollections:[],collectionsRefinedSearch:[],anchors:!1,meta:!1,seoTemplates:!1,relatedItem:void 0,correction:"",correctionInsteadText:"",correctionText:"",isFuzzy:!1,original:"",query:"",suggestions:[],suggestionText:""},parse:function(e){var i=new n(r),o=e.seo_meta?e.seo_meta.meta:[];return o.h1&&!o.parsed&&(o.h1=i.parseString(o.h1),o.parsed=!0),t.extend({},{relatedItem:e.item?new s(e.item,{parse:!0,app:this.app}):void 0,count:+e.count,meta:o,seoTemplates:e.seo_meta.seoTemplates||{},hints:this.parseHints(e.seo_meta),hintsExtended:this.parseHintsExtended(e.seo_meta),embeddedCollections:this.parseEmbeddedCollections(e.seo_meta),collectionsRefinedSearch:this.parseCollectionsRefinedSearch(e.seo_meta),anchors:e.seo_meta?this.parseTrends(e.seo_meta.anchors):[]},e.did_you_mean?this.parseDidYouMean(e):{})},parseHints:function(e){var t=this;return e&&e.hints?e.hints.map((function(e){return{position:e.position,key:e.query,url:l(e.url)?t.makeUrlByParamsFromApi(e.url):e.url}})):[]},parseTrends:function(e){var i=this;return t.map(e,(function(e,t){return{key:t,url:i.app.makeUrl(e,{absolute:!0})}}))},parseHintsExtended:function(e){var t=this;return e&&Array.isArray(e.hintsExtended)?e.hintsExtended.map((function(e){var i=e.attributes,n=e.resource;return{resource:void 0===n?{}:n,icon:i.icon,phrase:i.phrase,previews:i.previews,previews_gl:i.previews_gl,qualities:i.qualities,tag:i.tag,title:i.original_title,visualTitle:i.title,url:l(i.url)?t.makeUrlByParamsFromApi(i.url):i.url,thumbs:i.previews.map((function(e){var i=parseFloat(e.offset),n=100*(Number.isNaN(i)?.5:i);return{url:t.getThumb(e,{default:"big",video:"wideSmall"}),offset:1*n.toFixed(2)}}))}})):[]},parseEmbeddedCollections:function(e){var t=this;return e&&Array.isArray(e.embeddedCollections)?e.embeddedCollections.reduce((function(e,i){var n=i.attributes,r=(i.resource,n.previews&&n.previews[0]||{});return n.position&&(e[n.position]={id:n.position,width:300,height:200,text:n.title,originalText:n.original_title,phrase:n.phrase,type:r.type,title:r.title,alt:r.alt||r.title,url:l(n.url)?t.makeUrlByParamsFromApi(n.url):n.url,thumbs:["wide","xwide"].reduce((function(e,i){return e[i]=t.getThumb(r,{default:i}),e}),{})}),e}),{}):{}},parseCollectionsRefinedSearch:function(e){var t=this;return e&&e.collectionsRefinedSearch?e.collectionsRefinedSearch.map((function(e){var i=t.parseItemOfRefineSearch(e);return i.links=e.list?e.list.map((function(e){return t.parseItemOfRefineSearch(e)})):[],i})):[]},parseItemOfRefineSearch:function(e){return{title:e.attributes.original_title,visualTitle:e.attributes.title,url:l(e.attributes.url)?this.makeUrlByParamsFromApi(e.attributes.url):e.attributes.url,resetUrl:l(e.attributes.reset_url)?this.makeUrlByParamsFromApi(e.attributes.reset_url):e.attributes.reset_url,type:(e.resource||{}).type,active:e.attributes.selected,params:e.search_params||{},icon:e.attributes["main-icon"]}},parseDidYouMean:function(e){var t=e.did_you_mean;return t.suggestions&&(t.suggestions=this.parseTrends(t.suggestionLinks?t.suggestionLinks:t.suggestions)),t},getThumb:function(e,t){return a.getThumbUrl({size:t[e.type]||t.default,protocol:this.app.parsedUrl.protocol,genFilename:c.bind(this,this.app),file:Object.assign({id:e.itemId,thumbSource:e.uploadHost},e)})},isRefineSearchActive:function(){return this.get("collectionsRefinedSearch").some((function(e){return e.active}))},isSearchCorrectionEnabled:function(){return!!this.get("correction")},isSearchCorrectionIgnored:function(){var e=this.previousAttributes();return e&&e.correction&&!this.get("correction")}})}))},function(e,t,i){var n=i(1363),r=i(1200);function o(e,t){return 0!=e.length&&(!(t.length>e.length)&&t==e.substr(0,t.length))}var s={"&":"&amp;","<":"&lt;",">":"&gt;"};function a(e){return e.replace(/[&<>]/g,(function(e){return s[e]||e}))}var l=function(){function e(e){this.bbTags=e}return e.prototype.parseString=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!0);var r=n.buildTree(e,this.bbTags);return null!=r&&r.isValid()?this.treeToHtml(r.subTrees,i,t):e},e.prototype.treeToHtml=function(e,t,i){var n=this;void 0===i&&(i=!1);var r="",o=!1;return e.forEach((function(e){if(1==e.treeType){var s=e.content;s=a(s),t&&!o&&(s=s.replace(/(\r\n|\n|\r)/gm,"<br>"),o=!1),r+=s}else{var l=n.bbTags[e.content],c=n.treeToHtml(e.subTrees,l.InsertLineBreaks,i);r+=i?c:l.markupGenerator(l,c,e.attributes),o=l.suppressLineBreaks}})),r},e.defaultTags=function(){var e=new Array;return e.b=new r("b",!0,!1,!1),e.i=new r("i",!0,!1,!1),e.u=new r("u",!0,!1,!1),e.text=new r("text",!0,!1,!0,(function(e,t,i){return t})),e.img=new r("img",!0,!1,!1,(function(e,t,i){return'<img src="'+t+'" />'})),e.url=new r("url",!0,!1,!1,(function(e,t,i){var n=t;return null!=i.url&&(n=a(i.url)),o(n,"http://")||o(n,"https://")||(n="http://"+n),'<a href="'+n+'" target="_blank">'+t+"</a>"})),e.code=new r("code",!0,!1,!0,(function(e,t,i){var n=i.lang;return void 0!==n?'<code class="'+a(n)+'">'+t+"</code>":"<code>"+t+"</code>"})),e},e.escapeHTML=function(e){return a(e)},e.startsWith=function(e,t){return o(e,t)},e.endsWith=function(e,t){return function(e,t){return 0!=e.length&&(!(t.length>e.length)&&t==e.substr(e.length-t.length,t.length))}(e,t)},e}();e.exports=l},function(e,t,i){var n,r=i(1364);!function(e){e[e.Root=0]="Root",e[e.Text=1]="Text",e[e.Tag=2]="Tag"}(n||(n={}));var o=function(){function e(e,t,i,n){this.treeType=e,this.content=t,this.attributes=i,this.subTrees=n,this.subTrees=new Array}return e.prototype.isValid=function(){if(0==this.subTrees.length)return!0;for(var e in this.subTrees){var t=this.subTrees[e];if(null==t||!t.isValid())return!1}return!0},e.prototype.toString=function(){return n[this.treeType]+" - "+this.content},e.buildTree=function(t,i){var n=new r(i).tokenizeString(t);return e.buildTreeFromTokens(new e(0,t),n.reverse())},e.buildTreeFromTokens=function(t,i,n){if(void 0===n&&(n=""),null==t)return null;if(0==i.length)return t;var r=i.pop();if(0==r.tokenType&&t.subTrees.push(new e(1,r.content)),1==r.tokenType){var o=r.content;t.subTrees.push(e.buildTreeFromTokens(new e(2,o,r.tagAttributes),i,o))}return 2==r.tokenType?(o=r.content)==n?t:null:0==i.length&&""!=n?null:e.buildTreeFromTokens(t,i,n)},e}();e.exports=o},function(e,t){var i;!function(e){e[e.Text=0]="Text",e[e.StartTag=1]="StartTag",e[e.EndTag=2]="EndTag"}(i||(i={}));var n=function(){function e(e,t,i,n){this.tokenType=e,this.content=t,this.tagAttributes=i,this.tagStr=n}return e.prototype.toString=function(){return this.content+" ("+i[this.tokenType]+")"},e.prototype.equals=function(e){return this.tokenType==e.tokenType&&this.content==e.content},e}();function r(e){return new n(0,e)}var o="[a-zA-Z0-9\\.\\-_:;/]",s=o;function a(e){if(null==e[1]){for(var t,i=e[2],r=new Array,a=new RegExp("("+o+'+)?="('+s+'*)"',"g"),l=e[0].substr(1+i.length,e[0].length-2-i.length);t=a.exec(l);)null==t[1]?r[i]=t[2]:r[t[1]]=t[2];return new n(1,i,r,e[0])}return new n(2,e[1].substr(1,e[1].length-1))}function l(e){1==e.tokenType&&(e.content=e.tagStr,e.tokenType=0),2==e.tokenType&&(e.content="[/"+e.content+"]",e.tokenType=0)}var c=function(){function e(e){this.bbTags=e}return e.prototype.tokenizeString=function(e){var t=this.getTokens(e),i=new Array,n=!1,o="",s="";for(var a in t){var c=t[a],u=this.bbTags[c.content],d=!0;void 0!==u||n?n?2==c.tokenType&&c.content==o?(n=!1,i.push(r(s))):(l(c),s+=c.content,d=!1):u.noNesting&&1==c.tokenType&&(n=!0,o=c.content,s=""):l(c),d&&i.push(c)}return i},e.prototype.getTokens=function(e){for(var t,i=new RegExp('\\[(/\\w*)\\]|\\[(\\w*)+(="[a-zA-Z0-9\\.\\-_:;/]*")?( [a-zA-Z0-9\\.\\-_:;/]+="[a-zA-Z0-9\\.\\-_:;/]*")*\\]',"g"),n=new Array,o=0;t=i.exec(e);){(s=t.index-o)>0&&n.push(r(e.substr(o,s))),n.push(a(t)),o=i.lastIndex}var s;return(s=e.length-o)>0&&n.push(r(e.substr(o,s))),n},e}();e.exports=c},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(1200),n=i(1199);e.exports={b:new t("b",!0,!1,!1),i:new t("i",!0,!1,!1),u:new t("u",!0,!1,!1),text:new t("text",!0,!1,!0,(function(e,t,i){return t})),img:new t("img",!0,!1,!1,(function(e,t,i){return'<img src="'+t+'" />'})),url:new t("url",!0,!1,!1,(function(e,t,i){return'<a href="'+(i.url?n.escapeHTML(i.url):t)+'">'+t+"</a>"}))}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(1368)],void 0===(o="function"==typeof(n=function(t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var r=i(1376),o=i(624),s=i(556),a=i(1377),l=i(943),c=i(97),u=["FileViewModal","ZoomModal"],d=i(1119),h=s.extend({name:"SearchFiles",el:!1,template:r,selectedIndex:null,pagerDirection:void 0,globals:{keyup:"onKeyUp"},events:{"click ._next-link":"handleNextLinkClick","contextmenu ._next-link":"handleCustomNextLinkClick","mouseup ._next-link":"handleCustomNextLinkClick"},initialize:function(){var e=this;this.searchQueryRelated=this.app.store.get("SearchQueryRelated"),this.listenTo(this.collection.pager,"change",(function(){e.pagerDirection=e.collection.pager.getDirection()})),this.listenTo(this.collection,"reset update",this.updateFilesList)},prepareRender:function(){var e=this;if(this.isKeywordSearchEnabled()&&this.setView("._keyword-search",new d({app:this.app,model:this.searchQueryRelated,formAction:this.app.makeUrl("search"),placeholder:this.tr("Search among similar images..."),classes:"search-bar-lite_small search-box__keyword-search",searchReset:function(){this.model.resetToDefaults("query")}})),this.collection.hasAudio())this.setView("._files-list",this.app.store.get("VueAdapter").createViewAdapter({provide:{app:this.app,filesCollection:this.collection,userPlansManager:c.createInstance("audio",this.app)},component:t.default}));else{var i=this.app.device.isMobile?6:20;this.setView("._files-list",new a(n({app:this.app,maxRows:1,collection:this.collection,banner:this.searchBanner,makeLikeGrid:!0,shouldShowFreeLabel:function(){return e.shouldShowFreeLabel()},shouldShowVideoLength:!0,isZoomBtnEnabled:!0,isSimilarBtnEnabled:!0,storeFileViewModalAsLastViewed:!0,needToUpdateHistoryState:!0,draggableOptions:{enabled:!0,mode:"search"},isPanoramasImproveEnabled:!this.app.device.isMobile,layout:l.getFilesListLayout(this.app),lazyLoadOptions:this.app.features.isFeatureOnValue("Lazy File Search")?{enabled:!0,offset:i}:{},isEditableFolder:this.isEditableFolder(),isEditablePortfolio:this.isEditablePortfolio(),leftEdgeCallback:function(){return e.leftEdgeCallback()},rightEdgeCallback:function(){return e.rightEdgeCallback()},clientAfterRenderCallback:function(){return e.clientAfterRenderList()},isPictureTagEnabled:this.app.features.isFeatureOnValue("PictureTag SearchFiles SearchPage")},this.getListOptions())))}return-1===this.selectedIndex&&(this.selectedIndex+=this.collection.length),!0},serialize:function(){var e=this.collection.pager;return{layoutClasses:"search-box__result",isButtonNextVisible:e.hasNextPage(),buttonNextHref:e.getSchema().buttons.next.href}},clientAfterRenderList:function(){if(this.isQViewEnabled()&&!this.app.store.get("ModalsManager").length){var e=this.collection.get(this.app.queryParams.qview);e&&this.setActiveModal("FileViewModal",e,{ecommerce:!1})}if(this.isFolder()){var t=this.app.store.get("Folder");t&&this.$("[data-id="+t.get("coverId")+"] ._cover").addClass("active")}this.$("._file-image").removeAttr("title")},isKeywordSearchEnabled:function(){return this.app.features.isFeatureOnValue("Show Query Input On Similar")&&this.searchQueryRelated&&this.searchQueryRelated.isRelatedToSimilar()},isFolder:function(){return!!this.app.queryParams.folderId},isEditableFolder:function(){var e=this.isFolder()?this.app.store.get("Folder"):null;return!!e&&"edit"===e.get("permission")},isEditablePortfolio:function(){var e=this.app.store.get("SearchAuthor");return e&&e.isEditable()},shouldShowFreeLabel:function(){return"curated"!==this.app.userSettings.get("lastSearchSubfilter")},leftEdgeCallback:function(){return this.prevPage()},rightEdgeCallback:function(){return this.nextPage()},setActiveModal:function(){var e=this.getView("._files-list");e&&e.setActiveModal.apply(e,arguments)},onPopStateChange:function(){if(this.isQViewEnabled()){var e=this.collection.get(this.app.queryParams.qview);e&&this.setActiveModal("FileViewModal",e,{ecommerce:!1})}else this.app.store.get("ModalsManager").hide("FileViewModal")},isQViewEnabled:function(){return!!this.app.queryParams.qview},onKeyUp:function(e){if(e.which===o.left||e.which===o.right){var t=this.app.store.get("ModalsManager");this.canNavigate()&&!t.getTopModal(u)&&(this.app.observer.fire("Modal:HideAll",{cid:"all"}),e.which===o.left?this.prevPage():e.which===o.right&&this.nextPage())}},canNavigate:function(){return"body"===document.activeElement.tagName.toLowerCase()},nextPage:function(){var e=this.collection.pager;!this.collection.pending&&e.hasNextPage()&&(this.collection.setPager({page:e.getNextPage()}),this.selectedIndex=0)},prevPage:function(){var e=this.collection.pager;!this.collection.pending&&e.hasPrevPage()&&(this.collection.setPager({page:e.getPrevPage()}),this.selectedIndex=-1)},updateFilesList:function(){if(this.collection.length){var e="prev"===(this.collection.pager.getDirection()||this.pagerDirection)?this.collection.last():this.collection.first(),t=this.app.store.get("ModalsManager").getTopModal(u);t&&this.setActiveModal(t.id,e),this.render()}},handleNextLinkClick:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick(e):(e.preventDefault(),this.app.observer.broadcast("Track:UE:Pager:NextButton"),this.nextPage())},handleCustomNextLinkClick:function(e){[o.rightMouse,o.middleMouse].includes(e.which)&&this.trackNewTabClick(e)},trackNewTabClick:function(){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"Pager",target:{target:"search"}})},getListOptions:function(){return this.app.features.isFeatureOnValue("Show 600 thumb on search")?{panoramasWidthToHeightMax:2.5}:{}},showVideoPreview:function(){},hideVideoPreview:function(){},isVideoFile:function(){}});e.exports=h})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){"use strict";i.r(t);var n=i(1408),r=i(1140);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);var s=i(1375),a=i(557);var l=Object(a.a)(r.default,n.a,n.b,!1,(function(e){this.$style=s.default.locals||s.default}),null,null);t.default=l.exports},function(e,t,i){"use strict";i.r(t);var n=i(1409),r=i(1142);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);var s=i(1370),a=i(557);var l=Object(a.a)(r.default,n.a,n.b,!0,(function(e){this.$style=s.default.locals||s.default}),null,null);t.default=l.exports},function(e,t,i){"use strict";var n=i(1144),r=i.n(n);t.default=r.a},function(e,t,i){"use strict";i.r(t);var n=i(1410),r=i(1145);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);var s=i(1372),a=i(557);var l=Object(a.a)(r.default,n.a,n.b,!0,(function(e){this.$style=s.default.locals||s.default}),null,null);t.default=l.exports},function(e,t,i){"use strict";var n=i(1147),r=i.n(n);t.default=r.a},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(558),n=i(653);e.exports=t.extend({name:"UserAudioPlansTooltip",params:{type:"html",rootClose:!0,hideOnScroll:!0,displayEffect:"increase",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templateOffset:{top:4,left:-8},pointerShow:!1},classes:{"tooltip_extra-shadow":!0,"tooltip_not-border":!0,tooltip_rounding:!0},plans:null,audioId:null,selectedPlanId:null,prepareContent:function(){this.content=new n({app:this.app,plans:this.plans,onUserProductClick:this.onUserProductClick.bind(this),shouldShowAsSelected:this.shouldShowAsSelected.bind(this)})},setData:function(e){var t=e.audioId,i=e.selectedPlanId;this.audioId=t,this.selectedPlanId=i},onUserProductClick:function(e){this.onUserProductClickCallback(e,this.audioId)},shouldShowAsSelected:function(e){return e.id===this.selectedPlanId},onUserProductClickCallback:function(){}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t,i(1312)],void 0===(o="function"==typeof(n=function(e,t){"use strict";e.__esModule=!0,e.default=void 0;var i=function(e){return e.filter((function(e){return e.isAudio()})).map(t.serializeModel)},n={inject:["filesCollection"],created:function(){this.filesCollection.on("change",this.updateAudioCollection)},data:function(){return{audioItems:i(this.filesCollection)}},beforeDestroy:function(){this.filesCollection.off("change",this.updateAudioCollection)},methods:{updateAudioCollection:function(){this.audioItems=i(this.filesCollection)},setPurchasedSizeForAudio:function(e,t,i){var n=this.filesCollection.get(e);n&&n.setPurchase(t.id,i)},fetchAudiosPeaks:function(e){var t=this.filesCollection.get(e);return t?t.fetchPeaks():Promise.reject(new Error('Failed to fetch peaks: model with id: "'+e+'" not found'))},isAudioHasPeaks:function(e){var t=this.filesCollection.get(e);return!!t&&t.peaks.length>0},getAudiosPeaks:function(e){var t=this.filesCollection.get(e);return t?[].concat(t.peaks):[]},makeAudiosThumbUrl:function(e){var t=this.filesCollection.get(e);return t?t.makeThumb():""},getAudiosDuration:function(e){var t=this.filesCollection.get(e);return t?t.get("length"):null}}};e.default=n})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){"use strict";var n=i(1148),r=i.n(n);t.default=r.a},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="'+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}())(e.layoutClasses)+'"><div class="_keyword-search"></div><div class="_files-list"></div>';return e.isButtonNextVisible&&(t+='<div data-id="next" class="files-list__next"><a href="'+e.buttonNextHref+'" class="files-list__next-btn button button-5xl button-watery button-glass _next-link">'+this.tr("Next Page")+"</a></div>"),t+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){(function(e){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[i(151)],n=function(t){"use strict";var n;function r(e,t,i,n,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t),i(1378);var s=i(624),a=i(1215),l=i(563),c=i(1012),u=i(97),d=i(1132),h=i(34),p=i(1192),f=i(1006),g=i(1101),v=i(1193),m=i(1163),b=i(975).Exception,y=i(1065),_=i(12).getLogger,w=i(654),x=i(1065).errorCodes,T=_(e),k=h.extend({model:d});e.exports=a.extend(o({},g,v,m,{name:"SearchFilesList",banner:null,isInjectedBanner:!1,events:o({},a.prototype.events,{"click ._zoom":"onFileZoomClick","click ._short-tag":"handleShortTagClick","mouseenter .file-container":"onFileMouseEnter","mouseleave .file-container":"onFileMouseLeave","click ._to-download":"handleDownloadClick"}),initialize:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];a.prototype.initialize.apply(this,i),this.on("clientAfterRender",(function(){e.tempSupressTrackingEvents||e.trackImpression(),e.tempSupressTrackingEvents=!1})),this.once("clientAfterRender",this.setupDownloadUsecase),this.downloadModels=new k([],{app:this.app}),this.userPlansManager=new u({},{app:this.app}),this.searchSettings=this.app.store.get("SearchSettings"),this.listenTo(this.searchSettings,"change",this.handleSearchSettingsChange),this.listenTo(this.banner,"sync",this.render)},prepareRender:function(){this.banner&&!this.banner.isEmpty()&&this.setView("._search-banner",new c({app:this.app,model:this.banner}))},setupDownloadUsecase:function(){var e={app:this.app,downloadManager:f,isFreeLicenseAvailable:this.isAttributeLicenseAvailable.bind(this),getDownloadModel:this.getDownloadModel.bind(this),beforeDownloadStart:this.beforeDownloadStart.bind(this)};this.downloadUsecase=new y(e)},handleSearchSettingsChange:function(){this.tempSupressTrackingEvents=!0,this.render()},handleFileClick:function(e){this.onFileClick(e),(e.ctrlKey||e.metaKey||this.searchSettings.get("linkTarget"))&&this.trackItemInfoOpen(e.currentTarget)},handleHintClick:function(e){var t=e.target,i=this.getFileThumbID(t),n=this.app.store.get("SearchInfo").get("embeddedCollections")[i];this.app.observer.broadcast("Track:UE:File:BannerClick",n)},handleContextMenu:function(e){this.trackNewTabClick(e.currentTarget)},handleHintMouseup:function(e){e.which===s.middleMouse&&this.handleHintClick(e.currentTarget)},handleFileMouseup:function(e){e.which===s.middleMouse&&this.trackItemInfoOpen(e.currentTarget)},handleShortTagClick:function(e){var t=e.currentTarget,i=this.$(t).closest("._file-container").data("id");this.app.observer.broadcast("Track:UE:File:TagClick",{fileId:i,index:+t.dataset.index,files:this.collection})},handleDownloadClick:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.closest("._file-box-holder"),i=this.getFileModel(t);this.app.observer.broadcast("Track:UE:File:DownloadFromThumb",{view:this.name,file:i}),this.userPlansManager.set({fileTypes:[i.get("type")]}),this.startDownload({file:i})},getDownloadChainName:function(e){return e.isFreeLicenseAvailable()?"download-free":"download"},getDownloadButton:function(e,t){var i=this.$('._download-button[data-id="'+t.id+'"]');return i.length>0?i:this.$("._to-download")},startDownload:function(e){var i=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(n,o){var s=e.apply(t,i);function a(e){r(s,n,o,a,l,"next",e)}function l(e){r(s,n,o,a,l,"throw",e)}a(void 0)}))}}(t.default.mark((function n(){var r,o,s,a,l,c;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.file,o=e.ignoreFreeModal,s=i.app.licensor.getLicensableSizesForFile(r),a=p(s),l={file:r,isCartEnabled:"Cart"!==i.app.router.routeName&&i.app.store.get("CartIndicator"),size:a.id,ignoreFreeModal:o},t.prev=4,t.next=7,i.downloadUsecase.run(l);case 7:i.app.user.fetch(),c=i.getDownloadModel(r,a),i.downloadModels.remove(c),t.next=18;break;case 12:if(t.prev=12,t.t0=t.catch(4),!(t.t0 instanceof b)){t.next=17;break}return i.handleDownloadExeption(t.t0,l),t.abrupt("return");case 17:T.error("Unhandeled download error:",t.t0);case 18:case"end":return t.stop()}}),n,null,[[4,12]])})))()},getDownloadModel:function(e,t){var i=e.get("id"),n=this.downloadModels.findWhere({itemId:i,size:t});return n||(n=this.downloadModels.add(this.makeDownloadParams(e),{app:this.app})),n.set({"g-recaptcha-response":this.$(".g-recaptcha-response").val()||""}),n},makeDownloadParams:function(e){var t=this.app.licensor.getLicensableSizesForFile(e),i=p(t),n=i.licenseBit,r=i.id,o=this.userPlansManager.get("preferred"),s=this.app.licensor.getLicenseByBit(n);return{source:"item",itemId:e.id,size:r,licenseId:s.id,purchased:e.isPurchased(r),fileType:"video"===e.get("type")?"video":"image",method:o.type,subscription:"subscription"===o.type?o.id:0,resolution:"standart",splitCount:o.split_count||0}},isAttributeLicenseAvailable:function(e){return e.isFreeLicenseAvailable()},getSettingsData:function(){return this.searchSettings.serialize()},trackItemInfoOpen:function(e){var t=this.getTrackingInfo().sorting,i=this.$(e).closest("[data-id]").data("id");this.app.observer.broadcast("Track:UE:File:OpenFileView",{action:"newTab",file:this.collection.get(i),sorting:t,source:"FileThumb",view:this.name})},getTrackingInfo:function(){return{sorting:this.app.store.get("SearchQuery").get("sorting")}},isFirstItem:function(e){var t=this.collection.pager.get("page"),i=this.collection.indexOf(this.collection.get(e));return 1===t&&0===i},isLastItem:function(e){var t=this.collection.pager.get("page"),i=this.collection.pager.get("totalPages"),n=this.collection.indexOf(this.collection.get(e));return t===i&&!this.collection.at(n+1)},errorHanlders:(n={},n[x.FREE_LICENSE_AVAILABLE]=function(e){var t=this,i=e.file,n=e.modalManager;n.show("FreeDownloadModal",{app:this.app,file:i,onDownload:function(){n.hide("FreeDownloadModal"),t.startDownload({file:i,ignoreFreeModal:!0})}}).catch((function(){}))},n[x.PLAN_REFILL_NEEDED]=function(e){e.modalManager.show("RefillMembershipModal",{app:this.app,type:"notAvailable"}).catch((function(){}))},n[x.SIGNUP_NEEDED]=function(e){var t=this,i=e.file,n=e.size,r=e.modalManager;this.initDownloadChain(i,n).then((function(){return t.app.chain.addNextStepDummyRoute((function(){return t.app.chain.execute("Signup",!0)}))})),r.show("SignupModal",{app:this.app,previewFile:i}).then((function(){return t.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:t.app.history.first().get("route")+"/download"})})).catch((function(){}))},n[x.PERMISSION_DENIED]=function(e){var t=e.error;new l({app:this.app,title:this.tr("Service Message"),message:t.message}).show(),T.warn("DOWNLOAD ERROR: Cannot get download link. Something wrong with arrived data",t)},n[x.CAPTCHA_ERROR]=function(e){var t=e.file,i=e.modalManager,n=this.getModalOptions("FileViewModal",t,{track:!1});i.show("FileViewModal",o({},n,{onShowCallback:function(){this.isOpened||w.injectScript().then((function(){return w.render(document.querySelector(".g-recaptcha"))}))}})).catch((function(){}))},n[x.OTHER]=function(e){var t=this,i=e.file,n=e.size,r=e.error;"Cart"!==this.app.router.routeName&&this.app.observer.broadcast("Track:UE:File:AddToCart",{id:i.get("id"),file:i.serialize(),view:this.name}),this.initDownloadChain(i,n).then((function(){return t.app.chain.start(r.payload)})),T.warn("DOWNLOAD ERROR: Cannot get download link. Server returns error: ",r.payload)},n),handleDownloadExeption:function(e,t){var i=e.code,n=this.app.store.get("ModalsManager");if([x.PLAN_REFILL_NEEDED,x.PERMISSION_DENIED,x.CAPTCHA_ERROR,x.OTHER].includes(i)){var r=this.getDownloadModel(t.file,t.size);this.downloadModels.remove(r)}return this.errorHanlders[i]&&this.errorHanlders[i].call(this,o({},t,{error:e,modalManager:n}))},onFileViewLicenseSuccessCallback:function(e,t,i,n){n&&this.hideFileViewModalIfOpen()},getEmbeddedObject:function(e){return this.shouldEmbedBanner(e)?this.getEmbeddedBanner(e):this.searchSettings.get("embeddedCollections")?this.getEmbeddedHint(e):null},getEmbeddedHint:function(e){var t=this.app.store.get("SearchInfo"),i=this.isInjectedBanner?e-10+1:e+1,n=t&&t.get("embeddedCollections")[i];return n?o({},n,{isHint:!0,lazyload:{enabled:this.shouldEnableLazyLoad(e),dataSrc:n.thumbs[this.layout]}}):null},getEmbeddedBanner:function(e){return this.isInjectedBanner=!0,{id:e+1,width:380,height:240,isBanner:!0}},shouldIgnoreModal:function(e){return g.shouldIgnoreModal.call(this,e)||this.searchSettings.get("linkTarget")},shouldEmbedBanner:function(e){return!!this.banner&&!this.banner.isEmpty()&&!this.isInjectedBanner&&19===e}}))},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)}).call(this,i(8)(e))},function(e,t,i){},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(1380),n=i(556),r=i(1381);i(1223),i(1224),e.exports=n.extend({name:"SearchResultEmpty",el:!1,template:t,title:"",subtitle:"",serialize:function(){return{title:this.title,subtitle:this.subtitle}},prepareRender:function(){this.setViews({"._empty-content":new r({app:this.app,lastCollections:this.lastCollections,topKeywords:this.topKeywords})})}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="empty-search-result"><i class="empty-search-result__icon icon icon-search-big"></i><div class="empty-search-result__text"><h2 class="empty-search-result__title">'+e.title+"</h2>";return e.subtitle&&(t+='<span class="empty-search-result__subtitle">'+e.subtitle+"</span>"),t+='</div><div class="no-result-advice"><div class="no-result-advice__item"><i class="no-result-advice__icon icon icon-round-ok-middle"></i><span class="no-result-advice__text">'+this.tr("Be sure to check your spelling")+'</span></div><div class="no-result-advice__item"><i class="no-result-advice__icon icon icon-search-refine-middle"></i><span class="no-result-advice__text">'+this.tr("Refine your keywords")+'</span></div><div class="no-result-advice__item"><i class="no-result-advice__icon icon icon-lightning-middle"></i><span class="no-result-advice__text">'+this.tr("Try to use simpler search")+'</span></div></div><div class="_empty-content"></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(1382),n=i(556),r=i(1263),o=i(1313),s=i(1266),a=i(1158);i(1383),e.exports=n.extend({name:"SearchEmptyContent",el:!1,template:t,initialize:function(){this.trendingBannersCollection=new s([],{app:this.app})},prepareRender:function(){var e=this.app.store.get("SearchQuery");return(!e||!e.isAudio())&&(this.setViews({"._trends":new o({app:this.app,collection:this.trendingBannersCollection,isModerator:function(){return!1}}),"._latest":new r({app:this.app,collection:this.lastCollections,title:this.tr("Explore Latest Hand-Picked Collections")}),"._keywords":new a({app:this.app,collection:this.topKeywords,classNames:"top-keywords_single-col top-keywords_rounded",count:{cols:1,rows:this.topKeywords.length}})}),!0)},clientAfterRender:function(){this.trendingBannersCollection.fetch({getQueryParams:{container:"trending_bottom"}})}})}))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="empty-content"><div class="_trends"></div><div class="_latest"></div><div class="_keywords"></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.$style.list},e._l(e.audioItems,(function(t){return i("AudioPlayer",{key:t.id,class:e.$style.item,attrs:{"is-playing":e.activePlayerId===t.id&&e.isActivePlayerPlaying,"thumb-download-url":t.thumbDownloadUrl,name:t.title,link:t.url,"should-show-name-as-link":e.shouldShowNameAsLink,"contributor-name":t.sellerName,"contributor-link":t.sellerUrl,duration:e.getFormattedDuration(t.length)},on:{"toggle-play":function(i){return e.handleTogglePlay(t.id)},"thumb-download":e.handleThumbDownload,"tooltip-show":e.handleDownloadButtonMouseEnter,"tooltip-hide":e.handleDownloadButtonMouseLeave},scopedSlots:e._u([{key:"waveform",fn:function(){return[i("div",{ref:"waveform-"+t.id,refInFor:!0,class:e.$style.waveform,attrs:{"data-id":t.id},on:{click:function(i){return e.handleWaveformClick(t.id)}}})]},proxy:!0},{key:"purchase-btn",fn:function(){return[e.shouldShowPurchaseButton?i("PurchaseAudioButton",{attrs:{"plan-label":e.getPlanLabel(t.id),"download-label":e.getDownloadLabel(t),"should-show-dropdown":e.shouldShowPlansDropdown},on:{click:function(i){return e.handlePurchase(t)},"plans-btn-click":function(i){return e.handlePlansBtnClick(i,t.id)}}}):i("button",{class:e.$style["guest-btn"],attrs:{type:"button"},on:{click:function(i){return e.handlePurchase(t)}}},[e._v("\n\t\t\t\t"+e._s(e.getDownloadLabel(t))+"\n\t\t\t")])]},proxy:!0}],null,!0)})})),1)},r=[]},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));var n=function(e,t){var i=t._c;return i("div",t._b({class:[t.$style.player,t.data.class]},"div",t.data.attrs,!1),[i("button",{class:t.$style["play-pause-btn"],on:{click:t.listeners["toggle-play"]}},[t.props.isPlaying?i(t.injections.components.IconPause,{tag:"component",class:t.$style["icon-pause"]}):i(t.injections.components.IconPlay,{tag:"component"})],1),t._v(" "),i("div",{class:t.$style["info-container"]},[t.props.shouldShowNameAsLink?i("a",{class:t.$style.link,attrs:{href:t.props.link}},[t._v("\n\t\t\t"+t._s(t.props.name)+"\n\t\t")]):i("h4",{class:t.$style.name},[t._v("\n\t\t\t"+t._s(t.props.name)+"\n\t\t")]),t._v(" "),i("span",{class:t.$style.contributor},[t._v("\n\t\t\t"+t._s(t.parent.$t("by"))+"\n\t\t\t"),i("strong",{class:t.$style["contributor-name"]},[t._v("\n\t\t\t\t"+t._s(t.props.contributorName)+"\n\t\t\t")])])]),t._v(" "),i("span",{class:t.$style.duration},[t._v("\n\t\t"+t._s(t.props.duration)+"\n\t")]),t._v(" "),t._t("waveform"),t._v(" "),i("a",{class:t.$style.btn,attrs:{href:t.props.thumbDownloadUrl},on:{click:t.listeners["thumb-download"],mouseenter:t.listeners["tooltip-show"],mouseleave:t.listeners["tooltip-hide"]}},[i(t.injections.components.IconDownload,{tag:"component"})],1),t._v(" "),t._t("purchase-btn")],2)},r=[]},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));var n=function(e,t){var i,n=t._c;return n("div",t._g({class:t.$style["purchase-btn"]},t.listeners),[n("span",{class:(i={},i[t.$style["plan-box"]]=!t.props.shouldShowDropdown,i[t.$style.multiplans]=t.props.shouldShowDropdown,i)},[n("strong",{class:t.$style["purchase-title"]},[t._v("\n\t\t\t"+t._s(t.props.downloadLabel)+"\n\t\t")]),t._v(" "),n("span",{class:t.$style["selected-plan"]},[t._v("\n\t\t\t"+t._s(t.props.planLabel)+"\n\t\t")])]),t._v(" "),t.props.shouldShowDropdown?n("span",{class:t.$style["plans-btn"],on:{click:t.listeners["plans-btn-click"]}},[n(t.injections.components.IconArrowDown,{tag:"component"})],1):t._e()])},r=[]},,,,function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),r=i(94),o=function(){function e(){this.app=null,this.timer=null,this.cookieName="signUpModalVisitsCount",this.isAllowedToCallModal=!0,this.maxValue=5,this.showDelay=800}var i=e.prototype;return i.getCookieValue=function(){return parseInt(r.get(this.cookieName),10)||0},i.setCookieValue=function(e){r.set(this.cookieName,e,{expires:1})},i.incrementCookieValue=function(){if(n.browser){var e=this.getCookieValue();-2!==e&&this.isAllowedToCallModal&&(this.setCookieValue(e+1),this.callModal())}},i.disable=function(){this.setCookieValue(-2)},i.callModal=function(){var e=this;this.getCookieValue()%this.maxValue||(this.setCookieValue(0),this.isAllowedToCallModal=!1,this.timer=t.delay((function(){e.app.store.get("ModalsManager").show("SignupModal",{app:e.app,onHideCallback:function(){e.isAllowedToCallModal=!0}}).then((function(){r.set("signUpFileShown",1,{expires:365}),e.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:5})})).catch((function(){}))}),this.showDelay))},i.setEnv=function(e){var t=this;this.app=e,this.app.observer.on({"Tour:Allowed SearchFilterMobile:Open":function(){clearTimeout(t.timer),t.setCookieValue(0),t.isAllowedToCallModal=!1},"Tour:End SearchFilterMobile:Close":function(){t.isAllowedToCallModal=!0}})},i.setMaxValue=function(e){this.maxValue=e},i.setDelay=function(e){this.showDelay=e},e}();e.exports=function(){return new o}}))}).call(this,i(23))},,,,,,,,,,,,function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(1569),r="Depositphotos",o="http://schema.org",s=function(e){return e.get("title")+" "+e.id},a=function(e){return e.get("description")||e.get("alt")},l=function(e){return new Date(e.get("published"))},c=function(e){return"PT"+e.get("length")+"S"},u=function(e,t){var i=t.file;return i.isFree()?{"@context":o,"@type":"MediaObject",license:"https://creativecommons.org/licenses/publicdomain/"}:{"@context":o,"@type":"MediaObject",license:e.makeUrl("license",{absolute:!0}),acquireLicensePage:i.makeUrl()}},d=function(t,i){var n=i.file,o=n.get("sellerName"),l=n.makeUrl();return{isEnabled:!0,json:e({},u(t,{file:n}),{"@type":"ImageObject",description:a(n),author:{"@type":"Person",name:o},copyrightHolder:o+" / "+r,name:s(n),contentUrl:n.makeThumb("max"),url:l,thumbnail:n.makeThumb("wide"),fileFormat:"image/jpeg",sourceOrganization:r,mainEntity:{"@type":"Collection",url:l}})}},h=function(e,t){var i=t.file,n=l(i);return{isEnabled:!0,json:{"@context":o,"@type":"Product",sku:i.id,url:i.makeUrl(),productID:i.id,name:s(i),description:a(i),releaseDate:n,image:i.makeThumb("max"),brand:{"@type":"Thing",name:r},offers:{"@type":"AggregateOffer",availability:"https://schema.org/InStock",offerCount:8,lowPrice:.22,highPrice:4.9,priceCurrency:"USD",seller:{"@type":"Organization",name:r}}}}},p=function(t,i){var n=i.file;return{isEnabled:!0,json:e({},h(0,{file:n}).json,{aggregateRating:{"@type":"AggregateRating",ratingValue:"4.7",reviewCount:"1359"}})}},f=function(t,i){var n=i.file,o=l(n),s=n.getVideoThumbs("huge")||{},d=t.licensor.getLicensableSizesForFile(n).pop();return{isEnabled:!0,json:e({},u(t,{file:n}),{"@type":"VideoObject",name:n.get("title"),description:a(n),url:n.makeUrl(),thumbnailUrl:n.makeThumb("huge"),playerType:"HTML5",videoQuality:d&&d.labels.short,duration:c(n),contentUrl:s.mp4,datePublished:o,uploadDate:o,author:{"@type":"Person",name:n.get("sellerName"),url:t.makeUrl({route:"Search",seller:n.get("sellerId")},{absolute:!0})},copyrightHolder:n.get("sellerName")+" / "+r,sourceOrganization:r})}};t.build=function(e,t){var i=t.file;if(i.isVideo())return f(e,{file:i});var r=d(e,{file:i});return e.features.isFeatureOnValue("Enable Product Structured Data")?n(r,p(0,{file:i})):r},t.buildImagePartialObject=function(t,i){var n=i.file;return{isEnabled:!0,json:e({},u(t,{file:n}),{"@type":"ImageObject",name:s(n),contentUrl:n.makeThumb("max"),url:n.makeUrl(),thumbnail:n.makeThumb("wide"),fileFormat:"image/jpeg",sourceOrganization:r})}},t.buildVideoPartialObject=function(e,t){var i=t.file,n=i.getVideoThumbs("huge");return{isEnabled:!0,json:{"@context":o,"@type":"VideoObject",name:i.get("title"),description:a(i),url:i.makeUrl(),thumbnailUrl:i.makeThumb("huge"),playerType:"HTML5",videoQuality:"4K",duration:c(i),contentUrl:n?n.mp4:"",uploadDate:l(i)}}},t.buildVideoObject=f,t.buildImageObject=d,t.buildProductObject=p,t.buildProductPartialObject=h}))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(26),n=i(943);e.exports={meta:{},getMeta:function(){this.meta.canonical=this.getCanonical(),this.meta.hreflangDisabled=n.imitateLangLinksEnabled(this.app),this.meta.title=this.meta.title||this.tr("Stock Images, Photos, Vectors, Illustrations and Videos | Depositphotos®"),this.meta.description=this.meta.description||this.tr("Get royalty-free images, photos, vectors, illustrations and videos from the best microstock - Depositphotos.");var e=function(e,t){var i=e.pagerSchema,n=e.url,r=e.title,o=e.description,s=e.image,a=[{tagName:"meta",selfClosing:!0,attributes:{property:"og:url",content:n}},{tagName:"meta",selfClosing:!0,attributes:{property:"og:title",content:r}},{tagName:"meta",selfClosing:!0,attributes:{property:"og:description",content:o}},{tagName:"meta",selfClosing:!0,attributes:{property:"og:site_name",content:"Depositphotos"}},{tagName:"meta",selfClosing:!0,attributes:{property:"twitter:url",content:n}},{tagName:"meta",selfClosing:!0,attributes:{property:"twitter:title",content:r}},{tagName:"meta",selfClosing:!0,attributes:{property:"twitter:description",content:o}},{tagName:"meta",selfClosing:!0,attributes:{property:"twitter:site",content:"@depositphotos"}}];return s&&a.push({tagName:"meta",selfClosing:!0,attributes:{property:"og:image",content:s}},{tagName:"meta",selfClosing:!0,attributes:{property:"twitter:image",content:s}}),i&&i.buttons.prev.active&&a.push({tagName:"link",selfClosing:!0,attributes:{rel:"prev",href:t.makeUrl(i.buttons.prev.href,{absolute:!0})}}),i&&i.buttons.next.active&&a.push({tagName:"link",selfClosing:!0,attributes:{rel:"next",href:t.makeUrl(i.buttons.next.href,{absolute:!0})}}),a}(this.getMetaContent(this.meta),this.app);return this.collection.length||(this.meta.robots="noindex,follow"),{tags:e,params:this.meta}},getMetaImage:function(){return this.collection.length?this.collection.first().makeThumb("huge"):""},updateClientMetaNextPrev:function(){var e=this.collection.pager.getSchema(),i=[];e&&e.buttons.prev.active&&i.push({type:"prev",enabled:e.buttons.prev.active,href:this.app.makeUrl(e.buttons.prev.href,{absolute:!0})}),e&&e.buttons.next.active&&i.push({type:"next",enabled:e.buttons.next.active,href:this.app.makeUrl(e.buttons.next.href,{absolute:!0})}),i.forEach((function(e){var i=t.$('link[rel="'+e.type+'"]');e.enabled?(i.length||(i=t.$('<link rel="'+e.type+'">'),t.$("head").append(i)),i.attr("href",e.href)):i.remove()}))},updateClientRobotsMeta:function(){var e=t.$('meta[name="robots"]');e.length?e.attr({content:this.meta.robots}):(e=t.$('<meta name="robots" content="'+this.meta.robots+'">'),t.$("head").append(e))}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(159).getFilterList,n=i(6),r=i(34);e.exports=r.extend({model:n,parse:function(e,i){var n={search:t({name:"sortings"},{app:this.app})};return i&&"function"==typeof this[i.parser]?this[i.parser].call(this,e,i):i&&n[i.type]||[]},parseFromSearch:function(e){return void 0===e&&(e=[]),e.map((function(e){return{key:e.sorting,label:e.label}}))}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t){return t.isEnabled?(t.json=Array.isArray(t.json)?[].concat(e.json,t.json):[].concat(e.json,[t.json]),t):e}),{isEnabled:!1,json:[]})}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(1258);e.exports={set:function(e,i){if(void 0===i&&(i="membership_collection_curated"),!e)throw new Error("PresetOffers: app is required.");e.store.get("PresetOffers")||e.store.link("PresetOffers",new t([],{getQueryParams:{group:i},app:e})).fetch()}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="pager-wrapper">';return e.needToRender&&(i+='<div class="'+t(this.className)+'"><a data-dir="prev"',e.schema.buttons.prev.active&&(i+=' href="'+e.schema.buttons.prev.href+'"'),i+='title="'+this.tr("Previous")+'" data-page="'+(e.state.page-1)+'"class="_page pager__page pager__page-previous',e.schema.buttons.prev.active||(i+=" pager__page_inactive"),i+='" data-not-spa="">'+this.tr("Previous")+'</a><div class="field-box input-box pager__input-box"><input type="text" class="pager__input pager__input_shared',e.isShowPageInInput&&(i+=" pager__input_active"),e.isInputReadOnly||(i+=" _input"),i+='"',e.placeholder&&(i+=' placeholder="'+t(e.placeholder)+'"'),i+=' value="'+t(e.state.page)+'"',e.isInputReadOnly&&(i+=" readonly"),i+=' /></div><a data-dir="next"',e.schema.buttons.next.active&&(i+=' href="'+e.schema.buttons.next.href+'"'),i+='title="'+this.tr("Next")+'" data-page="'+t(e.state.page+1)+'"class="_page pager__page pager__page-next',e.schema.buttons.next.active||(i+=" pager__page_inactive"),i+='" data-not-spa="">'+this.tr("Next")+"</a><div>"),i+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(2071);var n=i(0),r=i(2072),o=i(159).getFilterList,s=i(556),a=i(1995),l=i(739).isAudioTypeApplied,c=i(15).toMMSS;e.exports=s.extend({name:"SearchFilterIndicators",el:!1,template:r,keys:["category","seller","exclude_keywords","orientation","editorial_only","editorial_exclude","mr_property_only","mr_property_exclude","mr_release_quantity","gender","age","race","resolution","color","advanced","anonymous","country","isolated_only","isolated_exclude","render_only","render_exclude","season","day_time","seamless_only","seamless_exclude","painting_only","painting_exclude","drawing_only","drawing_exclude","watercolor_only","watercolor_exclude","cartoon_only","cartoon_exclude","lengthStart","lengthEnd"],events:{"click ._item":"handleRemoveItemClick","click ._item-group":"handleRemoveItemGroupClick","click ._reset":"handleResetClick"},initialize:function(){this.model=this.app.store.get("SearchQuery"),this.model.getRestrictions().get("editorial")||(this.keys=n.without(this.keys,"editorial_only","editorial_exclude","typeFilterRestriction")),this.app.features.isFeatureOnValue("Portfolio Upgrade")&&(this.keys=n.without(this.keys,"seller")),this.listenTo(this.model,"change paramsArrived",this.render)},getSchema:function(){var e=this,t={orientation:"icon-orientation",color:"color-icon"},i={orientation:{horizontal:"icon-orientation-horizontal",vertical:"icon-orientation-vertical",square:"icon-orientation-square",panorama:"icon-orientation-panorama"},color:{"#ffffff":"color-icon-white"}},n={color:function(e){return"background-color: "+e+";"}},r={resolution:function(t){return e.app.tr("Resolution: %s",t)}},o={lengthStart:"length",lengthEnd:"length"},s=this.model.getNonDefaults(this.keys);return s.lengthStart&&s.lengthEnd&&delete s.lengthStart,Object.entries(s).map((function(s){var l=s[0],u=s[1],d=n[l]?n[l](u):"",h=!1,p="";i[l]&&(h=!0,p=(t[l]||"")+" "+(i[l][u]||""));var f=h?"":a(l,u,e.app),g=r[l]?r[l](f):f;return e.model.mutable.length.includes(l)&&(g=e.model.mutable.length.map((function(t){return c(e.model.get(t))})).join(" - ")),{key:o[l]?o[l]:l,isIcon:h,label:g,styles:d,classNames:p}}))},getGroupSchema:function(){var e=this,i=this.model.getNonDefaults(["genres","instruments","moods","soundEffects"]);return Object.entries(i).reduce((function(i,n){var r=n[0],s=n[1],a=o({name:r},{app:e.app}),l=s.map((function(e){return t({key:r,isIcon:!1,styles:"",classNames:""},a.find((function(t){return t.value===e})))}));return i.push.apply(i,l),i}),[])},serialize:function(){return{schema:[].concat(this.getSchema(),this.getGroupSchema())}},handleRemoveItemClick:function(e){e.stopPropagation();var t=e.currentTarget.dataset.name,i=this.model.mutable[t];i&&(t=i),this.app.store.get("SearchQuery").resetToDefaults(t)},handleRemoveItemGroupClick:function(e){e.stopPropagation();var t=e.currentTarget.dataset,i=t.value,n=t.name,r=[].concat(this.model.get(n)),o=r.indexOf(i);r.splice(o,1),this.model.set(n,r)},handleResetClick:function(e){e.stopPropagation();var t=this.app.store.get("SearchQuery"),i=[];this.app.observer.broadcast("Track:UE:SearchFilter:Reset"),this.isPortfolioUpgrade()&&i.push("seller"),l(t)&&i.push("audioType"),t.clearSearchFiltration(i)},open:function(){this.$el.removeClass("close-animation"),this.render()},close:function(){var e=this;this.$el.addClass("close-animation"),setTimeout((function(){e.$el.remove()}),320)},isPortfolioUpgrade:function(){return this.app.store.get("SearchQuery").isPortfolio()&&this.app.features.isFeatureOnValue("Portfolio Upgrade")}})}))},function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(1348);var t=i(561).SearchSettings,r=i(1878),o=i(0),s=i(26),a=i(556),l=i(558),c=i(1879),u=i(646);e.exports=a.extend({name:"SearchSettings",el:!1,template:r,mobileMode:!1,layoutMobile:"wide",layoutCurrent:null,events:{"click ._btn-layout":"onLayoutBtnClick","click ._btn-settings":"onSettingsBtnClick","click ._btn-close-settings":"onSettingsBtnClick","click ._mobile-filters":"onMobileFiltersClick"},globals:{"resize window":"onWindowResize"},initialize:function(){this.listenTo(this.app.store.get("SearchSettings"),"change:layout",this.render),this.listenTo(this.app.observer,"Responsive:CloseMobileMenu",this.observeCloseMobileMenu.bind(this)),this.searchSettingsMap={linkTarget:!0,previews:!1,nudity:!0,embeddedCollections:!0},this.layoutCurrent=this.app.store.get("SearchSettings").defaults.layout},prepareRender:function(){this.mobileMode=n.browser?u.mobileMode():this.mobileMode,this.mobileMode&&this.setView("._mobile-settings",new c({className:"search-settings search-settings_mobile",mobileMode:!0,app:this.app,collection:this.collection,settingsMap:this.searchSettingsMap}))},onLayoutBtnClick:function(e){var t=e.currentTarget.getAttribute("data-layout");u.shouldEnableMobileLayout()&&(t=this.switchMobileLayout(e)),this.app.observer.broadcast("Track:UE:SearchSettings:Layout",{layout:{normal:"Small",big:"Medium",wide:"Big"}[t]}),this.layoutCurrent=t,this.app.store.get("SearchSettings").secureSet({layout:t})},switchMobileLayout:function(e){var t=s.$(e.currentTarget),i=t.parent(),n=t.next().length?t.next():i.children().first();return t.removeClass("active"),n.addClass("active"),n.attr("data-layout")},onSettingsBtnClick:function(e){e.preventDefault(),this.mobileMode?(this.app.observer.fire("Responsive:CloseMobileMenu",{cid:this.cid}),this.getView("._mobile-settings").$el.toggle()):this.getView("tooltip").toggle(e)},serialize:function(){return{layout:this.app.store.get("SearchSettings").get("layout"),mobileMode:this.mobileMode,settingsClassName:this.settingsClassName||"",isCategory:this.app.store.get("SearchQuery").isCategory(),isSettingsEnabled:this.collection.length,isLayoutSwitcherEnabled:this.layoutSwitcherEnabled()}},clientAfterRender:function(){this.mobileMode||this.setNotExistView("tooltip",l,{params:t,content:new c({className:"search-settings",mobileMode:!1,app:this.app,collection:this.collection,settingsMap:this.searchSettingsMap})}),this.mobileModeLayout()},layoutSwitcherEnabled:function(){return!this.app.features.isFeatureOnValue("Layout Switcher Disabled")&&this.collection.length},onWindowResize:o.throttle((function(){var e=n.browser?u.mobileMode():this.mobileMode;e!==this.mobileMode&&(this.mobileMode=e,this.mobileMode&&this.getView("tooltip")&&this.getView("tooltip").hide(),this.render()),this.mobileModeLayout()}),10),onMobileFiltersClick:function(){this.app.observer.fire("Search:ToggleMobileFilter")},observeCloseMobileMenu:function(e){e.cid!==this.cid&&this.getView("._mobile-settings").$el.hide()},mobileModeLayout:function(){var e=this.app.store.get("SearchSettings").get("layout");u.mobilePhone()?e!==this.layoutMobile&&this.app.store.get("SearchSettings").secureSet({layout:this.layoutMobile}):e!==this.layoutCurrent&&this.app.store.get("SearchSettings").secureSet({layout:this.layoutCurrent})},mobileFiltersClickCallback:o.noop})}))}).call(this,i(23))},function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(2075),i(2076);var r=i(0),o=i(561).SortingMenu,s=i(561).SortingMenuEnterprise,a=i(624),l=i(2077),c=i(2078),u=i(2079),d=i(646),h=i(558),p=i(556),f=i(943),g=[];e.exports=p.extend({name:"SearchSorting",el:!1,isCompact:!1,template:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.isCompact?l.apply(this,t):c.apply(this,t)},mobileMode:!1,compactMode:!0,events:{"click a":"onSortingClick","contextmenu a":"onCustomSortingClick","mouseup a":"onCustomSortingClick","click ._sorting-menu":"onSortingMenuClick"},globals:{"resize window":"onWindowResize","scroll window":"onWindowScroll"},initialize:function(){this.listenTo(this.app.store.get("SearchQuery"),"change:sorting paramsArrived",this.render),this.listenTo(this.app.observer,"Responsive:CloseMobileMenu",this.observeCloseMobileMenu.bind(this))},prepareRender:function(){return!!this.canRender()&&(this.mobileMode=n.browser?d.mobileMode():this.mobileMode,this.compactMode=n.browser?d.compactSearchSorting():this.compactMode,!0)},canRender:function(){var e=this.app.store.get("SearchQuery").get("sorting");return null!=this.sortingCollection.findWhere({key:e})},onSortingClick:function(e){if(e.ctrlKey||e.shiftKey||e.metaKey)this.trackNewTabClick(e);else if(e.preventDefault(),this.getView("tooltipSortingMenu")&&this.getView("tooltipSortingMenu").hide(),-1===e.currentTarget.parentNode.className.search("active")){var t=e.currentTarget.getAttribute("data-sorting"),i=this.getSortingData(),n=i.indexOf(i.find((function(e){return e.key===t})))+1;this.app.observer.broadcast("Track:UE:Search:SortingClick",{sorting:t,position:n}),this.app.store.get("SearchQuery").secureSet({sorting:t})}},onCustomSortingClick:function(e){[a.rightMouse,a.middleMouse].includes(e.which)&&this.trackNewTabClick(e)},trackNewTabClick:function(e){var t=e.currentTarget.getAttribute("data-sorting"),i=this.getSortingData(),n=i.indexOf(i.find((function(e){return e.key===t})))+1;this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:this.name,target:{target:"search"},params:{sorting:t,position:n,type:"tab"}})},onSortingMenuClick:function(e){this.compactMode&&!this.mobileMode||this.isCompact&&!this.mobileMode?(e.preventDefault(),this.getView("tooltipSortingMenu").toggle(e)):(this.mobileMode&&this.app.observer.fire("Responsive:CloseMobileMenu",{cid:this.cid}),this.$el.toggleClass("active").toggleClass("fixed",window.pageYOffset>48))},serialize:function(){return{sortings:this.getSortingData(),mobileMode:this.mobileMode,compactMode:this.compactMode}},clientAfterRender:function(){var e=this;(this.compactMode&&!this.mobileMode||this.isCompact&&!this.mobileMode)&&this.setNotExistView("tooltipSortingMenu",h,{events:{"click a":"onSortingClick"},params:this.isCompact?s:o,content:new p({el:!1,template:u,serialize:function(){return{sortings:e.getSortingData()}}}),onSortingClick:this.onSortingClick.bind(this)})},getSortingUrl:function(e){var i=this;void 0===e&&(e="");var n=this.app.store.get("SearchQuery");if(!n)throw new Error("Search query is not specified");return f.generateClearSearchUrl(this.app,this.collection,t({},function(){var e=t({},n.attributes,{route:i.app.router.routeName,offset:0,hash:null});return n.isPortfolio()&&(e.seller=i.app.queryParams.seller),e}(),{sorting:e}))},getSortingData:function(){var e=this,t=this.sortingCollection.serialize().map((function(t){var i=g.includes(t.key);return{href:e.getSortingUrl(t.key),key:t.key,label:e.tr(t.label),active:e.app.store.get("SearchQuery").get("sorting")===t.key,enabled:e.isSortingEnabled(t.key),isNew:i}}));return t.length&&!t.some((function(e){return!0===e.active}))&&(t[0].isDefault=!0),t},toTracking:function(){return this.getSortingData().filter((function(e){return e.enabled}))},isSortingEnabled:function(e){return{best_match:!0,best_sales:!this.isPurchasedTabActive,newest:!this.isPurchasedTabActive,undiscovered:!this.isPurchasedTabActive,last_activity:this.isPurchasedTabActive}[e]},onWindowResize:function(){var e=d.mobileMode(),t=d.compactSearchSorting();e!==this.mobileMode&&(this.mobileMode=e,this.getView("tooltipSortingMenu")&&this.getView("tooltipSortingMenu").hide(),this.render()),t!==this.compactMode&&(this.compactMode=t,this.getView("tooltipSortingMenu")&&this.getView("tooltipSortingMenu").hide(),this.render())},onWindowScroll:r.throttle((function(){this.mobileMode&&this.$el.removeClass("active fixed")}),10),observeCloseMobileMenu:function(e){e.cid!==this.cid&&this.$el.removeClass("active fixed")}})}))}).call(this,i(23))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<section class="content__right-container"><section class="content__right-container-push __search-result"></section></section>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var e=i(1493),n=e.buildImagePartialObject,r=e.buildVideoPartialObject;t.build=function(e,t){return{isEnabled:!0,json:t.files.reduce((function(t,i){var o=i.isVideo()?r(e,{file:i}):n(e,{file:i});return o.isEnabled&&t.push(o.json),t}),[])}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="search-box';return e.hasResult||(t+=" search-box__no-result-box"),t+='"><div class="search-box__header _search-header"></div><div class="_search-audio-filter"></div><div class="search-box__content _search-content"></div><div class="search-box__footer _search-footer',e.hasResult||(t+=" hidden"),t+='"></div><div class="_search-seo-text"></div></div>'}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),r=i(26),o=i(624),s=i(92),a=i(155).keys,l=i(561),c=i(33),u=i(556),d=i(558),h=i(15).capitalize,p=i(739).isAudioTypeApplied,f=i(19);e.exports=u.extend({name:"SearchInfo",el:!1,isFooter:!1,events:{"mouseenter ._level-tooltip":"showLevelTooltip","mouseleave ._level-tooltip":"hideLevelTooltip","click ._related-link":"onRelatedLinkClick","click ._related-thumb":"onRelatedThumbClick","contextmenu ._related-thumb":"onRelatedThumbCustomClick","mouseup ._related-thumb":"onRelatedThumbCustomClick","click ._link":"onLinkClick","contextmenu ._link":"onCustomLinkClick","mouseup ._link":"onCustomLinkClick","click ._anchor":"onAnchorClick"},initialize:function(){var e=this;this.listenTo(this.app.store.get("SearchQuery"),"change",this.onQueryChange),this.listenTo(this.searchInfo,"change",(function(){e.searchInfo.get("count")&&e.render()}))},prepareRender:function(){return!(!this.isFooter&&this.hasSearchSubFilters())&&(this.removeView("levelTooltip"),!0)},serialize:function(){var e=this,t=this.getInfo(),i=this.app.store.get("SearchQuery").serialize();return n.each(t.suggestions,(function(t){t.url=e.app.makeUrl({route:"Search",query:t.key}),t.rel=e.getLinkRel(t.key)})),{isPremium:this.isPremiumContent(),isFiltered:this.app.store.get("SearchQuery").isFiltered(),isSortingEnabled:this.isSortingEnabled(),isCategory:this.app.store.get("SearchQuery").isCategory(),info:t,searchParams:i,searchAuthor:n.clone(this.searchAuthor.attributes),title:{relatedKeywordsTitle:this.getKeywordsTitle("related"),relatedPage:this.getRelatedPageTitle()},capitalize:h,fuzzyCorrection:t.isFuzzy&&this.collection.length,isAudioTypeApplied:p(this.app.store.get("SearchQuery"))}},clientAfterRender:function(){var e=this;this.searchAuthor.get("level")&&this.setNotExistView("levelTooltip",d,{params:l.contributorLevel,content:new u({el:!1,searchAuthor:this.searchAuthor,template:function(){return e.tr(n.findWhere(c.contributorLevel,{level:e.searchAuthor.get("level")}).label)}})}),this.$("._related-box-text").length&&this.app.observer.broadcast("Track:UE:Search:Related",{action:"showOld",view:this.name})},getLinkRel:function(e){return e.split(" ").length>1?"nofollow":""},toTracking:function(){var e="",t=this.getInfo(),i=t.isFuzzy&&this.collection.length>0,n=this.app.store.get("SearchQuery").serialize();if((t.suggestions.length||t.correction.length)&&(e=i?this.tr("Your search request returned too few results, so we extended it."):"Showed results for: "+t.query+"."),(i||t.original!==t.query)&&(e+="Search instead for "+h(t.original)),t.suggestions.length){var r=t.suggestions.map((function(e){return e.key})).join(", ");e+=" "+this.tr("Did you mean")+": "+r+"."}if(t.relatedItem)e+=this.stripTags(t.meta.h1);else if(this.isPremiumContent()?e+=n.query+" - "+this.tr("Premium Collection"):this.searchAuthor.get("level")&&""===n.query?e+=this.searchAuthor.get("username")+" "+this.tr("portfolio"):e+=this.stripTags(t.meta.h1),t.hints.length){var o=t.hints.filter((function(e){return e.url&&e.key})).map((function(e){return e.key})).join(", ");e+=this.getKeywordsTitle("related")+": "+o}return e},toTrackingRelated:function(e){void 0===e&&(e=this.isFooter);var t=this.getInfo(e),i=function(e){return e.filter((function(e){return e.key&&e.url}))};return t.hints.length?i(t.hints):t.anchors.length?i(t.anchors):null},isSortingEnabled:function(){return this.sortingCollection&&this.sortingCollection.length},isPremiumContent:function(){return this.app.store.get("SearchQuery").get("sorting")===s.premiumSorting},getHints:function(e,t){void 0===t&&(t=this.isFooter);var i=t?"bottom":"top";return e.hints.filter((function(e){return e.position===i}))},getInfo:function(e){void 0===e&&(e=this.isFooter);var t=this.searchInfo.serialize();if(t.relatedItem=this.searchInfo.get("relatedItem")?this.searchInfo.get("relatedItem").serialize():t.relatedItem,t.originalUrl=this.getSearchUrl(t.original,{query:{correction_required:0}}),t.correction){var i=this.getSearchUrl(t.correction);t.correctionLink='<a href="'+i+'" class="link-blue">'+h(t.query)+"</a>"}return t.hints=this.getHints(t,e),t},getKeywordsTitle:function(e){var t=this.app.store.get("SearchQuery").defineSearchType(),i=c.searchTitles.find((function(i){return i.type===e&&i.key===t}));return i?this.tr(i.label.trim()):""},getRelatedPageTitle:function(){return this.app.store.get("SearchQuery").get("relatedTo")?this.searchInfo.get("meta").h1:""},onQueryChange:function(){this.app.store.get("SearchQuery").isFiltered()&&this.$el.addClass("search-box__info_with-filters")},getSearchUrl:function(e,i){return this.app.makeUrl(t({route:"Search",query:e},this.app.store.get("SearchQuery").pick(a)),i)},onLinkClick:function(e){if(e.ctrlKey||e.shiftKey||e.metaKey)this.trackNewTabClick(e);else{var t=f.getExtendedQueryParams(e.currentTarget.href,this.app.localePrefix);t&&t.seller?this.app.observer.broadcast("Track:UE:Portfolio:Click",{sellerId:parseInt(t.seller,10)}):t.id&&this.trackOriginFileClick({source:"itemId"})}},onCustomLinkClick:function(e){[o.rightMouse,o.middleMouse].includes(e.which)&&this.trackNewTabClick(e)},trackOriginFileClick:function(e){var t=(void 0===e?{}:e).source,i=this.getInfo().relatedItem;i&&this.app.observer.broadcast("Track:UE:Search:OriginFile",{id:i.id,source:t})},trackNewTabClick:function(e,i){var n;void 0===i&&(i={});var r=f.getExtendedQueryParams(e.currentTarget.href,this.app.localePrefix)||{};if(r.seller)n={source:"Portfolio",target:{target:"search"},params:t({sellerId:parseInt(r.seller,10)},i)};else if(r.id){n={source:"OriginFile",target:{target:"fileView",targetId:this.getInfo().relatedItem.id},params:t({type:"itemId"},i)}}n&&this.app.observer.broadcast("Track:UE:ContextMenu:Open",n)},onAnchorClick:function(e){this.trackClickEvent(e.currentTarget,{position:this.$(e.currentTarget).parent().index()+1})},onRelatedLinkClick:function(e){this.trackClickEvent(e.currentTarget)},onRelatedThumbClick:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick(e,{type:"fileThumb"}):this.trackOriginFileClick({source:"fileThumb"})},onRelatedThumbCustomClick:function(e){[o.rightMouse,o.middleMouse].includes(e.which)&&this.trackNewTabClick(e,{type:"fileThumb"})},trackClickEvent:function(e,t){void 0===t&&(t={}),this.app.observer.broadcast("Track:UE:Search:Related",Object.assign({action:"clickOld",position:r.$(e).closest("._related-item").index()+1,text:e.innerText,view:this.name},t))},showLevelTooltip:function(e){e.preventDefault(),this.getView("levelTooltip").show(e)},hideLevelTooltip:function(e){e.preventDefault(),this.getView("levelTooltip").hide(e)},stripTags:function(e){return void 0===e&&(e=""),e.replace(/<\/?[^>]+(>|$)/g,"")},hasSearchSubFilters:function(){}})}))},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(2063);var n=i(2064),r=i(624),o=i(0),s=i(556),a=i(943),l=i(15).classNames,c="C",u="D";e.exports=s.extend({name:"SearchRelated",el:!1,template:n,searchInfo:null,links:[],events:{"mouseover ._pseudolink":"transformLink","click ._related-link":"onRelatedLinkClick","contextmenu ._related-link":"onCustomRelatedLinkClick","mouseup ._related-link":"onCustomRelatedLinkClick","click  ._slide-left":"onSlideLeftClick","click  ._slide-right":"onSlideRightClick"},globals:{"resize window":"onWindowResize"},initialize:function(){this.once("clientAfterRender",this.trackInfo),this.listenTo(this.searchInfo,"change",this.render)},serialize:function(){var e=this.app.store.get("SearchSettings");this.links=this.getLinks();var t=this.app.features.getFeatureValue("Search Related Design Upgrade");return{links:this.links,classes:l({"search-related-wrapper_upgrade":[c,u].includes(t),"search-related-wrapper_compact":e&&!e.get("isFilterFull")})}},clientAfterRender:function(){this.sliderButtonsVisible=!1,this.toggleSliderButtons(),this.setSliderScrollListener()},getLinks:function(){return this.searchInfo.get("hintsExtended").map((function(e){return t({},e,{pseudolink:!!e.tag&&["premium","treasure"].includes(e.tag),isBack:"back"===e.tag})}))},transformLink:function(e){a.transformOrRedirect(this.app,e.currentTarget,e.currentTarget.getAttribute("data-url"))},trackInfo:function(){this.app.observer.broadcast("Track:UE:Search:Related",{action:"show",view:this.name})},toTracking:function(){return{links:this.links,visible:this.$("._related-item-box:visible").length}},onRelatedLinkClick:function(e){if(e.ctrlKey||e.shiftKey||e.metaKey)this.trackNewTabClick(e);else{var t=this.$(e.currentTarget).closest("._related-item-box").index(),i=this.links[t];i&&(this.app.observer.broadcast("Track:UE:Search:Related",{action:"click",group:e.currentTarget.getAttribute("data-group"),position:t+1,text:((i.title||"")+" "+(i.phrase||"")).trim(),qualities:i.qualities,resource:i.resource,view:this.name}),e.preventDefault(),this.app.router.redirect(e.currentTarget.getAttribute("href")))}},onCustomRelatedLinkClick:function(e){[r.rightMouse,r.middleMouse].includes(e.which)&&this.trackNewTabClick(e)},setSliderScrollListener:function(){var e=this;this.$("._search-related-slider").on("scroll",(function(){return e.onSliderScroll()}))},onWindowResize:o.throttle((function(){this.toggleSliderButtons()}),100),onSliderScroll:o.throttle((function(){this.toggleLeftButton(!this.isSliderOnTheStart()),this.toggleRightButton(!this.isSliderOnTheEnd())}),100),toggleSliderButtons:function(){var e=this.$("._related-item-box"),t=this.$("._search-related-slider").outerWidth(),i=Math.round(t/e.length);i<e.outerWidth()&&!this.sliderButtonsVisible?(this.sliderButtonsVisible=!0,this.toggleLeftButton(this.sliderButtonsVisible&&this.isSliderOnTheEnd()),this.toggleRightButton(this.sliderButtonsVisible&&this.isSliderOnTheStart())):i>=e.outerWidth()&&this.sliderButtonsVisible&&(this.sliderButtonsVisible=!1,this.toggleLeftButton(this.sliderButtonsVisible),this.toggleRightButton(this.sliderButtonsVisible))},toggleLeftButton:function(e){this.$("._slide-left").toggleClass("hidden",!e)},toggleRightButton:function(e){this.$("._slide-right").toggleClass("hidden",!e)},onSlideLeftClick:function(e){var t=this;e.preventDefault();var i=this.$("._search-related-slider"),n=this.$("._related-item-box").outerWidth(),r=i.scrollLeft()%n,o=r>0?1:2;i.animate({scrollLeft:"-="+(r+n*o)},300,(function(){0===i.scrollLeft()&&t.toggleLeftButton(!1),t.toggleRightButton(!0)}))},onSlideRightClick:function(e){var t=this;e.preventDefault();var i=this.$("._search-related-slider"),n=this.$("._related-item-box").outerWidth(),r=n-i.scrollLeft()%n,o=r>0?1:2;i.animate({scrollLeft:"+="+(r+n*o)},300,(function(){t.isSliderOnTheEnd()&&t.toggleRightButton(!1),t.toggleLeftButton(!0)}))},isSliderOnTheStart:function(){return 0===this.$("._search-related-slider").scrollLeft()},isSliderOnTheEnd:function(){var e=this.$("._search-related-slider"),t=this.$("._related-item-box"),i=t.outerWidth(),n=t.length,r=i*n;return Math.abs(r-(e.scrollLeft()+e.outerWidth()))<n},trackNewTabClick:function(e){var t=this.$(e.currentTarget).closest("._related-item-box").index(),i=this.links[t];i&&this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:this.name,target:{target:"search"},params:{qualities:i.qualities,position:t+1,text:((i.title||"")+" "+(i.phrase||"")).trim(),type:"banner"}})}})}))},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(2068),i(1875),i(1366);var t=i(0),n=i(92),r=i(2069),o=i(1876),s=i(2070),a=i(1571),l=i(556),c=i(1174),u=i(1872),d=i(1572),h=i(1877),p=i(1573),f=i(1574),g=i(1881),v=i(1873),m=i(2081),b=i(15).classNames,y=i(739).isAudioTypeApplied;e.exports=l.extend({name:"SearchHeaderDefault",el:!1,template:r,initialize:function(){this.listenTo(this.app.observer,"SearchFilter:Toggle",this.render),this.searchQueryRelated=this.app.store.get("SearchQueryRelated"),this.searchQuery=this.app.store.get("SearchQuery"),this.listenTo(this.searchQuery,"change",(function(e,i){t.has(e.changed,"nudity")||this.render()})),this.isAudioTypeApplied=y(this.searchQuery),this.listenTo(this.collection.pager,"change:page",this.render)},prepareRender:function(){if(this.setTemplate(),this.isAudioTypeApplied||this.setView("._search-subfilters",new h({app:this.app,collection:this.collection})),this.filterIndicatorsEnabled()&&this.setView("._search-filter-indicators",new d({app:this.app})),this.setView("._search-settings",new p({app:this.app,collection:this.collection})),this.collection.length){var e={"._search-related":this.getRelatedView(),"._search-info":new u({app:this.app,template:s,searchInfo:this.searchInfo,searchAuthor:this.searchAuthor,collection:this.collection,sortingCollection:this.sortingCollection}),"._search-count-info":new g({app:this.app,collection:this.collection}),"._search-pager":new c({app:this.app,template:a,className:"pager pager_light",collection:this.collection,isInputReadOnly:this.isInfinityView})};this.shouldShowSorting()&&(e["._search-sorting"]=new f({app:this.app,sortingCollection:this.sortingCollection,collection:this.collection,isCompact:this.isModernViewUsed()})),this.isRefineSearchEnabled()&&(e["._search-refine"]=new m({app:this.app,searchInfo:this.searchInfo})),this.setViews(e)}},setTemplate:function(){!this.isModernViewUsed()||this.isSimilarView()||this.isAudioTypeApplied||(this.template=o)},isModernViewUsed:function(){return this.app.user.products.hasCuratedPlan()},getRelatedView:function(){return this.isSearchRelatedEnabled()?new v({app:this.app,searchInfo:this.searchInfo}):[]},isFilterFull:function(){return this.app.store.get("SearchSettings").get("isFilterFull")},isFolderView:function(){return this.collection.filters.get("folderId")>0},isSimilarView:function(){return this.searchQueryRelated},isCategoryView:function(){return!this.app.store.get("SearchSettings").get("isFilterFull")&&!!this.searchQuery.isCategory()},isPortfolioView:function(){return this.searchQuery.isPortfolio()},isSearchView:function(){return!this.isFolderView()&&!this.isSimilarView()&&!this.isCategoryView()},isPremiumView:function(){return this.searchQuery.get("sorting")===n.premiumSorting},isRefineSearchEnabled:function(){return this.app.features.isFeatureEnabled("Refine Search",3)},isSearchRelatedEnabled:function(){return!!this.searchInfo.get("hintsExtended").length&&(!this.isSimilarView()||this.searchQueryRelated&&this.searchQueryRelated.isRelatedToSimilar()&&this.app.features.isFeatureOnValue("Search Related for Search Similar Page"))},isNewestView:function(){return!this.isPortfolioView()&&"newest"===this.searchQuery.get("sorting")&&0===this.searchQuery.get("query").length},filterIndicatorsEnabled:function(){return!this.isFolderView()&&this.searchQuery.isFiltered()},infoEnabled:function(){return!this.filterIndicatorsEnabled()||this.isCategoryView()||this.isSimilarView()},sortingEnabled:function(){return!this.isFolderView()&&!this.isAudioTypeApplied},shouldShowSorting:function(){return(null!==this.searchQuery.defineSpecificSearchMode()||this.searchQuery.get("query")||"newest"!==this.searchQuery.get("sorting"))&&"treasure"!==this.searchQuery.get("metaScope")},subfiltersEnabled:function(){return this.isModernViewUsed()},serialize:function(){return{settingsEnabled:!0,headerEnabled:!0,pagerEnabled:this.collection.length,countInfoEnabled:this.collection.length&&!this.isAudioTypeApplied,relatedEnabled:!0,refineEnabled:this.isRefineSearchEnabled(),isPremiumView:this.isPremiumView(),isSimilarView:this.isSimilarView(),infoEnabled:this.infoEnabled(),filterIndicatorsEnabled:this.filterIndicatorsEnabled(),sortingEnabled:this.sortingEnabled(),subfiltersEnabled:this.subfiltersEnabled(),classes:this.getClasses(),isAudioTypeApplied:this.isAudioTypeApplied}},getClasses:function(){var e,t=this.isModernViewUsed()&&!this.isSimilarView()?"search-header-modern":"search-header";return b(((e={})[t+"_newest"]=this.isNewestView(),e[t+"_portfolio"]=this.isPortfolioView(),e[t+"_category"]=this.isCategoryView(),e[t+"_folder"]=this.isFolderView(),e[t+"_similar"]=this.isSimilarView(),e[t+"_search"]=this.isSearchView(),e[t+"_premium"]=this.isPremiumView(),e[t+"_no-sorting"]=!this.shouldShowSorting()&&!this.isAudioTypeApplied,e[t+"_infinity"]=this.isInfinityView,e))}})}))},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="search-header-modern '+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}())(e.classes)+'">';return e.subfiltersEnabled&&(t+='<div class="search-header-modern__subfilters _search-subfilters"></div>'),t+='<div class="search-header-modern__info',!e.subfiltersEnabled&&e.infoEnabled||(t+=" search-header-modern__info_compact"),t+=' _search-info"></div>',e.settingsEnabled&&(t+='<div class="search-header-modern__settings _search-settings"></div>'),t+='<hr class="search-header-modern__separator">',e.sortingEnabled&&(t+='<div class="search-header-modern__sorting _search-sorting"></div>'),e.groupsEnabled&&(t+='<div class="search-header-modern__groups _search-groups"></div>'),e.filterIndicatorsEnabled&&(t+='<div class="search-header-modern__indicators _search-filter-indicators"></div>'),e.pagerEnabled&&(t+='<div class="search-header-modern__pager _search-pager"></div>'),e.countInfoEnabled&&(t+='<div class="search-header-modern__count-info _search-count-info"></div>'),e.relatedEnabled&&(t+='<div class="search-header-modern__related _search-related"></div>'),e.refineEnabled&&(t+='<div class="search-header-modern__refine _search-refine"></div>'),t+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(2073);var t=i(2074),r=i(556),o=i(646);e.exports=r.extend({name:"SearchSubfilters",el:!1,template:t,events:{"click ._link":"onSearchCuratedClick"},initialize:function(){this.listenTo(this.app.store.get("SearchQuery"),"change paramsArrived",this.render)},serialize:function(){return{mobileMode:!!n.browser&&o.mobileMode(),menuItems:this.getMenuItems()}},clientAfterRender:function(){this.setPosition()},setPosition:function(){var e=this.$("._active");if(0!==e.length){var t=e.offset().left;t+e.outerWidth()>window.innerWidth&&this.$("._wrap").scrollLeft(t)}},getMenuItems:function(){var e=this;return this.generateMenuItems().map((function(t){return t.active=e.app.store.get("SearchQuery").get("dataSource")===t.key,t}))},generateMenuItems:function(){var e=[];return(this.isFreeCollectionEnabled()||this.isCuratedEnabled())&&e.push({title:this.tr("Free Collection"),star:!0,key:"curated"}),e.push({title:this.tr("Main Collection"),star:!1,key:"regular"}),this.app.user.isEnterprise()?(this.isEsCuratedEnabled()&&e.push({title:this.getEsCuratedTabTitle(),star:!0,key:"enterprise"}),e.push({title:this.tr("Already Licensed"),star:!1,key:"purchased"}),e):e},isCuratedEnabled:function(){return this.app.user.products.hasCuratedPlan()},isEsCuratedEnabled:function(){return this.app.features.isFeatureOnValue("Show curated collection")},isFreeCollectionEnabled:function(){return this.app.user.products.some({basic:!0})},onSearchCuratedClick:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-value");this.storeCurrentSorting(),this.app.observer.broadcast("Track:UE:SearchSubfilters:Click",{value:t}),this.app.userSettings.set("lastSearchSubfilter",t),this.app.store.get("SearchQuery").secureSet(this.getSearchQueryParams(t))},storeCurrentSorting:function(){sessionStorage.setItem(this.app.store.get("SearchQuery").get("dataSource"),this.app.store.get("SearchQuery").get("sorting"))},getSearchQueryParams:function(e){var t={dataSource:e,sorting:this.app.store.get("SearchQuery").get("sorting"),offset:0};return["purchased","curated"].includes(e)||(t.itemPermission=e),sessionStorage.getItem(e)?t.sorting=sessionStorage.getItem(e):"purchased"===e&&(t.sorting="best_match"),t},getEsCuratedTabTitle:function(){return this.app.user.isPremium()&&this.app.features.isFeatureOnValue("Premium collection for ES")?this.tr("Focused Collection"):this.tr("Curated Collection")}})}))}).call(this,i(23))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-box__settings';return e.isCategory&&(i+=" search-box__settings_category"),i+='">',e.isSettingsEnabled&&(i+='<i class="icon icon-settings icon-round-hover _btn-settings '+t(e.settingsClassName)+'"></i>'),e.isLayoutSwitcherEnabled&&(i+='<div class="search-box__layout"><a class="button-layout button-layout-big _btn-layout ',"big"===e.layout&&(i+="active"),i+='" data-layout="big">\x3c!--todo: replace by icon --\x3e<i class="bl-part"></i><i class="bl-part"></i><i class="bl-part"></i><i class="bl-part"></i></a><a class="button-layout button-layout-wide _btn-layout ',"wide"===e.layout&&(i+="active"),i+='" data-layout="wide">\x3c!--todo: replace by icon --\x3e<i class="bl-part bl-part-narrow"></i><i class="bl-part bl-part-wide"></i><i class="bl-part bl-part-wide"></i><i class="bl-part bl-part-narrow"></i></a></div>'),i+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(1348);var n=i(0),r=i(1880),o=i(556);e.exports=o.extend({name:"SearchSettingsList",template:r,mobileMode:!1,settingsMap:{},events:{"change :checkbox":"onSwitcherChange","change ._select-limit":"handleLimitChange","click ._btn-reset-settings":"onResetSettingsClick"},initialize:function(){this.model=this.app.store.get("SearchSettings"),this.listenTo(this.model,"change",this.rePaintLayout),this.listenTo(this.collection.pager,"change:limit",this.handleLimitAndNudityChange),this.listenTo(this.app.store.get("SearchQuery"),"change:nudity",this.handleLimitAndNudityChange)},handleLimitAndNudityChange:function(e){this.trackSettingsChange(e),this.rePaintLayout(e)},rePaintLayout:function(e){var t;n.each(e.changed,(function(e,i){"limit"===i?(t=parseInt(this.$("select[name="+i+"]").val(),10))!==e&&this.$("select[name="+i+"]").val(e):((t=!!this.$("input[name="+i+"]").prop("checked"))!==e||"nudity"===i&&t===e)&&this.$("input[name="+i+"]").prop("checked","nudity"===i?!e:e)}),this)},trackSettingsChange:function(e){this.app.observer.broadcast("Track:UE:SearchSettings:Change",{changed:e.changed})},onSwitcherChange:function(e){var t={};"nudity"===e.currentTarget.name?(t[e.currentTarget.name]=!e.currentTarget.checked,this.app.store.get("SearchQuery").secureSet(t)):(t[e.currentTarget.name]=!!e.currentTarget.checked,this.app.store.get("SearchSettings").secureSet(t))},handleLimitChange:function(e){var i=+e.currentTarget.value;this.collection.setPager({limit:i,offset:0}),this.app.userSettings.set("SearchQuery",t({},this.app.userSettings.get("SearchQuery"),{limit:i}))},onResetSettingsClick:function(){var e=this.app.userSettings.defaults.SearchQuery,t=e.nudity,i=e.limit;this.app.store.get("SearchQuery").secureSet({nudity:t}),this.collection.setPager({limit:i}),this.app.store.get("SearchSettings").secureSet(n.omit(this.model.defaults,"layout","isFilterFull"))},serialize:function(){var e="wide"===this.model.get("layout")&&(this.app.store.get("SearchQuery").get("photo")||this.app.store.get("SearchQuery").get("vector"));return{mobileMode:this.mobileMode,filesPerPageSettings:{name:"limit",label:this.tr("Files per Page"),options:this.collection.pager.getLimits(),current:this.collection.pager.get("limit"),mobile:!0},switcherSettings:[{name:"previews",label:this.tr("File Previews"),checked:this.model.get("previews")&&!e,className:"search-settings__switcher",mobile:!1,disabled:e,hide:!1===this.settingsMap.previews},{name:"type",label:this.tr("File Type Icon"),checked:this.model.get("type"),className:"search-settings__switcher",mobile:!0,hide:!1===this.settingsMap.type},{name:"author",label:this.tr("Contributor"),checked:this.model.get("author"),className:"search-settings__switcher",mobile:!1,hide:!1===this.settingsMap.author},{name:"maxsize",label:this.tr("Show Maximum File Size"),checked:this.model.get("maxsize"),className:"search-settings__switcher",mobile:!1,hide:!1===this.settingsMap.maxsize},{name:"videoLength",label:this.tr("Show Length for Videos"),checked:this.model.get("videoLength"),className:"search-settings__switcher",mobile:!1,hide:!1===this.settingsMap.videoLength},{name:"linkTarget",label:this.tr("Open File Links in a New Window"),checked:this.model.get("linkTarget"),className:"search-settings__switcher",mobile:!0,hide:!1===this.settingsMap.linkTarget},{name:"nudity",label:this.tr("Adult Filter (Safe Search)"),checked:!this.app.store.get("SearchQuery").get("nudity"),className:"search-settings__switcher",mobile:!0,hide:!1===this.settingsMap.nudity},{name:"embeddedCollections",label:this.tr("Show Related Searches"),checked:this.model.get("embeddedCollections"),className:"search-settings__switcher",mobile:!0,hide:!1===this.settingsMap.embeddedCollections}]}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i="";if(!e.mobileMode||e.filesPerPageSettings.mobile===e.mobileMode){i+='<div class="search-settings__item"><span class="search-settings__title">'+this.tr(e.filesPerPageSettings.label)+'</span><div class="search-settings__select field-box select-box select-box-s"><i class="arrow arrow-black arrow-bottom"></i><select name="'+t(e.filesPerPageSettings.name)+'" class="select select-s _select-limit">';var n=e.filesPerPageSettings.options;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<option value="'+t(r=n[o+=1])+'" ',r==e.filesPerPageSettings.current&&(i+="selected"),i+=">"+t(r)+"</option>";i+="</select></div></div>"}var a=e.switcherSettings;if(a)for(var l,c=-1,u=a.length-1;c<u;)(l=a[c+=1]).hide||e.mobileMode&&l.mobile!==e.mobileMode||(i+='<div class="search-settings__item"><span class="search-settings__title">'+this.tr(l.label)+"</span><",l.tag?i+=""+t(l.tag):i+="label",i+=' class="switcher',l.disabled&&(i+=" disabled _switcher-disabled"),i+=" "+t(l.className||"")+'"><input class="switcher-checkbox '+t(l.inputClass||"")+'" type="checkbox" name="'+t(l.name)+'"',l.value&&(i+=' value="'+t(l.value)+'"'),l.checked&&(i+=' checked="checked"'),l.disabled&&(i+=" disabled"),i+=' /><span class="switcher-holder"><span class="switch-on"><span class="title">'+t(l.labelOn||"On")+'</span></span><span class="switch-off"><span class="title">'+t(l.labelOff||"Off")+'</span></span></span><i class="circle"></i></',l.tag?i+=""+t(l.tag):i+="label",i+="></div>");return e.mobileMode?i+='<div class="search-settings__footer"><span class="search-settings__close _btn-close-settings">'+this.tr("Close")+"</span></div>":i+='<div class="search-settings__footer"><a class="search-settings__reset _btn-reset-settings">'+this.tr("Reset to Defaults")+"</a></div>",i}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(2080),n=i(556),r=i(15);e.exports=n.extend({name:"SearchCountInfo",el:!1,template:t,initialize:function(){this.listenTo(this.collection.pager,"change",this.render)},serialize:function(){var e=this.collection.pager,t=e.get("totalItems"),i=e.get("page"),n=e.get("offset"),o=e.get("limit");return{count:t,countFrom:1===i?1:n+1,countTo:Math.min(n+o,t),countTotal:r.numberFormat(t)}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";var t="check-point";e.exports={POINT_CLASS_NAME:t,addCheckPoint:function(e,i){if(!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("parent: should be an DOM element");var n=document.createElement("div");n.className=t,n.style.position="absolute",n.style.top=i||"50%",e.appendChild(n)},addIntersectionObserver:function(e,i){if(void 0===e&&(e={}),"function"!=typeof i)throw new TypeError(i+": is not a function");new IntersectionObserver(i,e).observe(document.querySelector("."+t))}}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(2061),i(1366);var t=i(26),n=i(2062),r=i(1871),o=i(1571),s=i(739).isAudioTypeApplied,a=i(556),l=i(1367),c=i(1174),u=i(1872),d=i(1873),h=i(1379),p=i(2065),f=i(1874),g=i(2087),v=i(2092),m=i(2095),b=i(646),y=i(739).isVideoTypeApplied,_=i(1882),w=_.POINT_CLASS_NAME,x=_.addCheckPoint,T=_.addIntersectionObserver,k=i(2097);e.exports=a.extend({name:"SearchResult",el:!1,template:r,topKeywords:[],lastCollections:[],initialize:function(){this.listenTo(this.collection,"update reset",this.checkRender),this.searchQueryRelated=this.app.store.get("SearchQueryRelated")},prepareRender:function(){this.initializeHeader(),this.initializeContent(),this.initializeFooter()},serialize:function(){return{hasResult:!!this.collection.length,isCategory:this.app.store.get("SearchQuery").isCategory()}},clientAfterRender:function(){var e=t.$(document.querySelector(".content"));x(e[0]),T({threshold:1},this.handleCheckToStartTour.bind(this))},initializeHeader:function(){this.isPortfolioUpgrade()?this.initializeHeaderPortfolio():this.isEnterpriseSearchHeaderUsed?this.initializeHeaderEnterprise():this.initializeHeaderDefault()},initializeHeaderEnterprise:function(){this.setView("._search-header",new g({app:this.app,collection:this.collection,sortingCollection:this.sortingCollection,groups:this.enterpriseGroups,searchAuthor:this.searchAuthor,searchInfo:this.searchInfo}))},initializeHeaderDefault:function(){this.setView("._search-header",new f({app:this.app,collection:this.collection,sortingCollection:this.sortingCollection,searchAuthor:this.searchAuthor,searchInfo:this.searchInfo,isInfinityView:this.isInfinityView()}))},initializeHeaderPortfolio:function(){this.setView("._search-header",new v({app:this.app,collection:this.collection,sortingCollection:this.sortingCollection,searchAuthor:this.searchAuthor,searchInfo:this.searchInfo}))},initializeContent:function(){this.isAudioFilterAvailable()&&this.setView("._search-audio-filter",new k({app:this.app,model:this.collection.filters})),this.collection.length?this.setView("._search-content",new l({app:this.app,collection:this.collection,searchAuthor:this.searchAuthor,searchBanner:this.searchBanner})):this.setView("._search-content",this.getEmptyContent())},initializeFooter:function(){this.collection.length&&(this.setViews({"._search-footer":this.getSearchFooterContent()}),this.app.features.isFeatureOnValue("Search template texts")&&this.setViews({"._search-seo-text":new m({app:this.app,collection:this.collection,searchInfo:this.searchInfo})}))},isFooterSearchRelatedEnabled:function(){return!(!this.app.features.isFeatureOnValue("Show hints extended block in search page footer")||!this.searchInfo.get("hintsExtended").length||this.isPortfolioUpgrade()||this.isEnterpriseSearchHeaderUsed)&&(!this.searchQueryRelated||this.searchQueryRelated&&this.searchQueryRelated.isRelatedToSimilar())},isAudioFilterAvailable:function(){var e=s(this.collection.filters);if(this.app.store.get("SearchQuery").isPortfolio()){var t=this.app.store.get("AuthorFilesStats");return e&&t.hasAudioMusic()&&t.hasAudioSoundEffects()}return e},isInfinityView:function(){var e=this.searchInfo.get("relatedItem");return!!e&&(!e.get("editorial")||this.app.features.isFeatureOnValue("New editorial similars"))},checkRender:function(){!{}.hasOwnProperty.call(this.collection.filters.changed,"audio")&&(this.collection.length||this.findView("SearchResultEmpty")||this.findView("PortfolioEmpty"))||this.render()},getSearchFooterContent:function(){var e=[];return this.isFooterSearchRelatedEnabled()&&e.push(new d({name:"SearchFooterRelated",app:this.app,searchInfo:this.searchInfo})),e.push(new c({app:this.app,template:o,className:"pager pager_light pager_location-search",collection:this.collection,isInputReadOnly:this.isInfinityView()}),new u({app:this.app,isFooter:!0,template:n,searchInfo:this.searchInfo,searchAuthor:this.searchAuthor,collection:this.collection,sortingCollection:this.sortingCollection})),e},getEmptyContent:function(){return this.isPortfolioUpgrade()&&this.searchAuthor.isPortfolioEmpty()?new p({app:this.app}):new h({app:this.app,title:this.tr("Sorry, but we haven't found anything."),subtitle:this.tr("Please change your search query or select another filter."),topKeywords:this.topKeywords,searchInfo:this.searchInfo,lastCollections:this.lastCollections})},isPortfolioUpgrade:function(){return this.app.store.get("SearchQuery").isPortfolio()&&this.app.features.isFeatureOnValue("Portfolio Upgrade")},handleCheckToStartTour:function(e,t){if(e[0].intersectionRatio&&!(this.collection.pager.get("totalItems")<60||this.app.userSettings.get("SearchQuery").limit<60)){var i=document.querySelector("."+w);if(y(this.app.store.get("SearchQuery")))t.unobserve(i);else{var n=b.mobileMode()?"searchFiltersMobile":"searchFilters";if(this.app.features.isFeatureOnValue("Tour",n)){var r=this.app.userSettings.get("Tour");r&&r[n]?t.unobserve(i):(this.app.observer.fire("Tour:Start",{name:n}),this.app.observer.broadcast("Track:UE:ProductTour:ShowSearchFiltersTour"))}else t.unobserve(i)}}}})}))},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(65).getCategory,n=i(159).getFilter,r={advanced:"advanced",category:"category",age:"ages",race:"races",gender:"genders",mr_release_quantity:"peopleQuantity",mr_property_only:"people",mr_property_exclude:"people",anonymous:"peopleAdditional",isolated_only:"isolated",isolated_exclude:"isolated",render_only:"renderAdditional",render_exclude:"render",resolution:"resolutions",orientation:"orientations",season:"seasons",day_time:"timesOfDay",country:"country",editorial_only:"editorial",editorial_exclude:"editorial",seamless_only:"seamless",seamless_exclude:"seamless",painting_only:"painting",painting_exclude:"painting",drawing_only:"drawing",drawing_exclude:"drawing",watercolor_only:"watercolor",watercolor_exclude:"watercolor",cartoon_only:"cartoon",cartoon_exclude:"cartoon"},o=function(e){var t=e.filter,i=e.fallback,n=e.key;return t&&t[n]?t[n]:i},s={category:function(e,i,n){return o({filter:t({id:i},{app:n}),fallback:i,key:"name"})},people:function(e,t,i){return o({filter:n({name:"people",id:e},{app:i}),fallback:t,key:"label"})},peopleAdditional:function(e,t,i){return o({filter:n({name:"peopleAdditional",id:e},{app:i}),fallback:t,key:"label"})},isolated:function(e,t,i){return o({filter:n({name:"isolated",id:e},{app:i}),fallback:t,key:"label"})},render:function(e,t,i){return o({filter:n({name:"render",id:e},{app:i}),fallback:t,key:"label"})},renderAdditional:function(e,t,i){return o({filter:n({name:"renderAdditional",id:e},{app:i}),fallback:t,key:"label"})},editorial:function(e,t,i){return o({filter:n({name:"editorial",id:e},{app:i}),fallback:t,key:"label"})},country:function(e,t,i){var n=i.store.get("SearchFilterCountries"),r=n?n.get(t):null;return r?r.get("name"):""},seamless:function(e,t,i){return o({filter:n({name:"seamless",id:e},{app:i}),fallback:t,key:"label"})},painting:function(e,t,i){return o({filter:n({name:"painting",id:e},{app:i}),fallback:t,key:"label"})},drawing:function(e,t,i){return o({filter:n({name:"drawing",id:e},{app:i}),fallback:t,key:"label"})},watercolor:function(e,t,i){return o({filter:n({name:"watercolor",id:e},{app:i}),fallback:t,key:"label"})},cartoon:function(e,t,i){return o({filter:n({name:"cartoon",id:e},{app:i}),fallback:t,key:"label"})}};e.exports=function(e,t,i){var o=r[e];if(s[o])return s[o](e,t,i);var a=n({name:o,id:t},{app:i});return a?a.label:t}}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),r=i(26),o=i(1870),s=i(2055),a=i(1866),l=i(875),c=i(2056),u=i(2058),d=i(862),h=i(1361),p=i(1151),f=i(1191),g=i(895),v=i(1204),m=i(1134),b=i(2059),y=i(1161),_=i(1262),w=i(2060),x=i(940),T=i(1570),k=i(1494),S=i(943),C=i(19),M=i(1414)(),P=i(646);i(951),e.exports=l.extend(t({},k,{notFound:!1,favoritesPanelEnabled:!0,isCartIndicatorEnabled:!0,initialize:function(){var e=this.app.userSettings.get("searchSession")||{};this.searchQuery=d.createInstance({app:this.app,queryParams:this.getQueryParamsForSearchQueryModel(),searchSessionParams:e.params}),this.searchSettings=p.createInstance({app:this.app}),this.searchInfo=new h({},{app:this.app}),this.searchAuthor=new c({},{app:this.app}),this.authorFilesStats=new u({},{app:this.app}),this.searchBanner=new v({location:"Search"},{app:this.app}),this.searchBanner.fetch(),this.app.store.link("SearchQuery",this.searchQuery),this.app.store.link("SearchSettings",this.searchSettings),this.app.store.link("SearchInfo",this.searchInfo),this.app.store.link("SearchAuthor",this.searchAuthor),this.app.store.link("AuthorFilesStats",this.authorFilesStats),this.app.store.link("SearchFilterCountries",new w([],{app:this.app})).fetch(),this.app.store.link("Countries",new x(this.app.store.cachePreloadServiceData.countries,{app:this.app})),M.setEnv(this.app),this.app.user.isEnterprise()&&(this.enterpriseGroups=new y([],{app:this.app}),this.enterpriseGroups.queryParams={allStructure:!0},this.enterpriseGroups.fetch()),this.recentSearches=new b([],{app:this.app}),this.lastCollections=new _([],{app:this.app}),this.lastCollections.fetch({getQueryParams:{limit:12}}),this.topKeywords=new m([],{app:this.app,type:this.searchQuery.defineItemsType()}),this.topKeywords.fetch(),this.app.features.isFeatureOnValue("Freepic file")&&(this.app.store.link("CuratedFolder",new f({},{app:this.app})).fetch(),this.app.store.link("Stats",new g(t({},this.app.stats.formatLegacy()),{app:this.app,parse:!0})),T.set(this.app,"freepic_plans"))},getMetaContent:function(e){return{url:this.app.originalUrl,title:e.title,description:e.description,image:this.getMetaImage(),pagerSchema:this.collection.pager.getSchema()}},getMetaImage:function(){return this.collection.length?this.collection.first().makeThumb("huge"):""},updateClientMeta:function(){document.title=this.meta.title,this.updateClientMetaBase(),this.updateClientMetaNextPrev(),this.updateClientRobotsMeta()},updateClientMetaBase:function(){var e=this.getMetaImage();[{property:"og:url",content:this.app.originalUrl},{property:"og:image",content:e},{property:"og:title",content:this.meta.title},{property:"og:description",content:this.meta.description},{property:"twitter:url",content:this.app.originalUrl},{property:"twitter:image",content:e},{property:"twitter:title",content:this.meta.title},{property:"twitter:description",content:this.meta.description}].forEach((function(e){return r.$('meta[property="'+e.property+'"]').attr("content",e.content)}))},getResponseHeaders:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=l.prototype.getResponseHeaders.apply(this,t),r=this.generateCanonicalURL({rel:"canonical"});return this.meta&&this.meta.robots&&(n["X-Robots-Tag"]=this.meta.robots),this.meta&&this.meta.lastModified&&(n["Last-Modified"]=new Date(1e3*this.meta.lastModified).toUTCString()),r&&(n.Link=S.generateHeaderLinkCanonical(r)),n},getCanonical:function(){var e=this.app.makeUrl(t({},this.getUrlParams(),{route:this.name,hash:""})),i=C.urlParse(e).pathname;return S.isCanonicalWithPage(this.app)&&this.app.store.get("SearchQuery").isCategory()||(i=i.replace(/(?:-st\d+)?\.html/,".html")),~i.search("/search-new-photos/index")&&(i=this.app.makeUrl("search-new/index")),this.app.makeUrl(i,{absolute:!0})},trackSearchQueryChange:function(){var e=this.searchQuery.changedToTracking(!1,!0);Object.keys(e).length&&this.app.observer.broadcast("Track:UE:SearchFilter:SubmitAll",{changed:e})},onEmptySearchResult:function(){this.status!==a.STATUS_UNAVAILABLE&&(this.app.features.isFeatureOnValue("Empty search result with 404 code")&&this.setStatus(a.STATUS_NOTFOUND),this.$("._content").addClass(this.getRootClassNames()))},onBannedKeywordInSearch:function(){this.setStatus(a.STATUS_NOTFOUND),this.meta.title=this.app.tr("The page that you were looking for wasn’t found | Depositphotos®")},clientAfterRender:function(){this.tryToShowSignUpModal()},updateBrowserHistory:function(){this.app.router.appNavigate(this.getCorrectUrl(),!1),this.app.history.write()},getStructuredData:function(){return this.collection.hasAudio()?[]:[this.app.features.isFeatureOnValue("Structured Data ItemList on Search")?s.build(this.app,{files:this.collection}):o.build(this.app,{files:this.collection})]},isCorrectUrlQueryParams:function(){return(!this.app.queryParams.seller||!n.isEqual(n.omit(this.app.queryParams,["seller","offset"]),{photo:"1",vector:"1",video:"1"})||null!==this.searchAuthor.get("id"))&&!n.isEqual(n.omit(this.app.queryParams,"offset"),{category:"0"})},isSearchByFileId:function(){var e=this.searchQuery.get("query").trim();return/^\d+$/.test(e)&&+e>1e6},tryToShowSignUpModal:function(){!this.collection.length||this.app.user.isLoggedIn()||P.mobilePhone()||M.incrementCookieValue()},isCuratedCollectionsEnabled:function(){return this.app.features.isFeatureOnValue("Show curated collection")&&this.app.user.isEnterprise()},isSearchInDownloadsEnabled:function(){return this.app.user.isEnterprise()},generate404:function(){this.notFound=!0},generate503:function(){this.setStatus(a.STATUS_UNAVAILABLE)},handlePageChange:function(e){window.scrollTo(0,0),"next"===e.getDirection()&&this.app.observer.broadcast("Track:UE:Search:NextPage",{query:this.searchQuery.get("query"),view:"SearchResult"})},makeMetaYandex:function(){}}))}))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var e=i(1493),n=e.buildVideoObject,r=e.buildProductPartialObject;t.build=function(e,t){var i=t.files,o=1;return{isEnabled:!0,json:{"@context":"https://schema.org","@type":"ItemList",itemListElement:i.reduce((function(t,i){if(i.isFree())return t;var s=i.isVideo()?n(e,{file:i}):r(e,{file:i});return s.isEnabled&&(t.push({"@type":"ListItem",position:o,item:s.json}),o+=1),t}),[])}}}},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),r=i(2057),o=i(6),s=i(15).numberFormat;e.exports=o.extend({defaults:r.defaults,parse:function(e){var t={};return n.each(e,(function(e,i){var o=r.responseMap[i]||i;n.has(r.defaults,o)&&(t[o]=e)})),t},isEditable:function(){return!!this.get("id")&&this.get("id")===this.app.user.get("id")},isPortfolioEmpty:function(){return 0===this.get("filesCount")},hasPortfolioCover:function(){return!!this.get("portfolioCoverUrl")},serialize:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t({},o.prototype.serialize.apply(this,i),{filesCount:s(this.get("filesCount"))})}})}))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports.defaults={id:null,username:null,firstName:null,lastName:null,avatarBig:null,avatarSmall:null,level:null,city:null,country:null,biography:null,equipment:null,facebookUsername:null,instagramUsername:null,linkedinUsername:null,website:null,filesCount:0,portfolioCoverUrl:null,portfolioCoverId:null},e.exports.responseMap={userId:"id",portfolioCover:"portfolioCoverUrl"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(6),n={image:"imageCount",photo:"photoCount",vector:"vectorCount",video:"videoCount",audio:"audioCount",music:"audioMusicCount",sound_effect:"audioSoundEffectsCount"};e.exports=t.extend({defaults:{allFilesCount:0,imageCount:0,photoCount:0,vectorCount:0,videoCount:0,audioCount:0,audioMusicCount:0,audioSoundEffectsCount:0},parse:function(e){return{allFilesCount:e.total,imageCount:e.image+e.vector,photoCount:e.image,vectorCount:e.vector,videoCount:e.video,audioCount:e.audio,audioMusicCount:e.audio_music,audioSoundEffectsCount:e.audio_sound_effect}},hasFiles:function(){return!!this.get("allFilesCount")},hasImages:function(){return!!this.get("imageCount")},hasPhotos:function(){return!!this.get("photoCount")},hasVectors:function(){return!!this.get("vectorCount")},hasVideos:function(){return!!this.get("videoCount")},hasAudios:function(){return!!this.get("audioCount")},hasAudioMusic:function(){return!!this.get("audioMusicCount")},hasAudioSoundEffects:function(){return!!this.get("audioSoundEffectsCount")},checkFilesCountByType:function(e){var t=n[e];return{}.hasOwnProperty.call(this.defaults,t)&&!!this.get(t)}})})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(6),r=i(179);e.exports=r.extend({name:"RecentSearches",unique:!0,isStackEnabled:!!n.browser,model:t.extend({defaults:{query:"",sorting:"",count:0},toFlume:function(){return"q="+this.get("query").replace(/\s/g,"+")+"&sort="+this.get("sorting")}})})}))}).call(this,i(23))},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(6),n=i(34);e.exports=n.extend({url:"SearchFilterCountries",model:t.extend({idAttribute:"code",defaults:{code:"",name:""}}),getQueryParams:{},parse:function(e){var t=e.data;return void 0===t?[]:t}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-box__footer-info search-info">';if(e.info.count||e.title.folderName){if(e.info.relatedItem)i+='<a class="search-info__related-file search-info__related-file_footer" href="'+e.info.relatedItem.url+'"><img class="search-info__related-file-image" src="'+e.info.relatedItem.thumbs.normalSquare+'" /></a><span class="search-info__related-box">'+e.info.meta.h1.replace(/\<a\s/g,'<a class="link-blue _link" ')+"</span>";else if(i+='<span class="search-info__title">'+e.info.meta.h1+"</span>",e.info.hints.length){i+='<span class="search-info__related-title search-info__related-title_footer">'+t(e.title.relatedKeywordsTitle)+':</span><ul class="search-info__related">';var n=e.info.hints;if(n)for(var r,o=-1,s=n.length-1;o<s;)(r=n[o+=1])&&r.url&&r.key&&(i+='<li class="search-info__related-item _related-link"><a class="link-blue" href="'+r.url+'">'+t(r.key)+"</a></li>");i+="</ul>"}if(e.info.anchors&&e.info.anchors.length){i+='<ul class="search-info__anchors">';var a=e.info.anchors;if(a)for(var l,c=-1,u=a.length-1;c<u;)i+='<li class="search-info__anchor-item"><a class="link-blue _anchor" href="'+(l=a[c+=1]).url+'">'+t(l.key)+"</a></li>";i+="</ul>"}}return i+="</div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i="";if(e.links.length){i+='<div class="search-related-wrapper '+t(e.classes)+'"><i class="arrow-button left hidden arrow-button_search-related-slider _slide-left"></i><i class="arrow-button right hidden arrow-button_search-related-slider _slide-right"></i><div class="search-related-holder"><div class="search-related-slider _search-related-slider"><div class="search-related">';var n=e.links;if(n)for(var r,o=-1,s=n.length-1;o<s;)if((r=n[o+=1])&&r.thumbs){i+='<div class="search-related__item-box _related-item-box"><div class="search-related__item',r.isBack&&(i+=" search-related__item_back"),i+='"><div class="search-related__poster search-related__poster_count'+t(r.thumbs.length)+'">';var a=r.thumbs;if(a)for(var l,c=-1,u=a.length-1;c<u;)i+='<div class="search-related__bg-item" style="background-image: url('+t((l=a[c+=1]).url)+"); background-position-y: "+t(l.offset)+'%"></div>';i+='</div><div class="search-related__link-box">',r.pseudolink?i+='<span class="search-related__link _related-link _pseudolink" data-url="'+t(r.url)+'" data-group="phrase">':i+='<a class="search-related__link _related-link" href="'+r.url+'" data-group="phrase">',r.isBack&&(i+='<i class="search-related__back icon icon-arrow-back"></i>'),r.visualTitle&&(i+='<span class="search-related__link-content',r.phrase&&(i+=" search-related__link-content_line"),i+='">'+t(r.visualTitle)+"</span>"),r.visualTitle&&r.phrase&&(i+='<span class="hidden"> </span>'),r.phrase&&(i+='<span class="search-related__link-content',r.visualTitle&&(i+=" search-related__link-content_line"),i+='">'+t(r.phrase)+"</span>"),r.pseudolink?i+="</span>":i+="</a>",i+="</div>",r.icon&&(i+='<div class="search-related__tag search-related__tag_'+t(r.icon)+'"><i class="icon icon-'+t(r.icon)+'-tag"></i></div>'),i+="</div></div>"}i+="</div></div></div></div>"}return i}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(2066),n=i(556);i(2067),e.exports=n.extend({name:"PortfolioEmpty",el:!1,template:t,serialize:function(){return{name:this.app.store.get("SearchQuery").get("seller")}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="portfolio-empty"><h1 class="portfolio-empty__title">'+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}())(e.name)+'</h1><p class="portfolio-empty__subtitle">'+this.tr("Oops, there's nothing here yet.")+"</p></div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i="";return e.headerEnabled&&(i+='<div class="search-header '+t(e.classes)+'">',e.filterIndicatorsEnabled&&(i+='<div class="search-header__indicators _search-filter-indicators"></div>'),i+='<div class="search-header__info _search-info',e.infoEnabled||(i+=" search-header__info_hidden"),i+='"></div><div class="search-header__settings _search-settings"></div><hr class="search-header__separator">',e.isSimilarView||(i+='<div class="search-header__related _search-related"></div>'),e.sortingEnabled&&(i+='<div class="search-header__sorting _search-sorting"></div>'),e.isPremiumView&&e.countInfoEnabled?i+='<div class="search-header__right-box"><div class="search-header__count-info _search-count-info"></div><div class="search-header__pager _search-pager"></div></div>':e.countInfoEnabled&&(i+='<div class="search-header__pager _search-pager"></div><div class="search-header__count-info _search-count-info"></div>'),e.isAudioTypeApplied||(i+='<div class="search-header__line"></div>'),e.isSimilarView&&(i+='<div class="search-header__related _search-related"></div>'),e.refineEnabled&&(i+='<div class="search-header__refine _search-refine"></div>'),i+="</div>"),i}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-box__info search-info';if(e.isFiltered&&(i+=" search-box__info_with-filters"),e.isSortingEnabled||(i+=" search-box__info_without-sorting"),i+='">',e.info.suggestions.length||e.info.correction.length){if(i+='<div class="search-info__suggestions-box"><span class="search-info__suggestions">',e.fuzzyCorrection?i+=""+this.tr("Your search request returned too few results, so we extended it."):i+=""+this.tr("Showed results for: <b>%s</b>.",[e.info.correctionLink]),i+="</span>",(e.fuzzyCorrection||e.info.original!==e.info.query)&&(i+='<span class="search-info__suggestions">'+this.tr("Search instead for %s",['<a class="search-info__instead-link link-blue _instead" href="'+e.info.originalUrl+"\" rel='nofollow'>"+e.capitalize(e.info.original)+"</a>"])+"</span>"),e.info.suggestions.length){i+='<span class="search-info__suggestions">'+this.tr("Did you mean")+":";var n=e.info.suggestions;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<a class="search-info__mean-link link-blue" href="'+(r=n[o+=1]).url+'" ',r.rel&&(i+=' rel="'+r.rel+'" '),i+=">"+t(e.capitalize(r.key))+"</a>";i+="</span>"}i+="</div>"}if(e.info.count||e.info.relatedItem||e.title.folderName)if(e.info.relatedItem)i+='<a class="search-info__related-file _related-thumb" href="'+e.info.relatedItem.url+'"><img class="search-info__related-file-image" src="'+e.info.relatedItem.thumbs.normalSquare+'" /></a><h1 class="search-info__related-box">'+e.info.meta.h1.replace(/\<a\s/g,'<a class="link-blue _link" ')+"</h1>";else if(i+='<h1 class="search-info__title',e.isCategory&&(i+=" search-info__title_category"),i+='">',e.isPremium?i+='<span class="search-info__premium-title"><i class="search-info__premium-icon icon icon-premium-collection-large"></i>'+t(e.searchParams.query)+" - "+this.tr("Premium Collection")+"</span>":e.searchAuthor.level&&""===e.searchParams.query?i+='<i class="search-info__level icon icon-level-'+t(e.searchAuthor.level)+' _level-tooltip"></i><strong>'+t(e.searchAuthor.username)+"</strong> "+this.tr("portfolio"):i+=""+e.info.meta.h1,i+="</h1>",e.isAudioTypeApplied&&(i+='<div class="search-info__music-subtitle">'+this.tr("%s royalty-free tracks",e.info.count)+"</div>"),e.info.hints.length){i+='<span class="search-info__related-title">'+this.tr(e.title.relatedKeywordsTitle)+':</span><ul class="search-info__related _related-box-text">';var a=e.info.hints;if(a)for(var l,c=-1,u=a.length-1;c<u;)(l=a[c+=1])&&l.url&&l.key&&(i+='<li class="search-info__related-item _related-item"><a class="link-blue _related-hint _related-link" href="'+l.url+'">'+this.tr(l.key)+"</a></li>");i+="</ul>"}return i+="</div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-filters-indicator">';if(e.schema.length){var n=e.schema;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<div class="filter-item ',(r=n[o+=1]).value?i+=" _item-group":i+=" _item ",i+='" data-name="'+t(r.key)+'" data-value="'+t(r.value)+'">',r.isIcon?(i+='<i class="filter-item__icon icon '+t(r.classNames)+'" ',r.styles&&(i+='style="'+t(r.styles)+'"'),i+="></i>"):(i+='<span class="filter-item__name '+t(r.classNames)+'" ',r.styles&&(i+='style="'+t(r.styles)+'"'),i+=">"+r.label+"</span>"),i+='<i class="filter-item__reset button-reset"></i></div>';i+='<div class="control-item _reset"><a class="filter-item__clear">'+this.tr("Clear")+"</a></div>"}return i+="</div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-subfilters"><div class="search-subfilters__wrap _wrap"><ul class="search-subfilters__menu _search-curated-menu">',n=e.menuItems;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<li class="search-subfilters__item _search-curated-item">',(r=n[o+=1]).active?(i+='<span class="search-subfilters__link search-subfilters__link_active _active">'+this.tr(r.title),r.star&&(i+='<i class="search-subfilters__icon icon icon-star-admin"></i>'),i+="</span>"):(i+='<a class="search-subfilters__link _link" data-value="'+t(r.key)+'">'+this.tr(r.title),r.star&&(i+='<i class="search-subfilters__icon icon icon-star-admin"></i>'),i+="</a>"),i+="</li>";return i+="</ul></div></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-sorting-box search-sorting-box_compact"><div class="search-sorting-compact _search-sorting-compact">',n=e.sortings;if(n)for(var r=-1,o=n.length-1;r<o;)(a=n[r+=1]).active&&(i+='<span class="search-sorting-compact__current _sorting-menu _sorting-menu-compact"><span class="search-sorting-compact__current-title-box"><span class="search-sorting-compact__current-lable">'+this.tr("Sort by")+':</span><span class="search-sorting-compact__current-title">'+t(a.label)+'</span></span><i class="search-sorting-compact__arrow arrow arrow-black arrow-bottom"></i>',a.isNew&&(i+='<i class="search-sorting-compact__new label label-new-block-medium"></i>'),i+="</span>");i+='<ul class="search-sorting-mobile__menu"><li class="search-sorting-mobile__menu-header"><i class="search-sorting-mobile__close _sorting-menu"></i><span class="search-sorting-mobile__header-title">'+this.tr("Sort by")+"</span></li>";var s=e.sortings;if(s)for(var a,l=-1,c=s.length-1;l<c;)(a=s[l+=1]).enabled&&(a.active?(i+='<li class="search-sorting-mobile__item search-sorting-mobile__item_active"><i class="search-sorting-mobile__select icon icon-ok icon-ok-blue"></i><span class="search-sorting-mobile__title">'+t(a.label)+"</span>",a.isNew&&(i+='<i class="search-sorting-mobile__new label label-new-block-medium"></i>'),i+="</li>"):(i+='<li class="search-sorting-mobile__item"><a class="search-sorting-mobile__link" data-sorting='+t(a.key)+' href="'+a.href+'">'+t(a.label)+"</a>",a.isNew&&(i+='<i class="search-sorting-mobile__new label label-new-block-medium"></i>'),i+="</li>"));return i+="</ul></div></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-sorting-box">';if(e.compactMode){i+='<div class="search-sorting-mobile">';var n=e.sortings;if(n)for(var r=-1,o=n.length-1;r<o;)((u=n[r+=1]).active||u.isDefault)&&(i+='<span class="search-sorting-mobile__current _sorting-menu"><span class="search-sorting-mobile__current-title">'+t(u.label)+'</span><i class="search-sorting-mobile__arrow arrow arrow-black arrow-bottom"></i>',u.isNew&&(i+='<i class="search-sorting-mobile__new label label-new-block-medium"></i>'),i+="</span>");i+='<ul class="search-sorting-mobile__menu"><li class="search-sorting-mobile__menu-header"><i class="search-sorting-mobile__close _sorting-menu"></i><span class="search-sorting-mobile__header-title">'+this.tr("Sort by")+"</span></li>";var s=e.sortings;if(s)for(var a=-1,l=s.length-1;a<l;)(u=s[a+=1]).enabled&&(u.active?(i+='<li class="search-sorting-mobile__item search-sorting-mobile__item_active"><i class="search-sorting-mobile__select icon icon-ok icon-ok-blue"></i><span class="search-sorting-mobile__title">'+t(u.label)+"</span>",u.isNew&&(i+='<i class="search-sorting-mobile__new label label-new-block-medium"></i>'),i+="</li>"):(i+='<li class="search-sorting-mobile__item"><a class="search-sorting-mobile__link" data-sorting='+t(u.key)+' href="'+u.href+'">'+t(u.label)+"</a>",u.isNew&&(i+='<i class="search-sorting-mobile__new label label-new-block-medium"></i>'),i+="</li>"));i+="</ul></div>"}if(!e.mobileMode){i+='<ul class="search-sorting">';var c=e.sortings;if(c)for(var u,d=-1,h=c.length-1;d<h;)(u=c[d+=1]).enabled&&(u.active?(i+='<li class="search-sorting__item search-sorting__item_active"><span class="search-sorting__title">'+t(u.label)+"</span>",u.shouldShowDot?i+='<i class="search-sorting__dot"></i>':u.isNew&&(i+='<i class="search-sorting__new label label-new-block-medium"></i>'),i+="</li>"):(i+='<li class="search-sorting__item"><a class="search-sorting__link" data-sorting='+t(u.key)+' href="'+u.href+'">'+t(u.label)+"</a>",u.shouldShowDot?i+='<i class="search-sorting__dot"></i>':u.isNew&&(i+='<i class="search-sorting__new label label-new-block-medium"></i>'),i+="</li>"));i+="</ul>"}return i+="</div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<ul class="sorting-menu">',n=e.sortings;if(n)for(var r,o=-1,s=n.length-1;o<s;)(r=n[o+=1]).enabled&&(r.active?(i+='<li class="sorting-menu__item sorting-menu__item_active"><i class="sorting-menu__icon icon icon-ok"></i><span class="sorting-menu__title">'+t(r.label)+"</span>",r.isNew&&(i+='<i class="sorting-menu__new label label-new-block-medium"></i>'),i+="</li>"):(i+='<li class="sorting-menu__item"><a class="sorting-menu__link" data-sorting='+t(r.key)+' href="'+r.href+'">'+t(r.label),r.isNew&&(i+='<i class="sorting-menu__new label label-new-block-medium"></i>'),i+="</a></li>"));return i+="</ul>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="search-box__count-info">';return e.count&&(t+='<span class="search-box__count-info-text">'+this.tr("<span>%1$s-%2$s</span> of <span>%3$s</span>",[e.countFrom,e.countTo,e.countTotal])+"</span>"),t+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(2082),i(1426);var n=i(0),r=i(26),o=i(1090),s=i(561),a=i(2083),l=i(556),c=i(2084),u=i(558),d=i(943);e.exports=l.extend({name:"SearchRefine",el:!1,template:a,events:{"click ._link":"handleLinkClick","click ._links":"handleLinksClick","mouseover ._pseudolink":"handlePseudoLinkMouseOver","click ._reset":"handleResetClick"},globals:{"click body":"handleBodyClick","resize window":"handleWindowResize"},initialize:function(){this.setItems(),this.once("clientAfterRender",this.trackInfo),this.listenTo(this.searchInfo,"change:collectionsRefinedSearch",this.handleCollectionChange)},serialize:function(){return{items:this.items}},clientAfterRender:function(){this.items.length&&(this.setSliderWidth(),this.sliderPlug())},setItems:function(){this.items=this.searchInfo.get("collectionsRefinedSearch")},setSliderWidth:function(){if(this.el.querySelector("._slider")){var e=0,t=null;[].slice.call(this.el.querySelectorAll("._slider-item")).forEach((function(i){e+=i.offsetWidth,null===t&&(t=parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-right"),10))})),e=Math.max(this.el.querySelector("._list-wrap").offsetWidth+(t||0),e),this.el.querySelector("._slider").style.width=e+"px"}},sliderPlug:function(){var e=this.$("._wrap");if(0!==e.length){var t=this.insertView("slider",new o({app:this.app,useRangeControl:!1}));t.el=e.get(0),t.$el=e,t.setResponsiveOptions=function(){},t.delegateEvents(),t.clientAfterRender()}},trackInfo:function(){this.items.length&&this.app.observer.broadcast("Track:UE:Search:Refine",{action:"show",view:this.name})},toTracking:function(){return{links:this.items}},trackNewTabClick:function(e){var t=this.$(e.currentTarget).closest("._slider-item").index(),i=this.items[t];i&&this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:this.name,target:{target:"search"},params:{position:t+1,text:i.title,type:"refine"}})},handleCollectionChange:function(){this.setItems(),this.render()},handlePseudoLinkMouseOver:function(e){d.transformOrRedirect(this.app,e.currentTarget,e.currentTarget.getAttribute("data-url"))},handleLinkClick:function(e){if(e.ctrlKey||e.shiftKey||e.metaKey)this.trackNewTabClick(e);else{var i=r.$(e.currentTarget),n=!i.data("parent"),o=n?i.closest("._slider-item").index():this.$('._links[data-name="'+e.currentTarget.dataset.parent+'"]').closest("._slider-item").index(),s=n?o:i.closest("._item").index(),a=this.items[o],l=n?a:a.links[s];l&&this.app.observer.broadcast("Track:UE:Search:Refine",{action:"click",params:t({position:o+1,subPosition:n?0:s+1,text:a.title,type:l.type,item:l.title},l.params),view:this.name})}},handleLinksClick:function(e){var t=this;e.stopPropagation();var i=(this.items.find((function(t){return t.title===e.currentTarget.dataset.name}))||{}).links||[],n=this.$(e.currentTarget);0!==i.length&&(this.getView("SearchRefineMenu")&&this.getView("SearchRefineMenu").remove(),n.hasClass("open")?n.removeClass("open"):(this.setNotExistView("SearchRefineMenu",u,{params:s.SearchRefineMenu,classes:{"tooltip_extra-shadow":!0,tooltip_rounding:!0},content:new c({app:this.app,parent:n.data("name"),links:i,handleLinkClick:function(e){return t.handleLinkClick(e)}})},{remove:!0}),this.getView("SearchRefineMenu").show(e),this.$("._links").removeClass("open"),n.addClass("open")))},handleResetClick:function(e){e.stopPropagation();var t=this.$(e.currentTarget).closest("._slider-item").index(),i=this.items[t]||{};this.app.observer.broadcast("Track:UE:Search:Refine",{action:"clear",params:{text:i.title},view:this.name})},handleBodyClick:function(){this.$("._links").removeClass("open")},updateSlider:function(){var e=this.getView("slider");e&&e.initializeSlider()},handleWindowResize:n.throttle((function(){this.items.length&&(this.setSliderWidth(),this.updateSlider())}),10)})}))},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i="";if(e.items.length){i+='<div class="search-refine"><div class="search-refine__title">'+this.tr("Refine Search")+'</div><div class="search-refine__wrap _wrap"><i class="search-refine__arrow arrow-button left _prev"></i><div class="search-refine__shadow"></div><i class="search-refine__arrow arrow-button right _next"></i><div class="search-refine__shadow"></div><div class="search-refine__list _list-wrap"><div class="links-list links-list_menu _slider">';var n=e.items;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<div class="links-list__item _slider-item">',(r=n[o+=1]).links&&r.links.length?(i+='<div class="links-list__link _links',r.active&&(i+=" selected"),i+='" data-name="'+t(r.title)+'">',r.icon?i+='<i class="links-list__icon icon icon-refine-'+t(r.icon)+'"></i>':r.thumb&&(i+='<span class="links-list__bg" style="background-image: url('+t(r.thumb)+')"></span>'),i+='<span class="links-list__text">'+r.visualTitle+'</span><i class="links-list__arrow arrow arrow-strict arrow-down"></i>',r.resetUrl&&(i+='<a class="links-list__reset button-reset _pseudolink _reset" data-url="'+t(r.resetUrl)+'"></a>'),i+="</div>"):(i+='<span class="links-list__link _link _pseudolink',r.active&&(i+=" selected"),i+='" data-url="'+t(r.url)+'">',r.icon?i+='<i class="links-list__icon icon icon-refine-'+t(r.icon)+'"></i>':r.thumb&&(i+='<span class="links-list__bg" style="background-image: url('+t(r.thumb)+')"></span>'),i+='<span class="links-list__text">'+r.visualTitle+"</span>",r.resetUrl&&(i+='<a class="links-list__reset button-reset _pseudolink _reset" data-url="'+t(r.resetUrl)+'"></a>'),i+="</span>"),i+="</div>";i+="</div></div></div></div>"}return i}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";i(2085);var t=i(2086),n=i(556);e.exports=n.extend({name:"SearchRefineMenu",el:!1,template:t,parent:"",links:[],events:{"click ._link":"handleLinkClick"},serialize:function(){return{parent:this.parent,links:this.links}},handleLinkClick:function(e){}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<ul class="search-refine-menu">',n=e.links;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<li class="search-refine-menu__item _item"><a href="'+t((r=n[o+=1]).url)+'" class="search-refine-menu__link _link',r.active&&(i+=" search-refine-menu__link_active"),i+='" data-parent="'+t(e.parent)+'">',r.thumb&&(i+='<span class="search-refine-menu__bg" style="background-image: url('+t(r.thumb)+')"></span>'),i+=t(r.visualTitle)+"</a></li>";return i+="</ul>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(1875);var t=i(1876),n=i(1571),r=i(1874),o=i(1174),s=i(1572),a=i(1877),l=i(2088),c=i(1574),u=i(1573),d=i(1881);e.exports=r.extend({name:"SearchHeaderEnterprise",template:t,prepareRender:function(){this.setView("._search-subfilters",new a({app:this.app,collection:this.collection})),this.groupsEnabled()&&this.setView("._search-groups",new l({app:this.app,collection:this.groups})),this.setView("._search-filter-indicators",new s({app:this.app})),this.setView("._search-settings",new u({app:this.app,collection:this.collection})),this.collection.length&&(this.setView("._search-sorting",new c({app:this.app,sortingCollection:this.sortingCollection,isPurchasedTabActive:this.isPurchasedTabActive(),isCompact:!0,collection:this.collection})),this.setView("._search-count-info",new d({app:this.app,collection:this.collection})),this.setView("._search-pager",new o({app:this.app,template:n,className:"pager pager_light",collection:this.collection})))},isPurchasedTabActive:function(){return"purchased"===this.app.store.get("SearchQuery").get("dataSource")},sortingEnabled:function(){return this.collection.length},groupsEnabled:function(){return this.app.user.isEnterprise()&&this.isPurchasedTabActive()},serialize:function(){return{subfiltersEnabled:!0,settingsEnabled:!0,sortingEnabled:this.sortingEnabled(),filterIndicatorsEnabled:this.filterIndicatorsEnabled(),groupsEnabled:this.groupsEnabled(),pagerEnabled:this.collection.length,countInfoEnabled:this.collection.length,infoEnabled:!1,classes:""}}})}))},function(e,t,i){(function(n){var r,o,s;!function(i,n){o=[],void 0===(s="function"==typeof(r=n)?r.apply(t,o):r)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(2089);var t=i(0),r=i(561).SortingMenuEnterprise,o=i(2090),s=i(556),a=i(558),l=i(2091),c=i(6),u=i(646);e.exports=s.extend({name:"SearchEnterpriseGroups",el:!1,template:o,events:{"click ._group-link":"onGroupClick","click ._groups-menu":"onGroupsMenuClick"},globals:{"resize window":"onWindowResize","scroll window":"handleWindowScroll"},initialize:function(){this.mobileWatcher=new c({isMobile:!1}),this.listenTo(this.app.store.get("SearchQuery"),"change:sorting paramsArrived",this.render),this.listenTo(this.collection,"update reset",this.render),this.listenTo(this.app.observer,"Responsive:CloseMobileMenu",this.observeCloseMobileMenu.bind(this)),this.listenTo(this.mobileWatcher,"change",this.render)},onWindowResize:function(){this.mobileWatcher.set({isMobile:u.mobileMode()})},serialize:function(){return{display:this.shouldBeDisplayed(),groups:this.getGroupsList(),mobileMode:!!n.browser&&u.mobileMode()}},clientAfterRender:function(){this.initGroupsMenuTooltip()},initGroupsMenuTooltip:function(){this.setView("tooltipGroupsMenu",new a({events:{"change ._group-selection":"onGroupSelectionChange"},params:r,content:new l({app:this.app,allGroupsTitle:this.getAllGroupsTitle(),groups:this.serializeGroups()}),onGroupSelectionChange:this.onGroupSelectionChange.bind(this)}))},getAllGroupsTitle:function(){return this.app.user.isEnterprise()?this.tr("All Divisions"):this.tr("All Groups")},getGroupsList:function(){return t.union([{id:-1,name:this.tr("All Divisions"),href:this.app.makeUrl(this.app.url,{query:{enterprise_group_id:-1}}),active:!this.app.store.get("SearchQuery").get("enterpriseGroupId")||-1===parseInt(this.app.store.get("SearchQuery").get("enterpriseGroupId"),10)}],this.serializeGroups())},serializeGroups:function(){var e=this;return this.collection.map((function(i){return t.extend(i.serialize(),{href:e.app.makeUrl(e.app.url,{query:{enterprise_group_id:i.get("id")}}),active:parseInt(e.app.store.get("SearchQuery").get("enterpriseGroupId"),10)===parseInt(i.get("id"),10)})}))},shouldBeDisplayed:function(){return"purchased"===this.app.store.get("SearchQuery").get("dataSource")&&this.collection.length>1},onGroupsMenuClick:function(e){u.mobileMode()?(u.mobileMode()&&this.app.observer.fire("Responsive:CloseMobileMenu",{cid:this.cid}),this.$el.toggleClass("active").toggleClass("fixed",window.pageYOffset>48)):(e.preventDefault(),this.getView("tooltipGroupsMenu").toggle(e))},onGroupSelectionChange:function(e){e.preventDefault(),this.updateUserGroupFilter(parseInt(e.currentTarget.value,10))},onGroupClick:function(e){e.preventDefault(),-1===e.currentTarget.parentNode.className.search("active")&&this.updateUserGroupFilter(parseInt(e.currentTarget.getAttribute("data-group-id"),10))},updateUserGroupFilter:function(e){this.getView("tooltipGroupsMenu")&&this.getView("tooltipGroupsMenu").hide(),this.app.store.get("SearchQuery").secureSet({enterpriseGroupId:e})},handleWindowScroll:t.throttle((function(){u.mobileMode()&&this.$el.toggleClass("fixed",window.pageYOffset>48)}),10),observeCloseMobileMenu:function(e){e.cid!==this.cid&&this.$el.removeClass("active fixed")}})}))}).call(this,i(23))},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-es-groups-box';e.display||(i+=" hidden"),i+='"><div class="search-es-groups _search-enterprise-groups-compact">';var n=e.groups;if(n)for(var r=-1,o=n.length-1;r<o;)(a=n[r+=1]).active&&(i+='<span class="search-es-groups__current _groups-menu"><span class="search-es-groups__current-title-box"><span class="search-es-groups__current-title">'+t(a.name)+'</span></span><i class="search-es-groups__arrow arrow arrow-black arrow-bottom"></i></span>');i+='<ul class="search-es-groups__menu _groups-menu"><li class="search-es-groups__menu-header"><i class="search-es-groups__close _close"></i><span class="search-es-groups__header-title">'+this.tr("Divisions")+"</span></li>";var s=e.groups;if(s)for(var a,l=-1,c=s.length-1;l<c;)(a=s[l+=1]).active?i+='<li class="search-es-groups__item search-es-groups__item_active"><i class="search-es-groups__select icon icon-ok icon-ok-blue"></i><span class="search-es-groups__title">'+t(a.name)+"</span></li>":i+='<li class="search-es-groups__item"><a class="search-es-groups__link _group-link" data-group-id='+t(a.id)+' href="'+a.href+'">'+t(a.name)+"</a></li>";return i+="</ul></div></div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(972);var t=i(26).$,n=i(882),r=i(1135),o=i(556);e.exports=o.extend({el:!1,template:r,allGroups:!0,allGroupsTitle:null,groups:[],serialize:function(){return{allGroups:this.allGroups,allGroupsTitle:this.allGroupsTitle,groups:this.groups,selected:this.app.store.get("SearchQuery").get("enterpriseGroupId")||-1}},clientAfterRender:function(){n.initialize(t(this.el).find("._scrollable").get(0),{suppressScrollX:!0,wheelSpeed:.6})}})}))},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(2093);var t=i(2094),n=i(556),r=i(1572),o=i(1574),s=i(1119);e.exports=n.extend({name:"SearchHeaderPortfolio",el:!1,template:t,initialize:function(){this.listenTo(this.app.observer,"SearchFilter:Toggle",this.render),this.listenTo(this.app.store.get("SearchQuery"),"change",this.render)},prepareRender:function(){var e={"._portfolio-sorting":new o({app:this.app,sortingCollection:this.sortingCollection,isCompact:!0,collection:this.collection}),"._portfolio-search":new s({app:this.app,model:this.app.store.get("SearchQuery"),formAction:this.app.makeUrl("search"),placeholder:this.tr("Search within portfolio..."),enableNavigation:!1,classes:"search-bar-lite_small",searchReset:this.searchBarReset.bind(this),trackSubmit:this.trackSearchBarSubmit.bind(this)})};this.isFilterIndicatorsEnabled()&&(e["._filter-indicators"]=new r({app:this.app})),this.setViews(e)},serialize:function(){var e=this.app.store.get("SearchAuthor").isPortfolioEmpty();return{isSortingEnabled:!e,isFilterIndicatorsEnabled:this.isFilterIndicatorsEnabled(),isSearchEnabled:!e}},isFilterIndicatorsEnabled:function(){return this.app.store.get("SearchQuery").isFiltered()},searchBarReset:function(){this.app.store.get("SearchQuery").set({query:""})},trackSearchBarSubmit:function(){this.app.observer.broadcast("Track:UE:SearchBar:Portfolio",{query:this.app.store.get("SearchQuery").get("query")})}})}))},function(e,t,i){},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="portfolio-header">';return e.isSortingEnabled&&(t+='<div class="portfolio-header__sorting _portfolio-sorting"></div>'),e.isFilterIndicatorsEnabled&&(t+='<div class="portfolio-header__indicators _filter-indicators"></div>'),e.isSearchEnabled&&(t+='<div class="portfolio-header__search _portfolio-search"></div>'),t+="</div>"}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(){"use strict";var t=i(0),n=i(2096),r=i(556),o=i(15);e.exports=r.extend({name:"SeoPromoText",el:!1,template:n,initialize:function(){this.listenTo(this.searchInfo,"change",this.render)},seoTemplatesAvailable:function(){return!t.isEmpty(this.searchInfo.get("seoTemplates"))},serialize:function(){return{seoTemplatesAvailable:this.seoTemplatesAvailable(),keyword:this.app.store.get("SearchQuery").get("query"),totalMonthDownloads:o.numberFormat(this.searchInfo.get("seoTemplates").totalMonthDownloads),dailyViews:o.numberFormat(this.searchInfo.get("seoTemplates").dailyViews),photosAvailable:o.numberFormat(this.searchInfo.get("seoTemplates").count)}}})},r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i="";return e.seoTemplatesAvailable&&(i+='<div class="search-box__seo-text"><h2 class="search-box__seo-text-title">'+t(e.keyword)+':</h2><ul class="list list-grey"><li class="list-item">'+t(e.photosAvailable)+' доступно фото</li><li class="list-item">просмотрено фотографий '+t(e.dailyViews)+'</li><li class="list-item">'+t(e.totalMonthDownloads)+" скачано картинок</li></ul><p>Скачивайте красивые фото "+t(e.keyword)+" в высочайшем качестве!</p></div>"),i}})?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){var n,r,o;!function(i,s){r=[],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(2098),r=i(159).getFilterList,o=i(556);i(2099);var s=o.extend({name:"SearchResultAudioFilter",el:!1,template:n,model:null,events:{"click ._filter":"handleFilterClick"},initialize:function(){this.listenTo(this.model,"change:audioType",this.render)},serialize:function(){var e=r({name:"audioTypes"},{app:this.app}),i=this.model.get("audioType");return{filters:e.map((function(e){return t({},e,{isActive:i===e.value})}))}},handleFilterClick:function(e){var t=e.currentTarget;this.model.set({audioType:t.dataset.value})}});e.exports=s}))},function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="search-audio-filter">',n=e.filters;if(n)for(var r,o=-1,s=n.length-1;o<s;)i+='<div class="_filter search-audio-filter__item ',(r=n[o+=1]).isActive&&(i+=" search-audio-filter__item_active "),i+=" search-audio-filter__item_"+t(r.value)+'"data-value="'+t(r.value)+'">'+t(r.label)+"</div>";return i+="</div>"}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){"use strict";var t=i(6);e.exports=t.extend({defaults:{hash:void 0,query:"",relatedTo:null,relatedItemId:0,sorting:"best_match",relatedFileType:""},validation:{relatedTo:{oneOf:["serie","model","similar"]},relatedItemId:{pattern:"digits"},relatedFileType:{oneOf:["images","videos","vectors",""]}},initialize:function(){var e=this;this.on("change",(function(){e.attributes.hash=e.defaults.hash}))},parse:function(e){var t=function(e){var t=e.validation,i=e.defaults;return{hash:function(e){return e},query:function(e){return e?e.toString().replace(/-+/g," "):""},relatedTo:function(e){return t.relatedTo.oneOf.includes(e)?e:i.relatedTo},relatedItemId:function(e){return Math.max(0|e,0)},relatedFileType:function(e){return t.relatedFileType.oneOf.includes(e)?e:i.relatedFileType},sorting:function(e){return e}}}(this);return Object.keys(t).reduce((function(i,n){return"function"==typeof t[n]&&(i[n]=t[n](e[n])),i}),{})},isRelatedToSimilar:function(){return"similar"===this.get("relatedTo")},getDefaultSorting:function(){return this.defaults.sorting}})})?n.apply(t,r):n)||(e.exports=o)}]),0,[2,4,7,20,14,0,22,16,17]]);