(window.webpackJsonp=window.webpackJsonp||[]).push([[51,7,56,62],{1e3:function(e,t,i){"use strict";var n=i(644),o=i(627),s=i(645),a=i(652);function r(e,t){var i=null,r={top:0,left:0};function l(){i||(i=setInterval((function(){o.get(e)?(a(e,"top",e.scrollTop+r.top),a(e,"left",e.scrollLeft+r.left),s(e)):clearInterval(i)}),50))}function c(){i&&(clearInterval(i),i=null),n.stopScrolling(e)}var d=!1;t.event.bind(t.ownerDocument,"selectionchange",(function(){e.contains(function(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}())?d=!0:(d=!1,c())})),t.event.bind(window,"mouseup",(function(){d&&(d=!1,c())})),t.event.bind(window,"keyup",(function(){d&&(d=!1,c())})),t.event.bind(window,"mousemove",(function(t){if(d){var i={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};i.x<o.left+3?(r.left=-5,n.startScrolling(e,"x")):i.x>o.right-3?(r.left=5,n.startScrolling(e,"x")):r.left=0,i.y<o.top+3?(r.top=o.top+3-i.y<5?-5:-20,n.startScrolling(e,"y")):i.y>o.bottom-3?(r.top=i.y-o.bottom+3<5?5:20,n.startScrolling(e,"y")):r.top=0,0===r.top&&0===r.left?c():l()}}))}e.exports=function(e){r(e,o.get(e))}},1001:function(e,t,i){"use strict";var n=i(627),o=i(645);e.exports=function(e){!function(e,t){t.event.bind(e,"scroll",(function(){o(e)}))}(e,n.get(e))}},1002:function(e,t,i){"use strict";var n=i(644),o=i(658),s=i(627),a=i(645),r=i(652);e.exports=function(e){var t=s.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,o.css(t.scrollbarXRail,"display","block"),o.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=n.toInt(o.css(t.scrollbarXRail,"marginLeft"))+n.toInt(o.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=n.toInt(o.css(t.scrollbarYRail,"marginTop"))+n.toInt(o.css(t.scrollbarYRail,"marginBottom")),o.css(t.scrollbarXRail,"display","none"),o.css(t.scrollbarYRail,"display","none"),a(e),r(e,"top",e.scrollTop),r(e,"left",e.scrollLeft),o.css(t.scrollbarXRail,"display",""),o.css(t.scrollbarYRail,"display",""))}},1006:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(94),n=function(e){var i,n=e.iframe,o=e.uuid;return new Promise((function(e,s){!function s(){if(clearTimeout(i),t.get(o)===o)return t.set(o,"",{path:"/",expires:"1ms"}),setTimeout((function(){n.remove()}),6e4),void e();i=setTimeout(s,1e3)}()}))};e.exports={downloadByUrl:function(e){var t=e.app,i=e.link;return t.device.isMobile?(t.router.redirect(i),Promise.resolve()):function(e){var t="u"+Math.random(),i=document.createElement("iframe");return i.classList.add("invisible"),i.dataset.uuid=t,i.src=e+(-1!==e.indexOf("?")?"&":"?")+"uuid="+t,document.body.appendChild(i),n({iframe:i,uuid:t})}(i)}}}))},1060:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(624),n=i(1156),o=i(1157),s=i(0),a=i(26),r=i(556),l=i(565),c=i(625),d=i(15).classNames,u=r.extend({el:!1,template:n,isOpened:!1,destroyOnHide:!1,closeOnOverlayClick:!0,overlayOpacity:null,overlayBgColor:null,closeOnEscapeBtn:!0,single:!1,noBorder:!1,showHeader:!0,showTitle:!0,roundCloseButton:!1,leftBtn:!1,rightBtn:!1,zIndex:4e3,modalClasses:"",bodyClasses:"",title:"",lockBodyScroll:!0,body:[],escKeys:[t.esc],footer:[{selector:"",label:"OK",color:"blue",hide:!0,defaultAction:!0,callback:function(){}}],events:{"click ._overlay":"onOverlayClick","click ._close":"onCloseClick","click ._btn":"onModalButtonClick","click ._left-arrow-button":"onLeftArrowClick","click ._right-arrow-button":"onRightArrowClick"},globals:{keypress:"onKeypress","resize window":"onWindowResize"},initialize:function(){this.isCorporateIdentity2020=this.app.features.isFeatureOnValue("Corporate Identity 2020"),this.showHeader||(this.showTitle=!1),this.listenTo(this.app.observer,{"Modal:HideAll":this.observeHideAll.bind(this),"Modal:HideByName":this.handleHideByName.bind(this)})},getOverlaySchema:function(){return[{key:"opacity",value:this.overlayOpacity},{key:"background-color",value:this.overlayBgColor}]},getOverlayStyle:function(){return this.getOverlaySchema().filter((function(e){return null!==e.value})).map((function(e){return e.key+": "+e.value})).join("; ")},setOverlay:function(){var e=r.extend({name:"ModalOverlay",el:!1,template:o,styleString:this.getOverlayStyle(),serialize:function(){return{styleString:this.styleString}}});this.setView(new e,!0)},prepareRender:function(){this.setOverlay(),this.fillModalBody()},serialize:function(){return{modalClasses:this.getModalClasses(),bodyClasses:this.bodyClasses,noBorder:!!this.noBorder,showTitle:this.showTitle,showHeader:this.showHeader,roundCloseButton:this.roundCloseButton,title:this.title,footer:this.footer,leftBtn:this.leftBtn,rightBtn:this.rightBtn}},clientAfterRender:function(){this.setZindex(),this.footer.length&&(l(this.$el.find("._footer"),a.$),c(this.$("._btn")))},fillModalBody:function(){!this.body.length&&"function"!=typeof this.body||this.getView("._body")||this.setViews({"._body":"function"==typeof this.body?this.body():this.body})},getModalRegisterId:function(){return{id:this.cid}},getModalClasses:function(){var e;return d(((e={})[this.modalClasses]=!0,e["identity-2020"]=this.isCorporateIdentity2020,e))},show:function(e){var t=this;void 0===e&&(e={}),this.app.observer.fire("Tooltip:GlobalHide",{cid:"all"}),this.single&&this.app.observer.fire("Modal:HideAll",{cid:this.cid}),{}.hasOwnProperty.call(e,"shouldTrackModalShow")||(e.shouldTrackModalShow=!0),Object.assign(this,e),this.isOpened||this.beforeShowCallback(),this.lockBodyScroll&&this.bodyScrollLock(),this.render().promise().then((function(){t.onShowCallback(),t.isOpened=!0}))},hide:function(){this.isOpened&&(this.onHideCallback(this),this.$el.remove(),this.undelegateEvents(),this.isOpened=!1,this.bodyScrollUnlock(),this.destroyOnHide&&this.remove(),this.onAfterHideCallback())},onCloseClick:function(e){e.stopPropagation(),this.onHide()},onOverlayClick:function(e){e.stopPropagation(),this.closeOnOverlayClick&&e.target===e.currentTarget&&this.onHide()},onModalButtonClick:function(e){e.stopPropagation(),e.preventDefault(),this.executeButtonAction(e.currentTarget)},onKeypress:function(e){if(this.isOpened&&"textarea"!==e.target.tagName.toLowerCase()&&e.keyCode===t.enter){var i=this.footer.find((function(e){return!0===e.defaultAction}));this.executeButtonAction(i)}},executeButtonAction:function(e){var t=this.footer[a.$(e).index()];s.isObject(t)&&(s.isFunction(t.callback)&&t.callback(this,e),s.isFunction(this[t.callback])&&this[t.callback](this,e),t.hide&&this.onHide())},onTouchEndCallback:function(e){e.stopPropagation(),this.onHide()},observeHideAll:function(e){e.cid!==this.cid&&this.onHide()},handleHideByName:function(e){var t=e.name;this.name===t&&this.onHide()},setZindex:function(){this.$el.css({zIndex:this.zIndex})},isOpen:function(){return this.isOpened},bodyScrollLock:function(){this.setScrollGlitchSuppressor(),this.enableScrollCompensator(),a.$("html, body").addClass("lock-scroll")},bodyScrollUnlock:function(){this.removeScrollGlitchSuppressor(),this.disableScrollCompensator(),a.$("html, body").removeClass("lock-scroll")},enableScrollCompensator:function(){if(!(a.$(document).height()<=a.$(window).height())){var e=a.$(document.body),t=a.$(document.head),i=a.$('<div style="width: 100%; height: 50px; overflow: scroll;">').appendTo("body"),n=i[0].offsetWidth-i[0].clientWidth;i.remove(),n>0&&(t.append('<style data-id="scroll-compensator" type="text/css">\n\t\t\t\t\t.scroll-compensator {\n\t\t\t\t\t\tpadding-right: '+n+"px;\n\t\t\t\t\t}\n\t\t\t\t</style>"),document.documentElement.style.setProperty("--scroll-holder-width",n+"px",""),e.addClass("scroll-compensator"))}},disableScrollCompensator:function(){a.$('[data-id="scroll-compensator"]').remove(),a.$(document.body).removeClass("scroll-compensator"),document.documentElement.style.setProperty("--scroll-holder-width","0","")},getFixedHeightRules:function(){return"height: "+a.$(document).height()+"px !important;"},setScrollGlitchSuppressor:function(){var e=a.$(document.body);a.$(document.head).append('<style data-id="fixed-height" type="text/css">\n\t\t\t\t.fixed-height {\n\t\t\t\t\t'+this.getFixedHeightRules()+"\n\t\t\t\t}\n\t\t\t</style>"),e.addClass("fixed-height")},removeScrollGlitchSuppressor:function(){a.$('[data-id="fixed-height"]').remove(),a.$(document.body).removeClass("fixed-height")},onHide:function(){},onWindowResize:function(){},beforeShowCallback:function(){},onShowCallback:function(){},onHideCallback:function(){},onLeftArrowClick:function(){},onRightArrowClick:function(){},onAfterHideCallback:function(){},onAnimationComplete:function(){}});e.exports=u}))},1061:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";var i,n;function o(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}t=function(e){return e&&e.__esModule?e:{default:e}}(t),e.exports=(n=i=function(){function e(){}var i=e.prototype;return i.run=function(){var e=function(e){return function(){var t=this,i=arguments;return new Promise((function(n,s){var a=e.apply(t,i);function r(e){o(a,n,s,r,l,"next",e)}function l(e){o(a,n,s,r,l,"throw",e)}r(void 0)}))}}(t.default.mark((function e(i){var n;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validate(i);case 2:return n=e.sent,e.abrupt("return",this.execute(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.validate=function(e){return e},i.execute=function(){throw new Error("Execute method not implemented!")},e}(),i.errorCodes={},n)},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},1065:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";function n(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(o,s){var a=e.apply(t,i);function r(e){n(a,o,s,r,l,"next",e)}function l(e){n(a,o,s,r,l,"throw",e)}r(void 0)}))}}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var s=i(1061),a=i(975).Exception,r=i(1162),l=function(e){function i(t){var i,n=t.app,o=t.downloadManager,s=t.isFreeLicenseAvailable,a=t.getDownloadModel,r=t.beforeDownloadStart,l=t.onDownloadStart;if(i=e.call(this)||this,!n||!o||"function"!=typeof a)throw new Error('"app", "downloadManager" and "getDownloadModel" are required');return i.app=n,i.downloadManager=o,i.getDownloadModel=a,i.isFreeLicenseAvailable=s||function(){},i.beforeDownloadStart=r||function(){},i.onDownloadStart=l||function(){},i}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(i,e);var n=i.prototype;return n.validate=function(e){if(!e.size||!e.file)throw new Error("Required params missing");return e},n.execute=function(){var e=o(t.default.mark((function e(n){var o,s,r,l,c;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.file,s=n.size,r=n.ignoreFreeModal,!this.isFreeLicenseAvailable(o,s)||r){e.next=3;break}throw new a({code:i.errorCodes.FREE_LICENSE_AVAILABLE});case 3:if(!this.app.user.isLoggedIn()){e.next=7;break}this.downloadForAuth(n),e.next=9;break;case 7:return e.next=9,this.downloadForGuest(n);case 9:if(l=this.getDownloadModel(o,s),o.isFreeForSize(s)||o.isPurchased(s)||!l.isPlanRefillNeeded()){e.next=12;break}throw new a({code:i.errorCodes.PLAN_REFILL_NEEDED});case 12:return e.next=14,l.requestLink();case 14:return c=e.sent,this.beforeDownloadStart(l,o),e.abrupt("return",this.downloadManager.downloadByUrl({app:this.app,link:c}));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.downloadForAuth=function(e){var t=e.size,n=e.isElNoticeShown;if("el0"===t&&!n&&this.app.user.checkExtendedProduct())throw new a({code:i.errorCodes.EXTENDED_LICENSE_DOWNLOAD})},n.downloadForGuest=function(){var e=o(t.default.mark((function e(n){var o;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.file,!n.isCartEnabled||o.get("inCart")){e.next=4;break}return e.next=4,(new r).execute({file:o,observer:this.app.observer});case 4:if(!this.app.features.isFeatureOnValue("Is Signup Modal On Download Allowed")){e.next=6;break}throw new a({code:i.errorCodes.SIGNUP_NEEDED});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i}(s);l.errorCodes={FREE_LICENSE_AVAILABLE:"FREE_LICENSE_AVAILABLE",EXTENDED_LICENSE_DOWNLOAD:"EXTENDED_LICENSE_DOWNLOAD",PLAN_REFILL_NEEDED:"PLAN_REFILL_NEEDED",SIGNUP_NEEDED:"SIGNUP_NEEDED",PERMISSION_DENIED:"PERMISSION_DENIED",CAPTCHA_ERROR:"CAPTCHA_ERROR",OTHER:"OTHER"},e.exports=l},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},1090:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(1118),n=i(0),o=i(941);e.exports=o.extend({name:"Slider",el:!1,lazyload:!1,infiniteLoop:!1,responsive:null,useControls:!0,useRangeControl:!0,maxRangeValue:200,swipeSensitivity:60,transitionDuration:500,rangeTransitionDuration:0,activeInCenter:!1,slidesToShow:1,slidesToMove:1,currentOffset:0,currentIndex:0,firstIndex:0,events:{"touchstart ._slider":"onTouchStart","touchend ._slider":"onTouchEnd","touchmove ._slider":"onTouchMove","input ._range-input":"onRangeInput","click ._next":"onNextClick","click ._prev":"onPrevClick"},globals:{"resize window":"onWindowResize"},clientAfterRender:function(){this.slider=this.el.querySelector("._slider"),this.slides=this.el.querySelectorAll("._slider-item"),this.addAnimationListener(),this.lazyload&&this.setImagePlaceholders(),this.initializeSlider()},addAnimationListener:function(){this.slider.addEventListener("transitionend",this.handleTransitionEnd.bind(this))},remove:function(){this.slider.removeEventListener("transitionend",this.handleTransitionEnd.bind(this)),o.prototype.remove.call(this)},handleTransitionEnd:function(e){e.target.classList&&e.target.classList.contains("_slider")&&(this.blockControls=!1,this.infiniteLoop&&this.handleInfiniteLoop())},initializeSlider:function(){this.setResponsiveOptions(),this.maxOffset=this.el.clientWidth-this.slider.clientWidth,this.lastWidth=window.innerWidth,this.currentIndex=this.firstIndex,this.moveToNextSlide(this.slides[this.currentIndex],0)},onTouchStart:function(e){this.slider.classList.toggle("no-transition",!1),this.startTouch=e.originalEvent.touches[0].clientX},onTouchEnd:function(e){var t=e.originalEvent.changedTouches[0].clientX,i=this.startTouch-t||0;if(Math.abs(i)>this.swipeSensitivity){var n=i<0?-1:1;this.slideSwitch(n)}},onWindowResize:n.throttle((function(){0!=this.lastWidth-window.innerWidth&&this.isSliderVisible()&&(this.useRangeControl&&(this.el.querySelector("._range-input").value=0),this.initializeSlider())}),500),onRangeInput:function(e){var t=e.target;this.currentOffset=this.maxOffset/this.maxRangeValue*t.value,this.animateMotion(this.rangeTransitionDuration,this.currentOffset)},onPrevClick:function(e){this.blockControls||(e.stopPropagation(),this.slideSwitch(-1))},onNextClick:function(e){this.blockControls||(e.stopPropagation(),this.slideSwitch(1))},slideSwitch:function(e){this.currentIndex=this.getNextIndex(e),this.moveToNextSlide(this.slides[this.currentIndex])},getNextIndex:function(e){var t=this.currentIndex+e*this.slidesToMove;return t<=0?0:t>=this.slides.length-this.slidesToMove?this.slides.length-this.slidesToMove:t},moveToNextSlide:function(e,t){void 0===t&&(t=this.transitionDuration),this.setActiveSlide(e.classList);var i=e.offsetLeft,n=i+e.offsetWidth/2,o=this.el.clientWidth/2,s=this.activeInCenter?o-n:-i;s<this.maxOffset?this.currentOffset=this.maxOffset:this.currentOffset=s,this.toggleControls(),this.animateMotion(t,this.currentOffset)},animateMotion:function(e,t){this.slider.style.transitionDuration=e+"ms",this.slider.style.transform="translate3d("+t+"px, 0, 0)",e?this.blockControls=!0:this.infiniteLoop&&this.handleInfiniteLoop()},setImagePlaceholders:function(){var e=this;this.slides.forEach((function(t){var i=t.querySelector("._slider-img"),n=e.slider.clientHeight*t.dataset.ratio;t.style.width=n+"px",t.classList.add("placeholder"),i.onload=function(){t.style.width="inherit"}}))},handleInfiniteLoop:function(){this.currentIndex===this.slidesToShow-1&&(this.currentIndex=this.slides.length-this.slidesToShow-1,this.jumpTo(this.slides[this.currentIndex])),this.currentIndex>=this.slides.length-this.slidesToShow&&(this.currentIndex=this.slidesToShow,this.jumpTo(this.slides[this.currentIndex]))},jumpTo:function(e){this.slider.classList.add("no-transition"),this.moveToNextSlide(e,0),this.slider.classList.remove("no-transition")},setResponsiveOptions:function(){var e=this;if(this.responsive){var t=this.responsive[this.getBreakpoint()];t&&Object.keys(t).forEach((function(i){e[i]=t[i]}))}},getBreakpoint:function(){return t(Object.keys(this.responsive),window.innerWidth)},setActiveSlide:function(e){this.el.querySelector(".active")&&this.el.querySelector(".active").classList.remove("active"),e.add("active")},isSliderVisible:function(){return this.$(this.slider).is(":visible")},toggleControls:function(){if(this.useControls){var e=this.el.querySelector("._prev"),t=this.el.querySelector("._next");e.classList.add("visible-control"),t.classList.add("visible-control"),0!==this.currentOffset&&0!==this.currentIndex||e.classList.remove("visible-control"),(this.currentOffset<=this.maxOffset||this.currentIndex===this.slides.length-1)&&t.classList.remove("visible-control")}}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1091:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(1092),i(1093);var t=i(0),n=i(26).$,o=i(33).fileViewButtons,s=i(624),a=i(987),r=i(1094),l=i(947);e.exports=a.extend({name:"FilesList",el:!1,autoScrollToStart:!1,events:{"click ._to-cart":"onCartClick","click ._to-favorites":"onFavoritesClick","click ._to-similar":"onSimilarClick","click ._cover":"onCoverClick","contextmenu .file-box":"onCustomFileClick","mouseup .file-box":"onCustomFileClick"},trackImpression:function(){var e=this.collection.pager?this.collection.pager.get("page"):1;this.collection.length&&this.$el.is(":visible")&&this.app.observer.broadcast("Track:UE:File:UserSeeFileThumb",{files:this.collection.serialize(),relatedMode:this.relatedMode,view:this.name,page:e})},setFileEventsListeners:function(){var e=this;this.on("clientAfterRender",this.markFavorites),this.listenTo(this.app.observer,{"Favorites:PanelCacheUpdate":this.onFavoritesPanelCacheUpdate,"Cart:added":function(t){return e.markCart(!0,t.fileId)},"Cart:removed":function(t){return e.markCart(!1,t.fileId)},"Cover:Add":function(t){return e.markCover(!0,t.fileId)},"Cover:Remove":function(){return e.markCover(!1)},"Cover:SetIndicator":function(t){return e.setCoverIndicator(t.fileId)}})},getFileThumbID:function(e){return+n(e).parents("[data-id]").data("id")},onCartClick:function(e){var t=this;e.stopPropagation(),e.preventDefault();var i=this.getFileModel(e.currentTarget);if(this.app.observer.broadcast(i.get("inCart")?"Track:UE:File:RemoveFromCart":"Track:UE:File:AddToCart",{id:i.get("id"),file:i.serialize(),position:this.collection.indexOf(i),view:this.name}),this.app.observer.fire(i.get("inCart")?"Cart:remove":"Cart:add",{fileId:i.get("id")}),!i.get("inCart")&&!this.app.user.isLoggedIn()){var n=new l({id:i.get("id"),imageUrl:i.makeThumb("wide"),width:i.get("width"),height:i.get("height"),type:i.get("type"),alt:i.get("title")});this.app.store.get("ModalsManager").show("SignupModal",{app:this.app,title:this.tr("Add to Cart?"),subTitle:"video"===i.get("type")?this.tr('<span class="%s">Create your Account</span> to add this video to your Cart',"sub-text"):this.tr('<span class="%s">Create your Account</span> to add this image to your Cart',"sub-text"),previewFile:n}).then((function(){return t.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:t.name+"/addToCart"})})).catch((function(){}))}},onFavoritesClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.getFileModel(e.currentTarget);this.app.observer.broadcast(t.get("inFavorites")?"Track:UE:File:RemoveFromFavorites":"Track:UE:File:AddToFavorites",{id:t.get("id"),file:t.serialize(),position:this.collection.indexOf(t),view:this.name}),t.get("inFavorites")||this.app.store.link("FileForFavorite",t),this.app.observer.fire("Favorites:ToggleFile",{id:t.get("id")})},onSimilarClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.getFileModel(e.currentTarget);this.app.observer.broadcast("Track:UE:File:ToSimilar",{file:t,position:this.collection.indexOf(t)+1});var i=t.makeRelatedUrl({relatedTo:"similar"});this.app.router.redirect(i)},onCoverClick:function(e){if(e.stopPropagation(),e.preventDefault(),this.$(e.currentTarget).hasClass("active"))this.app.observer.fire("Cover:Remove");else{var t=this.getFileModel(e.currentTarget),i=this.app.store.get("Folder"),n=this.app.store.get("PortfolioCover");n?this.coverCrop(t,n):i&&this.coverCrop(t,i,{folderId:i.get("id")})}},trackNewTabClick:function(e,t){var i=this.$(e).closest("[data-id]").data("id"),n=this.collection.get(i);this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"FileThumb",target:{target:"fileView",targetId:i},params:Object.assign(n&&n.toTracking()||{},t,{view:this.name})})},onCustomFileClick:function(e){[s.rightMouse,s.middleMouse].includes(e.which)&&this.trackNewTabClick(e.currentTarget)},onFavoritesPanelCacheUpdate:function(e){var t=e.folderId,i=e.options,n=void 0===i?{}:i,o=this.app.store.get("FolderCache"),s=this.app.store.get("Folder");if(o){var a=n.changes,r=n.refetch;if(this.collection.syncWithPanelCache&&s.get("id")===t){var l=a?a.added.map((function(e){return e.id})):[],c=a?a.removed.map((function(e){return e.id})):[];if(l.length&&r)return void this.collection.fetch();if(c.length)return void this.collection.remove(c)}this.markFavorites()}},markFavorites:function(){var e=this,i=this.app.store.get("FolderState"),n=i&&i.get("folderID"),s=this.app.store.get("FolderCache");if(s){var a=this.app.store.get("Folder"),r=a&&a.get("id")===n;this.collection.each((function(i){var n=!!s.get(i.get("id")),a=n?"removeFavorites":"addToFavorites",l=t.findWhere(o,{key:a}).label;i.set({inFavorites:n});var c=e.$('[data-id="'+i.get("id")+'"]');c.find("._label-in-favorites").toggleClass("hidden",r||!n),c.find("._to-favorites").toggleClass("active",n).attr({title:l})}))}},markCart:function(e,i){var n=this,s=this.collection.where((function(e){return t.contains(i,e.get("id"))}));t.each(s,(function(i){i.set("inCart",e);var s=n.$("[data-id="+i.get("id")+"]");s.find("._label-in-cart").toggleClass("hidden",!e),s.find("._to-cart").toggleClass("active",e).attr({title:t.findWhere(o,{key:e?"removeFromCart":"addToCart"}).label})}))},markCover:function(e,t){var i=this.app.store.get("Folder"),n=this.app.store.get("PortfolioCover");(i||n)&&(this.$("._cover.active").removeClass("active"),e&&this.$("[data-id="+t+"] ._cover").addClass("active"))},coverCrop:function(e,t,i){void 0===i&&(i={}),new r({app:this.app,file:e,destroyOnHide:!0,model:t,additionalData:i}).show()},setCoverIndicator:function(e){this.$("._cover.active").removeClass("active"),e&&this.$("[data-id="+e+"] ._cover").addClass("active")},getFileModel:function(e){return this.collection.get(this.getFileThumbID(e))}})}))},1092:function(e,t,i){},1093:function(e,t,i){},1094:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(974),n=i(1095);e.exports=t.extend({name:"CoverCrop",additionalData:{},initialize:function(){var e=this;this.title=this.tr("Cover Crop"),this.body=function(){return new n({app:e.app,file:e.file,model:e.model,additionalData:e.additionalData})},this.footer=[{label:this.tr("Cancel"),hide:!0},{label:this.tr("Ok"),color:"blue",defaultAction:!0,callback:"cropCallback"}]},cropCallback:function(){var e=this;this.closeOnOverlayClick=!0,this.$el.addClass("modal_loading"),this.listenToOnce(this.model,"sync",(function(t,i){i.errors||e.app.observer.fire("Cover:Add",{fileId:e.file.get("id")}),e.hide()})),this.findView("CoverCropBody").crop()}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1095:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(981),o=i(1096),s=i(556),a=i(749),r=i(861).prepareThumbFilename,l=450,c=2e3;e.exports=s.extend({name:"CoverCropBody",el:!1,template:o,additionalData:{},prepareRender:function(){this.sizes=this.getThumbSizes()},serialize:function(){return{sizes:this.sizes,url:a.getThumbUrl({file:this.file.serialize(),size:"wideSmall",protocol:this.app.parsedUrl.protocol,genFilename:r.bind(this,this.app)})}},clientAfterRender:function(){this.cropper=new n(this.$("._img").get(0),{aspectRatio:5,minCropBoxWidth:this.sizes.width,minContainerHeight:this.sizes.height,zoomable:!1})},getThumbSizes:function(){var e=this.file.get("width"),t=this.file.get("height");return e>t?{width:l,height:Math.floor(t*l/e)}:{width:Math.floor(e*l/t),height:l}},crop:function(){var e=this.cropper.getCropBoxData(),i=this.sizes.width/this.sizes.height>5,n=c/this.sizes.width,o=t({},this.additionalData,{fileId:this.file.get("id"),boxWidth:c,boxHeight:Math.floor(c*this.sizes.height/this.sizes.width),width:i?Math.floor(e.width*n):c,height:Math.floor(e.height*n),top:Math.floor(e.top*n),left:Math.floor(e.left*n)});this.model.save({coverCropData:o})}})}))},1096:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<div class="cover-crop" style="width: '+t(e.sizes.width)+'px;"><div class="cover-crop__wrap"><img class="cover-crop__img _img" src="'+e.url+'" style="width: '+t(e.sizes.width)+"px; height: "+t(e.sizes.height)+'px;" /></div></div>'}})?n.apply(t,o):n)||(e.exports=s)},1097:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(5).languages.accepts;e.exports={OurApps:function(e){return{isEnabled:e.lang!==t.zh}},About:function(e){return{socialLinksEnabled:e.lang!==t.zh}},FileViewThumb:function(e){return{isSharingEnabled:e.lang!==t.zh}},Share:function(e){return{socialTabEnabled:e.lang!==t.zh}},SearchHeaderFolder:function(e){return{isSharingEnabled:e.user.isLoggedIn()||e.lang!==t.zh}},FileViewModals:function(e){return{shouldHideTitle:e.features.isFeatureOnValue("NoTitleModal")}}}},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1108:function(e,t,i){(function(e){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(26).$,o=i(15).capitalize,s=(0,i(12).getLogger)(e);i(1117);var a=function(){function e(e,i){this.element=e,this.$items=[],this.$navItems=[],this.itemsCount=0,this.currentIndex=null,this.preparations={},this.timer=null,this.options=t.extend({animationSlide:4500,animationShow:2e3,holder:"._slider-holder",element:"._slider-item",navElement:"._slider-navigation",navArrowElement:"._slider-arrow",effect:"fade",blindsBars:7,blindsBarDelay:50,autorun:!0,navigation:!0,prevSlideClass:"",nextSlideClass:"",activeSlideClass:"",activeNavigationClass:"active",preventNavigationClick:!0,adjacentSlides:!1,arrowNavigation:!1,slideOnlyForward:!1,slideOnTouchMove:!1,visibleSlides:1,offset:0},i),this.element.data("GallerySlider",this),this.init()}var i=e.prototype;return i.init=function(){this.initElements(),this.prepareEffect(),this.options.navigation&&this.prepareNavigation(),this.options.autorun&&this.start()},i.initElements=function(){this.$items=this.element.find(this.options.element),this.itemsCount=this.$items.length,0!==this.itemsCount?this.currentIndex=this.$items.filter(":visible:eq(0)").index():s.debug("There are no elements for display")},i.prepareEffect=function(){var e=o(this.options.effect);t.isFunction(this["_prepare"+e])&&this["_prepare"+e]()},i.prepareNavigation=function(){var e=this;this.$navItems=this.element.find(this.options.navElement),this.$navItems.off("click.gallerySlider").on("click.gallerySlider",(function(t){e.options.preventNavigationClick&&t.stopPropagation(),e.slide(n(t.currentTarget).index()),e.options.autorun&&e.start()})),this.options.arrowNavigation&&(this.$navArrowItems=this.element.find(this.options.navArrowElement),this.$navArrowItems.off("click.gallerySlider").on("click.gallerySlider",(function(t){e.options.preventNavigationClick&&t.stopPropagation();var i=1*n(t.currentTarget).attr("data-direction"),o=e.$navItems.filter("."+e.options.activeNavigationClass).index();0===o&&i<0?e.slide(e.$navItems.length-1):o===e.$navItems.length-1&&i>0?e.slide(0):e.slide(o+i),e.options.autorun&&e.start()}))),0===this.$navItems.filter("."+this.options.activeNavigationClass).length&&this.$navItems.eq(0).addClass(this.options.activeNavigationClass)},i.start=function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=t.delay((function(){e.next(),e.start()}),this.options.animationSlide)},i.next=function(){this.slide(this.currentIndex===this.itemsCount-1?0:this.currentIndex+1)},i.slide=function(e){if(e!==this.currentIndex&&this.$items[e]){var i=o(this.options.effect);this[t.isFunction(this["_exec"+i])?"_exec"+i:"_execSlide"](this.$items.eq(this.currentIndex),this.$items.eq(e),this.options.slideOnlyForward||this.currentIndex<e?"next":"prev",e),this.currentIndex=e,this.$items.removeClass(this.options.activeSlideClass),this.$items.eq(e).addClass(this.options.activeSlideClass),this.options.adjacentSlides&&(this.$items.removeClass(this.options.prevSlideClass+" "+this.options.nextSlideClass),e+1===this.$items.length?(this.$items.eq(e-1).addClass(this.options.prevSlideClass),this.$items.eq(0).addClass(this.options.nextSlideClass)):0===e?(this.$items.eq(this.$items.length-1).addClass(this.options.prevSlideClass),this.$items.eq(e+1).addClass(this.options.nextSlideClass)):(this.$items.eq(e-1).addClass(this.options.prevSlideClass),this.$items.eq(e+1).addClass(this.options.nextSlideClass))),this.options.navigation&&this.$navItems.removeClass(this.options.activeNavigationClass).eq(e).addClass(this.options.activeNavigationClass)}},i.getDelay=function(){return Math.max(this.preparations.barsDelay,this.options.animationShow)},i.css3=function(e,t){var i={},n=["webkit","moz","ms","o"];return Object.keys(t).forEach((function(e){for(var o=0;o<n.length;o+=1)i["-"+n[o]+"-prop"]=t[e];i[e]=t[e]})),e.css(i)},i._prepareBlinds=function(){this.preparations.barClass="dpg-bar",this.preparations.bar=n("<i />",{class:this.preparations.barClass}),this.preparations.barsDelay=this.options.blindsBarDelay*this.options.blindsBars+this.options.animationShow,this.$items.each((function(e,t){var i=n(t),o=i.find("img");i.data({image:o.attr("src")})}))},i._prepareFade=function(){this.$items.removeClass("hidden").hide().eq(this.currentIndex).show()},i._prepareSlide=function(){var e=this;this.$items.removeClass("hidden").hide().eq(this.currentIndex).show(),"slide"===this.options.effect&&this.options.slideOnTouchMove&&this.element.on("touchstart.gallerySlider",(function(t){t.stopPropagation();var i=t.originalEvent.touches[0].pageX;n(t.currentTarget).on("touchmove.gallerySlider",(function(t){t.stopPropagation();var o=t.originalEvent.touches[0].pageX;i>o+10?e.slide(e.currentIndex?e.currentIndex-1:e.$items.length-1):i<o-10&&e.slide(e.currentIndex<e.$items.length-1?e.currentIndex+1:0),n(t.currentTarget).off("touchmove.gallerySlider")}))}))},i._prepareMove=function(){var e=this;if("move"===this.options.effect){var i=this.$items.eq(0).outerWidth()*this.options.visibleSlides;this.element.find(this.options.holder).off("ps-scroll-x.gallerySlider").on("ps-scroll-x.gallerySlider",t.throttle((function(){if(!0!==e.selfScroll){var t=Math.floor(e.element.find(e.options.holder).scrollLeft()/i);e.currentIndex=t,e.$navItems.removeClass(e.options.activeNavigationClass),e.$navItems.eq(t).addClass(e.options.activeNavigationClass)}}),10))}},i._execSlide=function(e,t,i){var o=e.width();this.options.slideOnlyForward?e.hide():e.stop(!0).animate({left:"next"===i?-o:o},this.options.animationShow,(function(){n(this).hide().css("left",0)})),t.stop(!0).css("left","next"===i?o:-o).show().animate({left:0},this.options.animationShow)},i._execBlinds=function(e,i){var n=this,o=e.width(),s=e.height(),a=Math[o>=s?"round":"ceil"](o/this.options.blindsBars),r=e.data("image");e.css("z-index","1001").hide().find("a").hide(),i.css("z-index","1000").show().find("a").show();for(var l=0;l<=this.options.blindsBars-1;l+=1){var c=a*l,d=this.preparations.bar.clone();d.css({left:c+"px",width:a+"px",height:s+"px",background:"url("+r+")","background-position":"-"+c+"px 0"}).appendTo(e.parent()),this.css3(d,{"transition-duration":this.options.animationShow+"ms","transition-delay":this.options.blindsBarDelay*l+"ms"})}t.delay((function(){return n.css3(n.element.find("."+n.preparations.barClass),{transform:"scaleX(0)"})}),50),t.delay((function(){return n.element.find("."+n.preparations.barClass).remove()}),this.preparations.barsDelay+50)},i._execFade=function(e,t){var i=this;e.stop(!0).fadeOut(this.options.animationShow,(function(){t.stop(!0).fadeIn(i.options.animationShow)}))},i._execMove=function(e,t,i,n){var o=this,s=this.options.visibleSlides*n,a=this.$items.eq(s).outerWidth()*s+(n>0?this.options.offset:0);this.selfScroll=!0,this.element.find(this.options.holder).stop().animate({scrollLeft:a},this.options.animationShow,(function(){o.selfScroll=!1}))},e}();e.exports=function(e,t){return new a(e,t)}}))}).call(this,i(8)(e))},1116:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports={index:{effect:"blinds",element:"._series-box-item",blindsBarDelay:175,animationShow:500,autorun:!1,navigation:!1},about:{effect:"move",activeSlideClass:"about-page__gallery-item_active",prevSlideClass:"about-page__gallery-item_prev",nextSlideClass:"about-page__gallery-item_next",adjacentSlides:!0,arrowNavigation:!0,animationSlide:2e4,animationShow:100,autorun:!1},favorite:{effect:"fade",animationSlide:1e4,animationShow:500},recentlyViewed:{effect:"move",animationShow:500,holder:"._scroll",element:"._slider-elements > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0,visibleSlides:6},bundles:{effect:"move",animationShow:500,holder:"._scroll",element:"._items > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0,visibleSlides:5},filesBox:{effect:"move",animationShow:500,holder:"._scroll",element:"._slider-elements > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0},ourApps:{effect:"fade",animationSlide:1e4,animationShow:200,slideOnTouchMove:!0},marketBlock:{effect:"move",animationShow:500,holder:"._scroll",element:"._slider-elements > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0,visibleSlides:1,offset:14},rightFolders:{effect:"slide",autorun:!1,animationShow:200},marketFolders:{effect:"slide",autorun:!1,animationShow:200,slideOnlyForward:!0,slideOnTouchMove:!0},userProductsHome:{effect:"fade",autorun:!1,animationShow:300}}})?n.apply(t,o):n)||(e.exports=s)},1117:function(e,t,i){},1118:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e,t){return e.reduce((function(e,i){return i<=t&&(e=Math.max(e,i)),e}),-1)}})?n.apply(t,o):n)||(e.exports=s)},1123:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(558),n=i(556);e.exports=t.extend({name:"ActionTooltip",params:{type:"simple",rootClose:!0,hideOnScroll:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","lm","auto"],templateOffset:{top:4,left:4},pointerShow:!0},classes:{tooltip_dark:!0},title:"",prepareContent:function(){var e=this;this.content=new n({el:!1,template:function(){return e.title}})},setTitle:function(e){void 0===e&&(e=""),this.title=e}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1127:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(1123),n="actionTooltip";e.exports={setActionTooltip:function(){this.setView(n,new t({app:this.app}))},showActionTooltip:function(e){var t=this.getView(n);t&&(t.setTitle(e.currentTarget.dataset.title),t.show(e))},hideActionTooltip:function(){var e=this.getView(n);e&&e.hide()}}})?n.apply(t,o):n)||(e.exports=s)},1132:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";function n(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var s=i(564).to,a=i(154),r=a.apiErrors,l=a.captchaErrors,c=i(1065),d=i(975).Exception,u=i(6);e.exports=u.extend({defaults:{itemId:null,size:null,source:"item",license:null,licenseId:null,method:null,subscription:0,fileType:"image",resolution:"standart",splitCount:0,sizeMask:0,link:null,purchased:!1,"g-recaptcha-response":""},url:function(){return this.options.url||"Download"},getQueryParams:function(){return o({},this.attributes)},parse:function(e){return this.set("g-recaptcha-response",""),e.errors?{}:{link:e.downloadLink}},isPlanRefillNeeded:function(){var e=this.get("method");if("membership"!==e)return!1;var t=this.app.user.serializeUserPlans({type:e}).sort((function(e,t){return e.order-t.order}))[0];return!(t&&this.app.user.products.findWhere({type:e,id:t.id}).canBePurchased())},getErrorCodes:function(){return this.options.errorCodes||c.errorCodes},requestLink:function(){var e=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(o,s){var a=e.apply(t,i);function r(e){n(a,o,s,r,l,"next",e)}function l(e){n(a,o,s,r,l,"throw",e)}r(void 0)}))}}(t.default.mark((function i(){var n,o,a,c,u;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e.promiseSave());case 2:if(n=t.sent,o=n[0],a=n[1],!o){t.next=13;break}if(c=e.getErrorCodes(),!o.some((function(e){return e.error_code===r.haveNoPermissionToSection}))){t.next=9;break}throw new d({code:c.PERMISSION_DENIED,message:o.map((function(e){return e.error_message})).join(" ")});case 9:if(!(u=o.find((function(e){return!!Object.values(l).includes(+e.error_code)&&e})))){t.next=12;break}throw new d({code:c.CAPTCHA_ERROR,message:u.error_message});case 12:throw new d({code:c.OTHER,payload:o[0]});case 13:return t.abrupt("return",a.downloadLink);case 14:case"end":return t.stop()}}),i)})))()}})},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},1136:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="tooltip__custom tooltip__custom_justify">';return e.extendedMessage&&(t+="<p>"+this.tr("Use of this image in advertising or for promotional purposes is prohibited.")+"</p>"),t+=this.tr('<p>Any file downloaded from Depositphotos can be used for "editorial" purposes; the Standard License Agreement permits many uses for downloaded files, including for editorial use. Files downloaded under the Editorial Use Only license can be used only for non-commercial purposes.</p><p>For example, a file licensed for Editorial Use Only can be used to illustrate a news article on a blog or website, for purely descriptive purposes, in a non-commercial setting.</p><p class="d_last_tips_p">An Editorial Use Only file cannot be used in advertising or promotional material, or in any published work that involves the payment or receipt of a fee.</p>')+"</div>"}})?n.apply(t,o):n)||(e.exports=s)},1162:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(1061);e.exports=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var i=t.prototype;return i.validate=function(e){if(!e.observer||!e.file)throw new Error("Required params missing");return e},i.execute=function(e){var t=e.observer,i=e.file;return new Promise((function(e){t.once("Cart:added",e),t.fire("Cart:add",{fileId:i.get("id")})}))},t}(t)},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1163:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(1164);e.exports={showVideoPreview:function(e){void 0===e&&(e={});var i=this.$(e.anchor).find("._file-box-image");this.setView("videoPreview",new t({$mount:this.$(e.anchor).find("._file-box-holder"),$poster:i,width:i.outerWidth(),height:i.outerHeight(),file:e.contentData.file,RAWVideoFiles:e.contentData.rawVideoFiles,app:this.app})).render()},hideVideoPreview:function(){this.getView("videoPreview")&&this.getView("videoPreview").remove()},isVideoFile:function(e){return"video"===e.get("type")}}},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1164:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(970);e.exports=t.extend({name:"VideoPreview",el:void 0,tagName:"span",className:"file-box-video",muted:!0,controls:!1,viewMode:"wide"})})?n.apply(t,o):n)||(e.exports=s)},1173:function(e,t,i){(function(n){var o,s,a;!function(i,n){s=[],void 0===(a="function"==typeof(o=n)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(1175);var t=i(0),o=i(1116).index,s=i(624),a=i(556),r=i(970),l=i(1108);e.exports=a.extend({name:"Series",el:!1,slide:!1,slideConfig:{},videoContent:!1,isDownloadLocked:!1,isLazyloadingEnabled:!1,events:{click:"onSeriesBoxClick",contextmenu:"onSeriesBoxCustomClick",mouseup:"onSeriesBoxCustomClick","click ._series-link":"onLinkClick","contextmenu ._series-link":"onCustomLinkClick","mouseup ._series-link":"onCustomLinkClick"},prepareRender:function(){this.videoContent&&this.model.get("elements").at(0)&&this.setViews({"._series-video":new r({app:this.app,RAWVideoFiles:this.model.get("elements").at(0).get("resource").get("src"),width:832,height:468,controls:!1,hasPoster:!1,autoplay:!!n.browser,spinner:{top:"92%",left:"2%",color:"#c8c8c8"}})})},clientAfterRender:function(){this.slide&&l(this.$el,Object.assign(t.clone(o),this.slideConfig)),this.tryToShowBackground()},serialize:function(){return{lang:this.app.lang,series:this.model.toJSON(),isDownloadLocked:this.isDownloadLocked,isLazyloadingEnabled:this.isLazyloadingEnabled,isWebmAllowed:this.app.features.isFeatureOnValue("Is webm video thumb allowed")}},tryToShowBackground:function(){var e=this;t.each(this.$("._has-bg"),(function(t){var i=e.$(t);i.attr("style",i.attr("data-bg")).removeAttr("data-bg").removeClass("series-table__cell_show-img _has-bg")}))},onLinkClick:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick(e.currentTarget.href):(e.preventDefault(),this.trackSeriesClick(e.currentTarget.href),this.app.router.redirect(e.currentTarget.href))},onCustomLinkClick:function(e){[s.rightMouse,s.middleMouse].includes(e.which)&&this.trackNewTabClick(e.currentTarget.href)},trackSeriesClick:function(e){this.app.observer.broadcast("Track:UE:Series:Click",{url:e,target:"search"})},trackNewTabClick:function(e){["Search"].includes(this.app.router.routeName)&&this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:this.app.tracking.cache.FlumeTrackerNew.isIndexPage()?"TopMenuPromo":this.name,target:{target:"search"},params:{url:e}})},onSeriesBoxClick:function(){},onSeriesBoxCustomClick:function(){}})}))}).call(this,i(23))},1175:function(e,t,i){},1185:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var s=i(26),a=i(1220).base,r=i(1221);e.exports=function(){var e=function(e){return function(){var t=this,i=arguments;return new Promise((function(n,s){var a=e.apply(t,i);function r(e){o(a,n,s,r,l,"next",e)}function l(e){o(a,n,s,r,l,"throw",e)}r(void 0)}))}}(t.default.mark((function e(o,l,c){return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.e(25).then(i.t.bind(null,1478,7)),i.e(25).then(i.t.bind(null,1484,7))]);case 2:o.draggable(n({},a,{helper:function(){return l.getView("fileDraggableHelper")||l.setViews({fileDraggableHelper:new r(c.helperOptions)}),s.$("<div></div>")},start:function(e,t){l.getView("fileDraggableHelper").active=!0,l.getView("fileDraggableHelper").setData(n({model:c.helperOptions.getModel(e)},l.getView("fileDraggableHelper").getDefaults())).then((function(){return t.helper.append(l.getView("fileDraggableHelper").$el)}))},drag:function(e,t){t.position.top>window.innerHeight+window.scrollY-t.helper.height()&&l.app.observer.fire("Favorites:OpenPanel")},stop:function(e,t){t.helper.remove(),l.getView("fileDraggableHelper").active=!1}}));case 3:case"end":return e.stop()}}),e)})));return function(t,i,n){return e.apply(this,arguments)}}()},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},1192:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=[{id:"ds",bit:8}];e.exports=function(e){if(!e.length)return{};var i=e.filter((function(e){return t.some((function(t){return!Object.keys(t).every((function(i){return t[i]===e[i]}))}))})),n=i.filter((function(e){return 1===e.licenseBit||8===e.bit})).pop(),o=i.length?i:e;return n||o[o.length-1]}})?n.apply(t,o):n)||(e.exports=s)},1193:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports={beforeDownloadStart:function(e,t){var i=e.get("size"),n=t.isLicensed(i),o=["EnterpriseLicensedDownloads","EnterpriseCompDownloads"].includes(this.app.router.routeName),s=this.userPlansManager.get("preferred"),a=s.type;if(!this.app.user.isEnterprise()||n||o){if(!this.app.user.isEnterprise()){var r=s.bit_price;t.isFree()&&(r="Free",t.isFreeCurated()&&(r="FreeCurated",a="membership")),this.app.observer.broadcast("Track:UE:File:Download",{route:this.app.router.routeName,file:t,size:i,cost_type:r,view:this.name,plan:this.app.tracking.rewriteProduct(a)})}}else this.app.observer.broadcast("Track:UE:File:AddToCart",{id:t.get("id"),file:t.serialize(),view:this.name});this.injectPurchased(t,i)},injectPurchased:function(e,t,i){void 0===i&&(i=[]);var n=i[0]&&i[0].error_message,o=!n||{error:n},s=this.app.config.prices.singlePaySizes&&this.app.config.prices.singlePaySizes[t];this.app.features.isFeatureEnabled("Single pay for multiple sizes",1)&&s?s.forEach((function(t){e.setPurchase(t,o)})):e.setPurchase(t,o)},initDownloadChain:function(e,t){return this.app.chain.initChain(this.getDownloadChainName(e,t),{refPrefix:this.refPrefix,fileId:e.get("id"),fileType:e.get("type")})},getDownloadChainName:function(){return"download"}}})?n.apply(t,o):n)||(e.exports=s)},1215:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(1216),i(1217),i(1218);var n=i(1090),o=i(1257),s=i(1219),a=i(749),r=i(1185),l=i(1091),c=i(943),d=i(15).toMMSS,u=["normalSquare","big","wideSmall","wide","xwide","huge","large","max"],h=l.extend({name:"ConfigurableFilesList",el:!1,collection:null,template:s,layout:"wide",draggableOptions:{},scale:1,maxRows:2,thumbListHolderWidth:1200,isTitleInside:!1,isCartBtnEnabled:!0,isFavoriteBtnEnabled:!0,isSimilarBtnEnabled:!1,isZoomBtnEnabled:!1,isDownloadBtnEnabled:!0,isPictureTagEnabled:!1,isPanoramasImproveEnabled:!0,displaySeeMoreAsThumb:!1,shouldShowVideoLength:!1,lazyLoadOptions:{},isSlidable:!1,sliderParams:{},makeLikeGrid:!1,isEditableFolder:!1,isEditablePortfolio:!1,panoramasWidthToHeightMax:4,events:t({},l.prototype.events,{"click ._see-more":"handleSeeMoreClick","contextmenu ._thumb-link":"handleContextMenu","click ._thumb-link":"handleFileClick","mouseup ._thumb-link":"handleFileMouseup","click ._hint":"handleHintClick","contextmenu ._hint":"handleHintClick","mouseup ._hint":"handleHintMouseup"}),initialize:function(){if(!u.includes(this.layout))throw new Error("Layout: "+this.layout+" is not supported!");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];l.prototype.initialize.apply(this,t),this.applyPropsAutoCorrection(),this.setFileEventsListeners(),this.listenTo(this.collection,"update reset",this.render)},applyPropsAutoCorrection:function(){this.isTitleInside="normalSquare"!==this.layout,this.maxRows=Math.max(Math.min(this.maxRows,4),1)},serialize:function(){this.serialized=this.serializeItems();var e=this.getSettingsData()||{};return t({},this.getItems(),{layout:this.layout,classes:{list:o({"flex-files_wide":"wide"===this.layout,"flex-files_square":"normalSquare"===this.layout,"flex-files_xwide":"xwide"===this.layout,"flex-files_small-wide":"wideSmall"===this.layout,"flex-files_like-grid":this.makeLikeGrid,"flex-files_mobile":this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")}),slider:o({"files-slider":!0,"files-slider_enabled":this.shouldEnableSlider()})},styles:{list:this.makeListStyles()},shouldShowFreeLabel:this.shouldShowFreeLabel(),shouldShowVideoLength:this.shouldShowVideoLength&&e.videoLength,isTitleInside:this.isTitleInside,isCartBtnEnabled:this.checkCartBtnEnabled(),isFavoriteBtnEnabled:this.isFavoriteBtnEnabled,isSimilarBtnEnabled:this.isSimilarBtnEnabled,isZoomBtnEnabled:this.isZoomBtnEnabled&&!e.linkTarget,isEditableFolder:this.isEditableFolder,isEditablePortfolio:this.isEditablePortfolio,isPictureTagEnabled:this.isPictureTagEnabled,settings:e})},getItems:function(){return{items:this.serialized,itemsData:this.makeLikeGrid?this.makeLikeGridDataSheet():this.makeRenderDataSheet()}},shouldShowFreeLabel:function(){return!1},clientAfterRender:function(){if(this.shouldEnableSlider()&&this.experimentalSliderPlug(),this.lazyLoadOptions.enabled&&!this.app.ampEnabled)try{window.lazyLoadInstance.update()}catch(e){}this.clientAfterRenderCallback()},checkCartBtnEnabled:function(){return!this.app.user.isEnterprise()&&this.isCartBtnEnabled&&!this.app.features.isFeatureOnValue("Is cart hidden")},isDownloadButtonEnabled:function(e){return this.app.features.isFeatureOnValue("Show Download In Thumb Actions")&&this.isDownloadBtnEnabled&&!e.isVideo()},getThumbGutter:function(){return"wide"===this.layout?11:15},makeListStyles:function(){if(this.shouldEnableSlider())return"width: "+this.getItemsFullWidth()+"px;";if(1===this.maxRows)return"";var e=(this.renderStats.averageThumbHeight+this.renderStats.averageCroppedThumbHeight)/2,t=this.getThumbGutter();return"max-height: "+Math.floor((e+t)*this.maxRows)+"px; overflow: hidden;"},fileToSearchResult:function(e){return t({},e.serialize(),e.getFreeInfo(),{formattedLength:e.isVideo()?d(e.get("length")):void 0})},serializeItems:function(){var e=this,t=this.shouldDisplaySeeMore(),i=t?this.collection.first(8*this.maxRows):this.collection.models,n=!0,o="",s=i.reduce((function(t,i,s){var a=i.get("type");o||(o=a),o!==a&&(n=!1);var r=e.fileToSearchResult(i);r.lazyload={enabled:e.shouldEnableLazyLoad(s),dataSrc:r.thumbs[e.layout]},r.types={photo:"image"===a,vector:"vector"===a,video:"video"===a},r.shouldShowActions=!i.isBannedForCountry(),r.isDownloadButtonEnabled=e.isDownloadButtonEnabled(i),r.thumbPictureSourceSizes=e.thumbPictureSourceSizes(r);var l=e.getEmbeddedObject(s);return l&&t.push(l),t.push(r),t}),[]);if(t){var a=this.makeSeeMoreData()||{};Object.assign(s[s.length-1],{seeMoreData:a,url:a.url})}return c.injectFilesSEOMeta(this.app,s,n)},thumbPictureSourceSizes:function(e){return[{breakpoint:400,url:e.thumbs[this.layout]+", "+e.thumbs.xwide+" 2x"},{breakpoint:0,url:e.thumbs.wideSmall+", "+e.thumbs[this.layout]+" 2x"}]},calculatedDimensions:function(){var e=this;return this.serialized.length?this.serialized.map((function(t){var i=(a.config[t.type]||a.config.image)[e.layout],n=a.getThumbSizes(t,e.layout);return{id:t.id,thumb:a.calculateSize(t,i,e.layout),w:n.w,h:n.h}})):[]},makeRenderStats:function(){this.dimensions=this.calculatedDimensions();var e={totalThumbWidth:0,totalThumbHeight:0,totalCroppedThumbWidth:0,totalCroppedThumbHeight:0,averageThumbWidth:0,averageThumbHeight:0,averageCroppedThumbWidth:0,averageCroppedThumbHeight:0};if(!this.dimensions.length)return e;for(var t=0;t<this.dimensions.length;t+=1)e.totalThumbWidth+=this.dimensions[t].thumb.w,e.totalThumbHeight+=this.dimensions[t].thumb.h,e.totalCroppedThumbWidth+=this.dimensions[t].w,e.totalCroppedThumbHeight+=this.dimensions[t].h;return e.averageThumbWidth=e.totalThumbWidth/this.dimensions.length*this.scale,e.averageThumbHeight=e.totalThumbHeight/this.dimensions.length*this.scale,e.averageCroppedThumbWidth=e.totalCroppedThumbWidth/this.dimensions.length,e.averageCroppedThumbHeight=e.totalCroppedThumbHeight/this.dimensions.length,e},makeLikeGridDataSheet:function(){var e=this.calculatePanoramasRatio(),t=200*e;return this.serialized.reduce((function(i,n){var o=n.width/n.height,s=Math.round(o*t);return i[n.id]={width:s,height:t,styles:"width:"+s+"px; width:calc("+(o*e).toFixed(3)+" * var(--grid-row-height)); flex-grow:"+(10*o).toFixed(2),linkStyles:"padding-bottom:"+n.height/n.width*100+"%;",classes:{box:s<150?"file-container_small":"",link:"file-container__link"}},i}),{})},calculatePanoramasRatio:function(){var e=this,t=0;return this.serialized.forEach((function(i){var n=i.width/i.height;if(n>2.5){if(t+=1,n>e.panoramasWidthToHeightMax&&(i.width=i.height*e.panoramasWidthToHeightMax),!e.isPanoramasImproveEnabled)return;i.lazyload.enabled?i.lazyload.dataSrc=i.thumbs.large:i.lazyload={enabled:!0,src:i.thumbs[e.layout],dataSrc:i.thumbs.large}}})),1-t/this.serialized.length/2.75},makeRenderDataSheet:function(e){var t=this;return void 0===e&&(e=!1),this.renderStats=this.makeRenderStats(),this.dimensions.reduce((function(i,n){var o={width:110,height:110,styles:"",classes:{box:"_slider-item",link:"file-container__link"}};if("normalSquare"!==t.layout){o.classes.box="file-container_grow _slider-item",o.classes.link="file-container__link",o.styles="min-width: 160px;",o.width=n.w;var s=(t.renderStats.averageThumbHeight+t.renderStats.averageCroppedThumbHeight)/2;if(o.height=parseInt(s,10),e&&t.calculateItemRow(n,o)>t.maxRows)return i}return i[n.id]=o,i}),{})},experimentalSliderPlug:function(){var e=this.insertView("slider",new n(t({app:this.app},this.sliderParams)));e.el=this.el,e.$el=this.$el,e.delegateEvents(),e.clientAfterRender()},getItemsFullWidth:function(){return(this.renderStats.totalThumbWidth+this.renderStats.totalCroppedThumbWidth)/2},shouldDisplaySeeMore:function(){return!(this.collection.length<8*this.maxRows)&&this.displaySeeMoreAsThumb},shouldEnableSlider:function(){if(!this.isSlidable||this.app.ampEnabled||!this.collection.length)return!1;var e=this.getItemsFullWidth();return 4!==this.maxRows&&e>this.thumbListHolderWidth&&e<this.thumbListHolderWidth*this.maxRows},shouldEnableLazyLoad:function(e){return this.lazyLoadOptions.enabled&&!this.app.ampEnabled&&e>=this.lazyLoadOptions.offset},onFileMouseEnter:function(e){var t=this;if(this.showFilePreview(e),this.draggableOptions.enabled){var i=this.$(e.currentTarget);i.data("ui-draggable")||r(i,this,{helperOptions:{app:this.app,mode:this.draggableOptions.mode,defaults:this.getDraggableData.bind(this),getModel:function(){var e=t.collection.get(parseInt(i.data("id"),10));return t.fileToSearchResult(e)}}})}},getDraggableData:function(){return{layout:this.layout,itemsData:this.makeLikeGrid?this.makeLikeGridDataSheet():this.makeRenderDataSheet(),settings:{},layoutClasses:o({"flex-files_like-grid":this.makeLikeGrid})}},onFileMouseLeave:function(){this.hideVideoPreview()},showFilePreview:function(e){var t=this.collection.get(e.currentTarget.getAttribute("data-id"));t&&this.isVideoFile(t)&&this.showVideoPreview({anchor:e.currentTarget,contentData:{file:t}})},handleHintClick:function(){},handleHintMouseup:function(){},handleFileMouseup:function(){},handleFileClick:function(){},handleSeeMoreClick:function(){},handleContextMenu:function(){},calculateItemRow:function(){},makeSeeMoreData:function(){},getSettingsData:function(){},showVideoPreview:function(){},hideVideoPreview:function(){},isVideoFile:function(){},clientAfterRenderCallback:function(){},getEmbeddedObject:function(){}});e.exports=h}))},1216:function(e,t,i){},1217:function(e,t,i){},1218:function(e,t,i){},1219:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}e.exports=function(e){var i="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),n='<div class="'+i(e.classes.slider)+'"><div class="files-slider__nav files-slider__nav_left _prev"><i class="icon icon-nav-arrow-left-white-big"></i></div><div class="flex-files '+e.classes.list+' _slider" ';e.styles.list&&(n+=' style="'+e.styles.list+'"'),n+=">";var o=e.items;if(o)for(var s,a=-1,r=o.length-1;a<r;)if((s=o[a+=1]).isHint)n+='<div data-id="'+i(s.id)+'"class="file-container _hint hint-container _file-container '+e.itemsData[s.id].classes.box+'"',e.itemsData[s.id].styles&&(n+=' style="'+e.itemsData[s.id].styles+'"'),n+='><a href="'+s.url+'"class="'+e.itemsData[s.id].classes.link+'"',e.itemsData[s.id].linkStyles&&(n+=' style="'+e.itemsData[s.id].linkStyles+'"'),n+="><img ",s.lazyload&&s.lazyload.enabled?(s.lazyload.src&&(n+=' src="'+i(s.lazyload.src)+'"'),n+='data-src="'+i(s.lazyload.dataSrc)+'"'):n+='src="'+i(s.thumbs[e.layout])+'"',n+='class="file-container__image _file-image',s.lazyload&&s.lazyload.enabled&&(n+=" lazyload"),n+='"alt="'+i(s.seoAlt)+'"title="'+i(s.seoTitle)+'"width="'+e.itemsData[s.id].width+'"height="'+e.itemsData[s.id].height+'"/><span class="hint-container__info">',s.text&&(n+='<span class="',s.phrase?n+="hint-container__title":n+="hint-container__phrase",n+='">'+i(s.text)+"</span>"),s.phrase&&(n+='<span class="hint-container__phrase">'+i(s.phrase)+"</span>"),n+='<span class="hint-container__icon-box"><i class="hint-container__icon icon"></i></span></span></a></div>';else if(s.isBanner)n+='<div data-id="'+i(s.id)+'"class="file-container _search-banner '+e.itemsData[s.id].classes.box+'"',e.itemsData[s.id].styles&&(n+=' style="'+e.itemsData[s.id].styles+'"'),n+="></div>";else{if(n+='<div data-id="'+i(s.id)+'" class="file-container _file-container '+e.itemsData[s.id].classes.box+'" ',e.itemsData[s.id].styles&&(n+=' style="'+e.itemsData[s.id].styles+'"'),n+='><a href="'+s.url+'"',e.settings.linkTarget&&(n+=' target="_blank"'),n+='class="'+e.itemsData[s.id].classes.link+" ",s.seeMoreData?n+=" _see-more":n+=" _thumb-link _file-box-holder _file-box-image",n+='"',e.itemsData[s.id].linkStyles&&(n+=' style="'+e.itemsData[s.id].linkStyles+'"'),n+=">",e.isPictureTagEnabled){n+="<picture>";var l=s.thumbPictureSourceSizes;if(l)for(var c,d=-1,u=l.length-1;d<u;)c=l[d+=1],n+="<source ",s.lazyload&&s.lazyload.enabled?n+='data-srcset="'+c.url+'"':n+='srcset="'+c.url+'"',n+='media="(min-width: '+c.breakpoint+'px)">'}if(n+="<img ",s.lazyload&&s.lazyload.enabled?(s.lazyload.src&&(n+=' src="'+i(s.lazyload.src)+'"'),n+='data-src="'+i(s.lazyload.dataSrc)+'"'):n+='src="'+i(s.thumbs[e.layout])+'"',n+='class="file-container__image _file-image',s.lazyload&&s.lazyload.enabled&&(n+=" lazyload"),n+='"alt="'+i(s.seoAlt)+'"title="'+i(s.seoTitle)+'"width="'+e.itemsData[s.id].width+'"height="'+e.itemsData[s.id].height+'"/>',e.isPictureTagEnabled&&(n+="</picture>"),s.seeMoreData||(0===s.shortTags.length&&(e.isTitleInside?n+='<span class="file-container__title">'+i(s.title)+"</span>":n+='<span class="file-container__title hidden">'+i(s.title)+" #"+i(s.id)+"</span>"),e.shouldShowFreeLabel&&s.freeLabel&&(n+='<div class="file-container__sale-free',s.isFreeCurated&&(n+=" file-container__sale-free_simple"),n+='"><div class="label label-sale',s.isFreeCurated&&(n+=" label-sale_curated"),n+='">'+i(s.freeLabel)+"</div></div>"),n+='<span class="file-container__indicators">',e.isCartBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-cart _label-in-cart',s.inCart||(n+=" hidden"),n+='"title="'+this.tr("In Shopping Cart")+'"></span>'),e.isFavoriteBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-favorites _label-in-favorites',s.inFavorites||(n+=" hidden"),n+='"title="'+this.tr("Added to Favorites")+'"></span>'),n+='</span><div class="file-container__details">',e.settings.author&&(n+='<img class="file-container__contributor-avatar avatar avatar-s" src="'+i(s.avatar)+'" />'),n+='<div class="file-container__name-details">',e.settings.author&&(n+='<div class="file-container__contributor label label-contributor">'+i(s.sellerName)+"</div>"),e.settings.maxsize&&(n+='<div class="file-container__maxsize label label-maxsize">'+i(s.width)+" x "+i(s.height)+"</div>"),n+="</div><div ","video"===s.type&&(n+=' class="file-container__video-details"'),n+=">",e.shouldShowVideoLength&&"video"===s.type&&(n+='<div class="file-container__video-length label label-video-length">'+i(s.formattedLength)+"</div>"),e.settings.type&&(n+='<div class="file-container__type label label-type label-type-'+i(s.type)+'"></div>'),n+="</div></div>",(e.settings.author||e.settings.maxsize||e.settings.type||e.shouldShowVideoLength&&"video"===s.type)&&(n+='<span class="file-container__details-shadow"></span>'),s.shouldShowActions&&(n+='<span class="file-container__actions">',s.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-new-download _to-download"title="',"video"===s.type?n+=""+this.tr("Download Video"):n+=""+this.tr("Download Image"),n+='" data-id="'+i(s.id)+'"></button>'),e.isCartBtnEnabled&&!s.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-cart',s.inCart&&(n+=" active"),n+=' _to-cart"title="',s.inCart?n+=""+this.tr("Remove from Shopping Cart"):n+=""+this.tr("Add to Shopping Cart"),n+='"></button>'),e.isFavoriteBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-favorites',s.inFavorites&&(n+=" active"),n+=' _to-favorites"title="',s.inCart?n+=""+this.tr("Remove from Favorites"):n+=""+this.tr("Add to Favorites"),n+='"></button>'),e.isSimilarBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-see-more-similars _to-similar"title="',"video"===s.type?n+=""+this.tr("Find Similar Videos"):n+=""+this.tr("Find Similar Images"),n+='"></button>'),n+="</span>"),"video"!==s.type&&(n+='<div class="file-container__btns">',e.isZoomBtnEnabled&&(n+='<button class="file-container__zoom file-action-btn file-action-btn_full-screen _zoom" title="'+this.tr("Quick Preview")+'"></button>'),e.isEditableFolder&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Folder Cover")+'"></button>'),e.isEditablePortfolio&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Portfolio Cover")+'"></button>'),n+="</div>")),s.seeMoreData&&(n+='<span class="file-container__see-more">'+s.seeMoreData.text+"</span>"),n+="</a>",s.shortTags.length>0){n+='<div class="file-container__tags">';var h=s.shortTags;if(h)for(var p,f=-1,b=h.length-1;f<b;)p=h[f+=1],n+='<a class="file-container__tag _short-tag" data-index="'+i(f)+'" href="'+i(this.app.makeUrl(t({route:"Search",query:p},s.types)))+'">'+i(p)+"</a>";n+="</div>"}n+="</div>"}return n+='</div><div class="files-slider__nav files-slider__nav_right _next"><i class="icon icon-nav-arrow-right-white-big"></i></div></div>'}})?n.apply(t,o):n)||(e.exports=s)},1220:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports.base={connectToSortable:"._sortable-files",cancel:".vjs-control-bar",addClasses:!1,appendTo:"body",cursor:"move",cursorAt:{top:15,left:0},scroll:!1,opacity:.5,zIndex:4001,distance:5,delay:150}})?n.apply(t,o):n)||(e.exports=s)},1221:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(1222),o=i(556);e.exports=o.extend({el:!1,defaultMode:"search",active:!1,template:n,initialize:function(e){e.mode&&(this.defaultMode=e.mode),e.app&&this.listenTo(e.app.observer,"Draggable:switchHelper",this.switchMode.bind(this))},serialize:function(){return this.data},clientAfterRender:function(){"search"===this.data.mode&&"wide"===this.data.thumbSize&&this.$("img").attr({style:this.data.itemsData[this.data.model.id].holderStyle})},setData:function(e){return e.mode||(e.mode=this.defaultMode),this.data=e,this.render().promise()},switchMode:function(e){if(this.active){var i=e,n=t.clone(this.data.model);t.size(t.omit(i,"mode"))<1&&(i=t.extend({},e,this.getDefaults())),this.setData(t.extend({},{model:n},i))}},getDefaults:function(){return t.result(this,"defaults")},defaults:function(){}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1222:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}e.exports=function(e){var i="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),n="";if("search"===e.mode){if(n+='<div class="'+i(e.layoutClasses)+'"><div data-id="'+i(e.model.id)+'" class="file-container _file-container '+e.itemsData[e.model.id].classes.box+'" ',e.itemsData[e.model.id].styles&&(n+=' style="'+e.itemsData[e.model.id].styles+'"'),n+='><a href="'+e.model.url+'"',e.settings.linkTarget&&(n+=' target="_blank"'),n+='class="'+e.itemsData[e.model.id].classes.link+" ",e.model.seeMoreData?n+=" _see-more":n+=" _thumb-link _file-box-holder _file-box-image",n+='"',e.itemsData[e.model.id].linkStyles&&(n+=' style="'+e.itemsData[e.model.id].linkStyles+'"'),n+=">",e.isPictureTagEnabled){n+="<picture>";var o=e.model.thumbPictureSourceSizes;if(o)for(var s=-1,a=o.length-1;s<a;)b=o[s+=1],n+="<source ",e.model.lazyload&&e.model.lazyload.enabled?n+='data-srcset="'+b.url+'"':n+='srcset="'+b.url+'"',n+='media="(min-width: '+b.breakpoint+'px)">'}if(n+="<img ",e.model.lazyload&&e.model.lazyload.enabled?(e.model.lazyload.src&&(n+=' src="'+i(e.model.lazyload.src)+'"'),n+='data-src="'+i(e.model.lazyload.dataSrc)+'"'):n+='src="'+i(e.model.thumbs[e.layout])+'"',n+='class="file-container__image _file-image',e.model.lazyload&&e.model.lazyload.enabled&&(n+=" lazyload"),n+='"alt="'+i(e.model.seoAlt)+'"title="'+i(e.model.seoTitle)+'"width="'+e.itemsData[e.model.id].width+'"height="'+e.itemsData[e.model.id].height+'"/>',e.isPictureTagEnabled&&(n+="</picture>"),e.model.seeMoreData||(0===e.model.shortTags.length&&(e.isTitleInside?n+='<span class="file-container__title">'+i(e.model.title)+"</span>":n+='<span class="file-container__title hidden">'+i(e.model.title)+" #"+i(e.model.id)+"</span>"),e.shouldShowFreeLabel&&e.model.freeLabel&&(n+='<div class="file-container__sale-free',e.model.isFreeCurated&&(n+=" file-container__sale-free_simple"),n+='"><div class="label label-sale',e.model.isFreeCurated&&(n+=" label-sale_curated"),n+='">'+i(e.model.freeLabel)+"</div></div>"),n+='<span class="file-container__indicators">',e.isCartBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-cart _label-in-cart',e.model.inCart||(n+=" hidden"),n+='"title="'+this.tr("In Shopping Cart")+'"></span>'),e.isFavoriteBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-favorites _label-in-favorites',e.model.inFavorites||(n+=" hidden"),n+='"title="'+this.tr("Added to Favorites")+'"></span>'),n+='</span><div class="file-container__details">',e.settings.author&&(n+='<img class="file-container__contributor-avatar avatar avatar-s" src="'+i(e.model.avatar)+'" />'),n+='<div class="file-container__name-details">',e.settings.author&&(n+='<div class="file-container__contributor label label-contributor">'+i(e.model.sellerName)+"</div>"),e.settings.maxsize&&(n+='<div class="file-container__maxsize label label-maxsize">'+i(e.model.width)+" x "+i(e.model.height)+"</div>"),n+="</div><div ","video"===e.model.type&&(n+=' class="file-container__video-details"'),n+=">",e.shouldShowVideoLength&&"video"===e.model.type&&(n+='<div class="file-container__video-length label label-video-length">'+i(e.model.formattedLength)+"</div>"),e.settings.type&&(n+='<div class="file-container__type label label-type label-type-'+i(e.model.type)+'"></div>'),n+="</div></div>",(e.settings.author||e.settings.maxsize||e.settings.type||e.shouldShowVideoLength&&"video"===e.model.type)&&(n+='<span class="file-container__details-shadow"></span>'),e.model.shouldShowActions&&(n+='<span class="file-container__actions">',e.model.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-new-download _to-download"title="',"video"===e.model.type?n+=""+this.tr("Download Video"):n+=""+this.tr("Download Image"),n+='" data-id="'+i(e.model.id)+'"></button>'),e.isCartBtnEnabled&&!e.model.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-cart',e.model.inCart&&(n+=" active"),n+=' _to-cart"title="',e.model.inCart?n+=""+this.tr("Remove from Shopping Cart"):n+=""+this.tr("Add to Shopping Cart"),n+='"></button>'),e.isFavoriteBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-favorites',e.model.inFavorites&&(n+=" active"),n+=' _to-favorites"title="',e.model.inCart?n+=""+this.tr("Remove from Favorites"):n+=""+this.tr("Add to Favorites"),n+='"></button>'),e.isSimilarBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-see-more-similars _to-similar"title="',"video"===e.model.type?n+=""+this.tr("Find Similar Videos"):n+=""+this.tr("Find Similar Images"),n+='"></button>'),n+="</span>"),"video"!==e.model.type&&(n+='<div class="file-container__btns">',e.isZoomBtnEnabled&&(n+='<button class="file-container__zoom file-action-btn file-action-btn_full-screen _zoom" title="'+this.tr("Quick Preview")+'"></button>'),e.isEditableFolder&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Folder Cover")+'"></button>'),e.isEditablePortfolio&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Portfolio Cover")+'"></button>'),n+="</div>")),e.model.seeMoreData&&(n+='<span class="file-container__see-more">'+e.model.seeMoreData.text+"</span>"),n+="</a>",e.model.shortTags.length>0){n+='<div class="file-container__tags">';var r=e.model.shortTags;if(r)for(var l=-1,c=r.length-1;l<c;)y=r[l+=1],n+='<a class="file-container__tag _short-tag" data-index="'+i(l)+'" href="'+i(this.app.makeUrl(t({route:"Search",query:y},e.model.types)))+'">'+i(y)+"</a>";n+="</div>"}n+="</div></div>"}if("favorite"===e.mode&&(n+='<div class="files-list_layout-'+i(e.panel.thumbs)+'"><div data-id="'+i(e.model.id)+'" class="file-box folder-file-box _favorite-file',-1!==e.listOfSelected.indexOf(e.model.id)&&(n+=" file-box_selected"),n+='"><',e.model.shouldShowAsLink?n+='a href="'+e.model.url+'"':n+="span",n+=' class="file-box__link"><span class="file-box__holder">',"audio"===e.model.type?n+='<div class="audio-player _audio-player" data-file-id="'+e.model.id+'"><audio src="'+e.model.thumbs[e.panel.thumbs]+'"></audio></div>':(n+='<span class="file-box-image file-box__image-holder',e.model.width>e.model.height&&e.model.height/e.model.width<.5&&(n+=" file-box__image-holder_limit"),n+='"style="background-image: url('+i(e.model.thumbs[e.thumbSizes[e.panel.thumbs]])+')"></span><span class="file-box-video"></span>'),n+="</span>",e.isCartBtnEnabled&&(n+='<span class="file-box__indicator"><span class="file-box__indicator-item label label-in-cart _label-in-cart ',e.model.inCart||(n+=" hidden"),n+='" title="'+this.tr("In Shopping Cart")+'"></span></span>'),n+='<span class="file-box__control _prevent"><i class="file-box__control-item',e.canChangeFiles?n+=" _delete":n+=" file-box__control-item_disabled ",n+=' icon icon-item-remove"></i><i class="file-box__control-item',e.viewOnly&&(n+=" file-box__control-item_disabled"),n+=' icon icon-item-move"></i><i class="file-box__control-item icon icon-checkbox icon-checkbox-l _select',-1!==e.listOfSelected.indexOf(e.model.id)&&(n+=" checked"),n+='"></i><span class="file-box__blur"><img class="file-box__blur-image" src="'+e.model.thumbs[e.panel.thumbs]+'" style="filter: url(#blur'+i(e.model.id)+')" /></span></span></',e.model.shouldShowAsLink?n+="a":n+="span",n+="></div></div>"),"filePage"===e.mode){if(n+='<div class="file-box view-file-box _file-box '+i(e.fileViewBoxClassNames)+'"><div class="view-file-box__holder ',e.shouldShowTextInside&&(n+="view-file-box__holder_text-inside"),n+=' _file-box-holder"><div class="view-file-box__box _draggable-box">',"video"===e.file.type?(n+='<div class="view-file-box__video _video-placeholder"><div class="view-file-box__video-placeholder" style="'+e.videoPlaceholderStyles+'"></div><img class="view-file-box__video-poster view-file-box__video-poster_absolute _video-poster" src="'+e.thumb.src+'"width="'+e.dimensions.w+'" height="'+e.dimensions.h+'"',e.thumb.preload&&(n+=' data-preload="'+e.thumb.preload+'"'),n+='alt="'+e.file.seoAlt+'" title="'+e.file.seoTitle+'" /><i class="view-file-box__play-video icon-play-video"></i></div>'):(n+='<a class="view-file-box__image-box view-file-box__image-box_label view-file-box__image-clear _image-box" href="'+e.thumb.download+'"><img class="view-file-box__image',e.dimensions.w>=e.dimensions.h?n+=" view-file-box__image_h":n+=" view-file-box__image_v",n+=" ",e.thumb.hasLabel||(n+=" view-file-box__image-clear"),n+=' _image _zoom-image" src="'+e.thumb.src+'" ',e.thumb.preload?n+=' data-preload="'+e.thumb.preload+'"':n+=' data-src="'+e.thumb.seo+'"',n+=" ",e.thumb.preloadMax&&(n+=' data-preload-max="'+e.thumb.preloadMax+'"'),n+=' width="'+e.dimensions.w+'" height="'+e.dimensions.h+'" alt="'+e.file.seoAlt+'" title="'+this.tr("Download")+" - "+e.file.seoTitle+'"/></a>'),e.shouldShowActions&&(n+='<div class="view-file-box__action',e.actionsSmallMode&&(n+=" view-file-box__action_small"),"video"===e.file.type&&(n+=" _view-file-box-video"),n+=' _action-box"><span class="view-file-box__action-holder',"modal"===e.viewMode&&e.file.editorial&&(n+=" view-file-box__action-holder_tall"),n+='">',e.isCartBtnEnabled&&(n+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-cart',e.file.inCart&&(n+=" active"),n+=' _to-cart"title="',e.file.inCart?n+=""+this.tr("Remove from Shopping Cart"):n+=""+this.tr("Add to Shopping Cart"),n+='"></button>'),e.isFavoriteBtnEnabled&&(n+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-favorites _to-favorites',e.file.inFavorites&&(n+=" active"),n+='"title="',e.file.inFavorites?n+=""+this.tr("Remove from Favorites"):n+=""+this.tr("Add to Favorites"),n+='"></button>'),e.isSharingEnabled&&(n+='<button class="view-file-box__action-item button-circle button-circle-xl button-share _share" title="'+this.tr("Share")+'"></button>'),e.isEnterpriseUser||(n+='<a class="view-file-box__action-item button-circle button-circle-xl button-download _download_comp" ',e.canDownloadComp&&(n+='href="'+e.thumb.download+'?download=true" '),n+='title="'+this.tr("Download Comp")+'"></a>'),n+="</span></div>"),e.isSharingEnabled&&(n+='<div class="view-file-box__share _share-box"><div class="view-file-box__share-container"><div class="view-file-box__share-box"><div class="view-file-box__share-holder"><i class="view-file-box__close icon icon-close-cross icon-close-cross-white _share-close"></i><ul class="view-file-box__list"><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="730" data-height="420" data-title="Tweet" data-social="twitter"><span class="button-circle button-circle-xl button-social-twitter"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="650" data-height="370" data-title="Facebook" data-social="facebook"><span class="button-circle button-circle-xl button-social-facebook"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="Pinterest" data-social="pinterest"><span class="button-circle button-circle-xl button-social-pinterest"></span></a></li>',e.showVKSocial&&(n+='<li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="VK" data-social="vk"><span class="button-circle button-circle-xl button-social-vk"></span></a></li>'),n+="</ul></div></div></div></div>"),n+='<div class="view-file-box__indicator-wrapper">',e.infoIndicators.length){n+="<div class='view-file-box__indicator-info'>";var d=e.infoIndicators;if(d)for(var u,h=-1,p=d.length-1;h<p;)n+="<div class='view-file-box__info'><i class=\"icon "+i((u=d[h+=1]).iconClass)+'"></i>'+i(u.value)+"</div>";n+="</div>"}n+='<div class="view-file-box__to-page _to-page"></div><div class="view-file-box__similar-btn _thumb-find-similar"></div><div class="view-file-box__indicator">',e.isCartBtnEnabled&&(n+='<i class="view-file-box__indicator-item label-in-cart _label-in-cart',e.file.inCart||(n+=" hidden"),n+='" title="'+this.tr("In Shopping Cart")+'"></i>'),e.isFavoriteBtnEnabled&&(n+='<i class="view-file-box__indicator-item label-in-favorites _label-in-favorites',e.file.inFavorites||(n+=" hidden"),n+='" title="'+this.tr("Added to Favorites")+'"></i>'),n+="</div></div>","video"!==e.file.type&&(n+='<button class="view-file-box__lens file-action-btn file-action-btn_full-screen _zoom-btn"></button>'),"modal"===e.viewMode&&e.file.editorial&&(n+='<div class="view-file-box__editorial-box',"video"===e.file.type&&(n+=" view-file-box__editorial-box-video"),n+='"><span class="view-file-box__editorial"><span class="view-file-box__editorial-text">'+this.tr("Editorial Use Only")+'</span><i class="view-file-box__editorial-icon icon icon-help icon-help-light-active _editorial-tooltip"></i></span></div>'),n+="</div>","page"===e.viewMode&&e.shouldShowDescription&&(n+='<p class="view-file-box__description view-file-box__description_short _file-box-description ',e.isModifyDescriptionWidth&&(n+="view-file-box__description_squeezed"),n+='">',"video"===e.file.type?n+=i(e.file.visibleDescription)+" &mdash; "+this.tr("Video by %s",e.file.sellerName):(n+='<a class="view-file-box__description-link _zoom-image" href="'+e.thumb.download+'"><span class="view-file-box__description-text">'+i(e.file.visibleDescription)+"</span> &mdash; ","vector"===e.file.type?n+=""+this.tr("Vector by %s",e.file.sellerName):n+=""+this.tr("Photo by %s",e.file.sellerName),n+="</a>"),e.shouldShowFileId&&(n+='<span class="view-file-box__description-id">| '+this.tr("ID")+": "+i(e.file.id)+"</span>"),n+="</p>"),n+="</div></div>"}if("related"===e.mode){if(n+='<div data-id="'+i(e.model.id)+'" class="file-container _file-container '+e.itemsData[e.model.id].classes.box+'" ',e.itemsData[e.model.id].styles&&(n+=' style="'+e.itemsData[e.model.id].styles+'"'),n+='><a href="'+e.model.url+'"',e.settings.linkTarget&&(n+=' target="_blank"'),n+='class="'+e.itemsData[e.model.id].classes.link+" ",e.model.seeMoreData?n+=" _see-more":n+=" _thumb-link _file-box-holder _file-box-image",n+='"',e.itemsData[e.model.id].linkStyles&&(n+=' style="'+e.itemsData[e.model.id].linkStyles+'"'),n+=">",e.isPictureTagEnabled){n+="<picture>";var f=e.model.thumbPictureSourceSizes;if(f)for(var b,m=-1,v=f.length-1;m<v;)b=f[m+=1],n+="<source ",e.model.lazyload&&e.model.lazyload.enabled?n+='data-srcset="'+b.url+'"':n+='srcset="'+b.url+'"',n+='media="(min-width: '+b.breakpoint+'px)">'}if(n+="<img ",e.model.lazyload&&e.model.lazyload.enabled?(e.model.lazyload.src&&(n+=' src="'+i(e.model.lazyload.src)+'"'),n+='data-src="'+i(e.model.lazyload.dataSrc)+'"'):n+='src="'+i(e.model.thumbs[e.layout])+'"',n+='class="file-container__image _file-image',e.model.lazyload&&e.model.lazyload.enabled&&(n+=" lazyload"),n+='"alt="'+i(e.model.seoAlt)+'"title="'+i(e.model.seoTitle)+'"width="'+e.itemsData[e.model.id].width+'"height="'+e.itemsData[e.model.id].height+'"/>',e.isPictureTagEnabled&&(n+="</picture>"),e.model.seeMoreData||(0===e.model.shortTags.length&&(e.isTitleInside?n+='<span class="file-container__title">'+i(e.model.title)+"</span>":n+='<span class="file-container__title hidden">'+i(e.model.title)+" #"+i(e.model.id)+"</span>"),e.shouldShowFreeLabel&&e.model.freeLabel&&(n+='<div class="file-container__sale-free',e.model.isFreeCurated&&(n+=" file-container__sale-free_simple"),n+='"><div class="label label-sale',e.model.isFreeCurated&&(n+=" label-sale_curated"),n+='">'+i(e.model.freeLabel)+"</div></div>"),n+='<span class="file-container__indicators">',e.isCartBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-cart _label-in-cart',e.model.inCart||(n+=" hidden"),n+='"title="'+this.tr("In Shopping Cart")+'"></span>'),e.isFavoriteBtnEnabled&&(n+='<span class="file-container__indicators-item label label-in-favorites _label-in-favorites',e.model.inFavorites||(n+=" hidden"),n+='"title="'+this.tr("Added to Favorites")+'"></span>'),n+='</span><div class="file-container__details">',e.settings.author&&(n+='<img class="file-container__contributor-avatar avatar avatar-s" src="'+i(e.model.avatar)+'" />'),n+='<div class="file-container__name-details">',e.settings.author&&(n+='<div class="file-container__contributor label label-contributor">'+i(e.model.sellerName)+"</div>"),e.settings.maxsize&&(n+='<div class="file-container__maxsize label label-maxsize">'+i(e.model.width)+" x "+i(e.model.height)+"</div>"),n+="</div><div ","video"===e.model.type&&(n+=' class="file-container__video-details"'),n+=">",e.shouldShowVideoLength&&"video"===e.model.type&&(n+='<div class="file-container__video-length label label-video-length">'+i(e.model.formattedLength)+"</div>"),e.settings.type&&(n+='<div class="file-container__type label label-type label-type-'+i(e.model.type)+'"></div>'),n+="</div></div>",(e.settings.author||e.settings.maxsize||e.settings.type||e.shouldShowVideoLength&&"video"===e.model.type)&&(n+='<span class="file-container__details-shadow"></span>'),e.model.shouldShowActions&&(n+='<span class="file-container__actions">',e.model.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-new-download _to-download"title="',"video"===e.model.type?n+=""+this.tr("Download Video"):n+=""+this.tr("Download Image"),n+='" data-id="'+i(e.model.id)+'"></button>'),e.isCartBtnEnabled&&!e.model.isDownloadButtonEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-cart',e.model.inCart&&(n+=" active"),n+=' _to-cart"title="',e.model.inCart?n+=""+this.tr("Remove from Shopping Cart"):n+=""+this.tr("Add to Shopping Cart"),n+='"></button>'),e.isFavoriteBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-add-to-favorites',e.model.inFavorites&&(n+=" active"),n+=' _to-favorites"title="',e.model.inCart?n+=""+this.tr("Remove from Favorites"):n+=""+this.tr("Add to Favorites"),n+='"></button>'),e.isSimilarBtnEnabled&&(n+='<button class="file-container__actions-item button button-circle button-see-more-similars _to-similar"title="',"video"===e.model.type?n+=""+this.tr("Find Similar Videos"):n+=""+this.tr("Find Similar Images"),n+='"></button>'),n+="</span>"),"video"!==e.model.type&&(n+='<div class="file-container__btns">',e.isZoomBtnEnabled&&(n+='<button class="file-container__zoom file-action-btn file-action-btn_full-screen _zoom" title="'+this.tr("Quick Preview")+'"></button>'),e.isEditableFolder&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Folder Cover")+'"></button>'),e.isEditablePortfolio&&(n+='<button class="file-container__cover file-action-btn file-action-btn_cover _cover" title="'+this.tr("Set as Portfolio Cover")+'"></button>'),n+="</div>")),e.model.seeMoreData&&(n+='<span class="file-container__see-more">'+e.model.seeMoreData.text+"</span>"),n+="</a>",e.model.shortTags.length>0){n+='<div class="file-container__tags">';var g=e.model.shortTags;if(g){l=-1;for(var y,w=g.length-1;l<w;)y=g[l+=1],n+='<a class="file-container__tag _short-tag" data-index="'+i(l)+'" href="'+i(this.app.makeUrl(t({route:"Search",query:y},e.model.types)))+'">'+i(y)+"</a>"}n+="</div>"}n+="</div>"}return n}})?n.apply(t,o):n)||(e.exports=s)},1225:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports={initSocialButtons:function(e){var t=this,i=this.app.user.isLoggedIn()?"-"+this.convertBaseNumber(this.app.user.get("id")):"";this.$("._share-button").each((function(n,o){var s=o.getAttribute("data-social"),a=e.shareData.title||o.getAttribute("data-title"),r=e.shareData.description||o.getAttribute("data-description"),l=t.getCustomSocialRedirectUrl({socialSuffix:e.socialNameMap[s],refId:i,element:o});switch(s){case"facebook":o.href=t.app.makeUrl("facebookSharer",{query:{u:l,title:a,description:r,caption:t.app.host,picture:e.shareData.image}});break;case"twitter":o.href=t.app.makeUrl("twitterSharer",{query:{url:l,via:"depositphotos",text:a+" #stock #photo"}});break;case"pinterest":o.href=t.app.makeUrl("pinterestSharer",{query:{url:l,media:e.shareData.image,description:a}});break;case"vk":o.href=t.app.makeUrl("vkSharer",{query:{url:l,title:a,description:r,image:e.shareData.image}});break;default:o.href=""}}))},convertBaseNumber:function(e){return parseInt(e,10).toString(36)},getCustomSocialRedirectUrl:function(e){return this.getSocialRedirectUrl?this.getSocialRedirectUrl(e):this.getDefaultSocialRedirectUrl(e)},getDefaultSocialRedirectUrl:function(e){var t=this.convertBaseNumber(""+e.socialSuffix+this.model.get("id"));return this.app.makeUrl("/v/"+t+e.refId,{absolute:!0})},handleShareButtonClick:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget,i=e.currentTarget.getAttribute("data-width"),n=e.currentTarget.getAttribute("data-height"),o="\n\t\t\ttop="+(screen.height/2-n/2).toFixed(0)+",left="+(screen.width/2-i/2).toFixed(0)+",width="+i+",height="+n+",resizable=yes,\n\t\t\tscrollbars=no,status=yes,location=no";window.open("about:blank",t.getAttribute("data-title"),o).location.href=t.href}}})?n.apply(t,o):n)||(e.exports=s)},1257:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(0);e.exports=function(e){return t.reduce(e,(function(e,t,i){return e+=t?" "+i:""}),"").trim()}})?n.apply(t,o):n)||(e.exports=s)},1286:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){e.each((function(e,t){var i=t.getAttribute("data-preload");if(i){var n=t.cloneNode(!0);n.src=i,n.removeAttribute("style"),n.removeAttribute("data-preload"),n.addEventListener("load",(function e(){t.parentNode.replaceChild(n,t),n.removeEventListener("load",e),n=null,t=null}))}}))}})?n.apply(t,o):n)||(e.exports=s)},1330:function(e,t,i){(function(e){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(624),n=i(859),o=(0,i(12).getLogger)(e);e.exports={onKeyup:function(e){this.enableListThroughNavigation&&this.canNavigate()&&(e.keyCode===t.left?this.navigate("prev"):e.keyCode===t.right&&this.navigate("next"))},navigate:function(e){var t=this.getFile(e);t&&!this.collection.pending&&(this.model.id===t.id?(this.app.observer.broadcast("Track:UE:FileViewModal:Edge",{direction:e}),this.edgeCallback(e)):(this.app.observer.broadcast("Track:UE:FileViewModal:Navigate",{direction:e,file:t.serialize(),sourceFile:this.model}),this.updateModal(t)))},getFile:function(e){var t=this.relatedHistory&&this.relatedHistory.length?this.relatedHistory.first().get("id"):+this.app.queryParams.qview||this.model.get("id"),i=this.getFileIndex(t);return this.directions[e].call(this,i)},getFileIndex:function(e){return void 0===e&&(e=this.model.id),this.collection.indexOf(this.collection.get(e))},getDirectionThumb:function(e){if(!this.collection)return null;var t=this.getFile(e);return!t||this.collection.pending?null:t.makeThumb("normal")},edgeCallback:function(e){return"prev"===e?this.leftEdgeCallback():this.rightEdgeCallback()},leftNavigation:function(e){e.stopPropagation(),this.navigate("prev")},rightNavigation:function(e){e.stopPropagation(),this.navigate("next")},directions:{prev:function(e){return this.collection.at(Math.max(e-1,0))},next:function(e){return this.collection.at(Math.min(e+1,this.collection.length-1))}},updateModal:function(e){var t=this;this.asyncFileViewModalLoad?this.PromisePending||(this.PromisePending=this.fetchFile(e.id).then((function(e){t.PromisePending=null,t.showModal(e)})).catch((function(){t.PromisePending=null}))):this.showModal(e)},showModal:function(e){this.app.store.get("ModalsManager").get(this.name)&&(this.app.observer.fire("Responsive:ClearMatchMedia"),this.app.store.get("ModalsManager").show(this.name,{model:e}).catch((function(){})))},fetchFile:function(e){var t=new n({id:e},{app:this.app,validate:!0});return t.promiseFetch({parser:"parseFromFile"}).then((function(){return t})).catch((function(){o.error("Failed to fetch file. id: "+e)}))}}}))}).call(this,i(8)(e))},1331:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(6);e.exports=t.extend({url:function(){return this.get("uuid")?"DownloadBulkOrder":"RequestBulkOrder"},defaults:{uuid:null,transactions:[],type:"transaction"}})})?n.apply(t,o):n)||(e.exports=s)},1332:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(1333),n=i(974),o=i(1334);e.exports=n.extend({template:t,destroyOnHide:!0,noBorder:!0,licensed:[],notLicensed:[],footer:[],initialize:function(){this.body=[new o({app:this.app,licensed:this.licensed,notLicensed:this.notLicensed})];for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.prototype.initialize.apply(this,t)}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1333:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="modal-container"><div class="batch-download-modal _modal"><i class="modal__close-button icon-close-cross icon-close-cross-white batch-download-modal__close _close"></i><div class="_body"></div></div></div>'}})?n.apply(t,o):n)||(e.exports=s)},1334:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";i(1335);var t=i(1336),n=i(556);e.exports=n.extend({name:"BatchDownload",el:!1,template:t,serialize:function(){return{user:this.app.user.serialize()}}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1335:function(e,t,i){},1336:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="batch-download__wrapper"><div class="batch-download__box"><span class="batch-download__header">'+this.tr("Thank You for Purchase!")+'</span><span class="batch-download__info">'+this.tr('Your files are preparing to download. A link with ZIP folder will be sent to <span class="%s">%s</span>.',["link-blue",e.user.email])+'</span><i class="icon batch-download__icon"></i><button class="button button-watery button-blue button-xxl _close">'+this.tr("Ok, got it")+"</button></div></div>"}})?n.apply(t,o):n)||(e.exports=s)},1352:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(1331),n=i(1332),o=i(1006);e.exports={sendFiles:function(e,i,n,o){void 0===i&&(i=[]),void 0===n&&(n="transaction"),void 0===o&&(o={}),o.showModal&&this.showModal(e);var s=new t({transactions:i,type:n},{app:e});o.errorCallback&&s.on("error",(function(e,t){return o.errorCallback(t.errors)})),o.onSuccess&&s.on("sync",(function(e,t){return o.onSuccess(t)})),s.save()},singleDownload:function(e,t){o.downloadByUrl({app:e,link:t})},showModal:function(e){new n({app:e}).show()}}},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1485:function(e,t){e.exports="/_img/depositphotos-logo.png?fb7630d97be192b959d977a43cf4d47f"},1486:function(e,t){e.exports="/_img/corporateIdentity2020/depositphotos-logo.png?1f019a9f10f1cb8127232db745f11a13"},1524:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(1600),n=i(556),o=i(1865);i(1601);var s=function(e){return!e.config.userOrigin.isFirstSession&&e.user.isLoggedIn()},a=n.extend({name:"StartTrialButton",el:!1,template:t,offerUrl:"",events:{"click ._start-trial":"handleStartTrialClick"},initialize:function(){this.model=this.app.store.get("MembershipYearlyTrial")},prepareRender:function(){return!!this.model&&this.model.get("active")},serialize:function(){return{offerUrl:this.model.get("offer").makeTrialPlanUrl({trial:1})}},handleStartTrialClick:function(e){this.app.observer.broadcast("Track:UE:FileView:StartTrial")}});e.exports={init:function(e){return new a(e)},shouldShow:function(e,t){return s(e)&&!t.isVideo()&&!t.get("free")},fetch:function(e){return new Promise((function(t,i){if(e.store.get("MembershipYearlyTrial"))t();else{var n=e.store.link("MembershipYearlyTrial",new o({},{url:"TrialYearly",app:e}));s(e)?n.promiseFetch().then(t).catch(i):t()}}))},isEnabledForUser:s}}))},1557:function(e,t,i){},1566:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var e=i(5).hostname;t.build=function(t){return{isEnabled:!0,json:{"@context":"http://schema.org","@type":"WebSite",url:t.parsedUrl.protocol+"//"+e,potentialAction:{"@type":"SearchAction",target:t.makeUrl("/",{absolute:!0})+"stock-photos/{query}.html","query-input":"required name=query"}}}}})?n.apply(t,o):n)||(e.exports=s)},1567:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var e=i(5).hostname,n=i(99).urlAliases,o=i(1485),s=i(1486),a=function(e){return e.replace(/^\//,"").replace(/\?\w+$/,"")},r=a(o),l=a(s);t.build=function(t){var i=t.parsedUrl.protocol,o=t.features.isFeatureOnValue("Corporate Identity 2020");return{isEnabled:!0,json:{"@context":"http://schema.org","@type":"Organization",name:"Depositphotos",url:i+"//"+e,logo:""+i+t.cdnPath+(o?l:r),sameAs:[n.facebookAccount,n.twitterAccount],aggregateRating:{"@type":"AggregateRating",ratingValue:"4.7",reviewCount:"1036",bestRating:"5",author:{"@type":"Organization",name:"Trustpilot",sameAs:"https://www.trustpilot.com/"},url:"https://www.trustpilot.com/review/www.depositphotos.com"}}}}}))},1590:function(e,t,i){(function(e){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";var n;function o(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var a=i(0),r=i(26),l=i(5),c=i(561),d=i(91),u=i(1591),h=i(1592),p=i(1136),f=i(556),b=i(1593),m=i(558),v=i(1597),g=i(1599),y=i(1132),w=i(563),_=i(947),x=i(565),k=i(625),T=i(646),C=i(1006),S=i(15).classNames,M=i(654),L=i(1524),E=i(1602),R=i(938),F=i(1193),P=i(34),z=i(1065).errorCodes,I=i(975).Exception,A=i(1065),D=(0,i(12).getLogger)(e),H=".g-recaptcha-response",N=P.extend({model:y}),V=f.extend(s({},F,{name:"PriceTable",el:!1,template:u,fallbackOptions:{icon:"icon-error-transparent",classNames:"price-table-fallback_modal"},viewMode:"page",mobileTablets:!1,downloadModels:{},downloading:0,refPrefix:"",isDesktopSmall:!1,isPinnedButton:!0,isMobileMode:!1,buttonClassNames:"",licenseButtonClassNames:"",events:{"click ._row":"onTableRowClick","click ._tab":"onSwitcherTabClick","click ._license":"onLicenseClick","click ._download-button":"onDownloadClick","mouseenter ._tooltip-vector":"showVectorTooltip","mouseleave ._tooltip-vector":"hideVectorTooltip","mouseenter ._editorial-tooltip":"toggleEditorialTooltip","mouseleave ._editorial-tooltip":"toggleEditorialTooltip","mouseenter ._extended-tooltip":"handleExtendedTooltipShow","mouseleave ._extended-tooltip":"handleExtendedTooltipHide"},globals:{"resize window":"onWindowResize","scroll window":"onWindowScroll"},initialize:function(){var e=this;this.userPlansManager=this.userPlansManager||this.app.store.get("UserPlansManager"),this.priceTable=new g({file:this.file,product:this.userPlansManager.get("preferred")},{app:this.app}),this.setupDownloadCollection(),this.listenTo(this.file,"change:purchased change:sizeMask change:licensed",this.render),this.listenTo(this.priceTable,{change:this.handleStateChange}),this.listenTo(this.userPlansManager,{change:function(){return e.priceTable.set({product:e.userPlansManager.get("preferred")})}}),this.listenTo(this.app.observer,"Responsive:VideoPreviewMounted",this.togglePin)},setupDownloadUsecase:function(){var e={app:this.app,downloadManager:C,isFreeLicenseAvailable:this.isFreeAttributateAvailable.bind(this),getDownloadModel:this.getDownloadModel.bind(this),beforeDownloadStart:this.beforeDownloadStart.bind(this),onDownloadStart:this.onDownloadStart.bind(this)};this.downloadUsecase=new A(e)},setupDownloadCollection:function(){this.downloadModels=new N([],{app:this.app}),this.listenTo(this.downloadModels,{add:this.handleModelAdded,remove:this.handleModelRemoved})},prepareRender:function(){return this.isMobileMode=this.isMobileModeEnabled(),this.table=this.priceTable.buildTable(this.file),!this.table.body.length||this.file.isBannedForCountry()?(this.template=h,!0):!this.downloadModels.length&&(L.shouldShow(this.app,this.file)&&this.setViews({"._trial-button":L.init({app:this.app})}),this.setViews({"._free-license-info":this.getFreeLicenseInfoView()}),!0)},serialize:function(){var e,t=this.priceTable.get("chosen"),i=new y(this.makeDownloadParams(this.file.id,t),s({app:this.app},this.getModelUrl())).serialize(),n=this.checkSizeCanBeDownload(),o=this.app.user.isEnterprise(),r=this.elChosen()&&"video"!==this.file.get("type")&&!n&&!o;return{table:this.table,file:this.file.serialize(),download:i,searchQuery:this.app.store.get("SearchQuery")?a.pick(this.app.store.get("SearchQuery").attributes,"offset","hash"):void 0,userHasPermissionsToLicense:this.app.user.hasPermissionsTo("enterprise","license"),userHasPermissionsToDownload:this.app.user.hasPermissionsToDownload()||this.file.isLicensed(t),isEnterpriseUser:o,isFooterWithNote:!this.canBeDownload&&!this.isEnterpriseUser,isFreeLicenseAvailable:this.isFreeAttributateAvailable(),isTrialButtonEnabled:L.shouldShow(this.app,this.file),canBeDownload:n,viewMode:this.viewMode,classNames:S((e={},e[this.classNames]=!0,e["price-table-static"]=this.app.ampEnabled,e)),footerClassNames:this.footerClassNames,licenseButtonClassNames:this.licenseButtonClassNames,buttonClassNames:this.buttonClassNames,priceInButton:this.app.user.isLoggedIn(),captcha:{siteKey:l.client.recaptcha.publicKey},downloadButtonText:this.getDownloadButtonText(),fallback:this.getFallbackOptions(),availableMethods:this.userPlansManager.get("available"),elLabel:r?this.getElLabel():""}},clientAfterRender:function(){var e=this;"vector"===this.file.get("type")&&this.setNotExistView("vectorTooltip",m,{name:"VectorTooltip",params:c.PriceTableVector,classes:{tooltip_dark:!0},content:new f({el:!1,template:function(){return this.tr(d.AIFilesHelpMessage)}})}),this.file.get("editorial")&&this.setNotExistView("editorialTooltip",m,{params:c.ViewInfoEditorial,classes:{tooltip_dark:!0},content:new f({el:!1,template:p})}),this.app.user.isEnterprise()||this.setView("ExtendedInfoTooltip",new v({app:this.app})),x(this.$el,r.$),this.$("._download-button").each((function(t,i){return k(e.$(i),{color:"modal"===e.viewMode?"#fff":void 0})})),this.setPricePosition(),this.isPinnedButton&&(this.setVariablesForHandlePin(),this.togglePin())},getModelUrl:function(){return this.app.user.isEnterprise()?{url:this.getEnterpriseDownloadUrl()}:{}},setVariablesForHandlePin:function(){"page"!==this.viewMode&&(this.scrollElement=document.querySelector("._modal-container"),this.setScrollElementListener()),this.breakPointEl=document.querySelector("footer"),this.element=this.$("._price-table-footer"),this.hiddenPinnedClass="price-table-classic__footer_pinned-hidden",this.pinnedClass="price-table-classic__footer_pinned",this.modalExtraSpaceClass="file-view-modal_extra-space"},checkSizeCanBeDownload:function(e){void 0===e&&(e=this.priceTable.get("chosen"));var t=this.priceTable.get("product");return this.app.user.isLoggedIn()&&(this.app.user.isEnterprise()||this.file.isPurchased(e)||this.file.isLicensed(e)||this.app.user.hasPlans()&&this.app.licensor.checkSizeCanBeDownload(this.file,t,e)&&t.left)},elChosen:function(){return"el0"===this.priceTable.get("chosen")},getFallbackOptions:function(){var e=this.file.isBannedForCountry()?this.app.tr("Not available in your country"):this.app.tr("This image cannot be downloaded under this account");return s({},this.fallbackOptions,{text:e})},getDownloadButtonText:function(){var e=this.priceTable.get("chosen");if(this.file.isPurchased(e)||this.file.isLicensed(e))return this.tr("Re-Download_full");if(this.app.user.isEnterprise())return this.tr("Download Comp");var t=[{type:"image",label:this.tr("Download Image")},{type:"vector",label:this.tr("Download Vector")},{type:"video",label:this.tr("Download Video")}],i=this.getFileTypeOverride(this.file.get("type"),e);return t.find((function(e){return e.type===i})).label},getElLabel:function(){return this.tr("Files under the Extended license can be<br /> downloaded using On Demand Downloads<br /> for Extended License only.")},getFileTypeOverride:function(e,t){return"vector"!==this.file.get("type")||["vect","el0"].includes(t)?this.file.get("type"):"image"},setPricePosition:function(){var e=this.$("._size-box"),t=parseInt(e.css("marginLeft"),10)+parseInt(e.css("marginRight"),10),i=e.outerWidth()*e.length+t*(e.length-1),n=this.$("._price-box"),o=this.$("._download-button"),s=o.length?o.outerWidth():0,a=0;a=s+n.outerWidth()<=i?i-n.outerWidth():s,n.css({left:a})},onTableRowClick:function(e){this.setChosenSize(r.$(e.currentTarget).find('input[name="size"]').val())},onSwitcherTabClick:function(e){this.priceTable.set({units:e.currentTarget.getAttribute("data-key")})},onLicenseClick:function(e){e.preventDefault(),e.stopPropagation(),this.onLicenseBtnClick()},onDownloadClick:function(e){e.preventDefault(),this.resetError();var t=this.priceTable.get("chosen");this.app.observer.broadcast("Track:UE:File:DownloadClick",{id:this.file.get("id"),file:this.file,product:this.file.get("free")?0:this.userPlansManager.get("preferred").bit_price,size:t,route:this.app.router.routeName,view:this.name}),this.setupDownloadUsecase(),this.proceedDownloadByScheme()},proceedDownloadByScheme:function(e){var i=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(n,s){var a=e.apply(t,i);function r(e){o(a,n,s,r,l,"next",e)}function l(e){o(a,n,s,r,l,"throw",e)}r(void 0)}))}}(t.default.mark((function n(){var o,a,r;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.priceTable.get("chosen"),a=s({file:i.file,isElNoticeShown:i.priceTable.get("isElNoticeShown"),isCartEnabled:"Cart"!==i.app.router.routeName&&i.app.store.get("CartIndicator"),size:o},e),t.prev=2,t.next=5,i.downloadUsecase.run(a);case 5:r=i.getDownloadModel(i.file,o),i.downloadModels.remove(r),i.app.user.fetch(),t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(2),!(t.t0 instanceof I)){t.next=15;break}return i.handleDownloadExeption(t.t0,a),t.abrupt("return");case 15:D.error("Unknown download error",t.t0);case 16:case"end":return t.stop()}}),n,null,[[2,10]])})))()},handleStateChange:function(e){e.changed.isElNoticeShown?document.querySelector("._note").classList.toggle("animation-el-note",!0):this.render()},handleModelAdded:function(e){var t=e.get("size");this.getDownloadButton(t).trigger("loading")},handleModelRemoved:function(e){var t=e.get("size");this.getDownloadButton(t).trigger("loaded"),this.render()},getDownloadButton:function(e){var t=this.$('._download-button[value="'+e+'"]');return t.length>0?t:this.$("._download-button")},getDownloadChainName:function(e,t){return e.isFreeForSize(t)||this.isFreeAttributateAvailable()?"download-free":"download"},makeDownloadParams:function(e,t){void 0===t&&(t=this.priceTable.get("chosen"));var i=this.priceTable.get("product"),n=(this.table.body.find((function(e){return e.key===t}))||{}).license||{};return{source:"item",itemId:e,size:t,licenseId:n.id,purchased:this.file.isPurchased(t),fileType:"video"===this.file.get("type")?"video":"image",method:i.type,subscription:"subscription"===i.type?i.id:0,resolution:i.subproduct||"standart",splitCount:i.split_count||0}},getEnterpriseDownloadUrl:function(){var e=this.priceTable.get("chosen");return this.file.isPurchased(e)||this.file.isLicensed(e)?"GetDownloadLink":"ComplimentaryDownload"},getDownloadModel:function(e,t){var i=this,n=e.get("id"),o=this.downloadModels.findWhere({itemId:n,size:t});return o||(o=this.downloadModels.add(this.makeDownloadParams(n,t),s({app:this.app},this.getModelUrl()))).listenTo(this.priceTable,"change",(function(){return o.secureSet(i.makeDownloadParams(n,t))})),o.set({"g-recaptcha-response":this.$(H).val()||""}),o},getFreeLicenseInfoView:function(){return this.isFreeAttributateAvailable()?new b({app:this.app,model:this.file,classNames:S({"free-license-info_light":!0}),onDownload:this.proceedDownloadByScheme.bind(this)}):[]},isFreeAttributateAvailable:function(){var e=this,t=this.app.licensor.getLicensableSizesForFile(this.file).find((function(t){var i=e.app.licensor.getFileSizePrice(t,e.priceTable.get("product"));return t.id===e.priceTable.get("chosen")&&i&&0===i.cost}));return!this.elChosen()&&!this.checkSizeCanBeDownload()&&t},setChosenSize:function(e,t){this.priceTable.set({chosen:e},t||{})},resetError:function(){this.$("._download-error").text("")},showError:function(e){var t=e.code,i=e.message;this.$("._download-error").text(t+"::"+i)},getActiveTableRowData:function(){return this.table&&this.table.body&&this.table.body.find((function(e){return e.active}))||null},showVectorTooltip:function(e){e.preventDefault(),this.getView("vectorTooltip").show(e)},hideVectorTooltip:function(e){e.preventDefault(),this.getView("vectorTooltip").hide(e)},toggleEditorialTooltip:function(e){this.getView("editorialTooltip").toggle(e)},handleExtendedTooltipShow:function(e){this.getView("ExtendedInfoTooltip").show(e)},handleExtendedTooltipHide:function(e){this.getView("ExtendedInfoTooltip").hide(e)},onWindowResize:a.throttle((function(){T.desktopSmall()!==this.isDesktopSmall&&(this.isDesktopSmall=T.desktopSmall(),this.setPricePosition()),this.togglePin()}),100),onLicenseBtnClick:function(){},onDownloadStart:function(){},onWindowScroll:function(){},togglePin:function(){},errorHandlers:(n={},n[z.FREE_LICENSE_AVAILABLE]=function(e){var t=this,i=e.modalManager,n=e.file;i.show("FreeDownloadModal",{app:this.app,file:n,onDownload:function(){i.hide("FreeDownloadModal"),t.proceedDownloadByScheme({ignoreFreeModal:!0})}}).catch((function(){}))},n[z.EXTENDED_LICENSE_DOWNLOAD]=function(){this.priceTable.set({isElNoticeShown:!0})},n[z.PLAN_REFILL_NEEDED]=function(e){e.modalManager.show("RefillMembershipModal",{app:this.app,type:"notAvailable"}).catch((function(){}))},n[z.SIGNUP_NEEDED]=function(e){var t=this,i=e.file,n=e.size,o=e.modalManager,s=new _({id:i.get("id"),imageUrl:i.makeThumb("wide"),width:i.get("width"),height:i.get("height"),type:i.get("type"),alt:i.get("title")});this.initDownloadChain(i,n).then((function(){return t.app.chain.addNextStepDummyRoute((function(){return t.app.chain.execute("Signup",!0)}))})),o.show("SignupModal",{app:this.app,previewFile:s}).then((function(){return t.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:t.app.history.first().get("route")+"/download"})})).catch((function(){}))},n[z.PERMISSION_DENIED]=function(e){var t=e.error;new w({app:this.app,title:this.tr("Service Message"),message:t.message}).show(),D.warn("DOWNLOAD ERROR: Cannot get download link. Something wrong with arrived data",t)},n[z.CAPTCHA_ERROR]=function(e){var t=e.error;M.injectScript().then((function(){return M.render(document.querySelector(".g-recaptcha"))})),D.warn("DOWNLOAD ERROR: Cannot get download link. Server returns error: ",t)},n[z.OTHER]=function(e){var t=this,i=e.file,n=e.size,o=e.error;this.injectPurchased(i,n,[o.payload]),"Cart"!==this.app.router.routeName&&this.app.observer.broadcast("Track:UE:File:AddToCart",{id:i.get("id"),file:i.serialize(),view:this.name}),this.initDownloadChain(i,n).then((function(){return t.app.chain.start(o.payload)})),D.warn("DOWNLOAD ERROR: Cannot get download link. Server returns error: ",o.payload)},n),handleDownloadExeption:function(e,t){var i=e.code,n=this.app.store.get("ModalsManager");if([z.PLAN_REFILL_NEEDED,z.PERMISSION_DENIED,z.CAPTCHA_ERROR,z.OTHER].includes(i)){M.reset(this.$(H));var o=this.getDownloadModel(t.file,t.size);this.downloadModels.remove(o)}return this.errorHandlers[i]&&this.errorHandlers[i].call(this,s({},t,{error:e,modalManager:n}))}}));Object.assign(V.prototype,E,R),e.exports=V},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)}).call(this,i(8)(e))},1591:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="price-table-classic price-table-classic_mode-'+t(e.viewMode);e.availableMethods.length&&(i+=" price-table-classic_has-methods"),i+=" "+t(e.classNames)+'"><form autocomplete="off" method="GET" class="price-table-classic__form" action="'+e.formActionUrl+'" target="_top"><input type="hidden" name="id" value="'+t(e.download.itemId)+'" /><input type="hidden" name="source" value="'+t("view_item")+'" /><input type="hidden" name="license" value="'+t(e.download.license)+'" /><input type="hidden" name="size" value="'+t(e.download.size)+'" /><input type="hidden" name="method" value="'+t(e.download.method)+'" /><input type="hidden" name="purchased" value="'+t(e.download.purchased)+'" /><input type="hidden" name="product" value="'+t(e.download.fileType)+'" /><input type="hidden" name="subproduct" value="'+t(e.download.resolution)+'" /><input type="hidden" name="split_count" value="'+t(e.download.splitCount)+'" /><input type="hidden" name="subscription" value="'+t(e.download.subscription)+'" />',e.searchQuery&&(i+='<input type="hidden" name="sq" value="'+t(e.searchQuery.hash)+'" /><input type="hidden" name="sst" value="'+t(e.searchQuery.offset)+'" />'),i+='<div class="price-table-classic__content"><div class="price-table-classic__head',e.availableMethods.length&&!e.isEnterpriseUser&&(i+=" price-table-classic__head_methods"),i+='">';var n=e.table.head;if(n)for(var o=-1,s=n.length-1;o<s;){if(i+='<div class="price-table-classic__th',"Resolution"===(w=n[o+=1]).label&&(i+=" price-table-classic__th_resolution"),"Price"===w.label&&(i+=" price-table-classic__th_price"),i+='">',"Resolution"===w.label?i+='<div class="price-table-classic__col-name price-table-classic__col-name_alt">'+this.tr("Size")+'</div><div class="price-table-classic__col-name price-table-classic__col-name_simple">'+this.tr(w.label)+"</div>":"Size"===w.label?i+='<div class="price-table-classic__col-name price-table-classic__col-name_alt">'+this.tr("Resolution")+'</div><div class="price-table-classic__col-name price-table-classic__col-name_simple">'+this.tr(w.label)+":</div>":i+='<div class="price-table-classic__col-name">'+this.tr(w.label)+"</div>",w.switcher){i+='<div class="price-table-classic__col-switch col-switch">';var a=w.switcher;if(a)for(var r,l=-1,c=a.length-1;l<c;)i+='<div class="col-switch__item _tab ',(r=a[l+=1]).active&&(i+=" col-switch__item_active"),i+='" data-key="'+t(r.key)+'">'+this.tr(r.label)+"</div>";i+="</div>"}i+="</div>"}i+='</div><div class="price-table-classic__space"></div>';var d=e.table.body;if(d)for(var u=-1,h=d.length-1;u<h;)i+='<label class="price-table-classic__row _row ',(w=d[u+=1]).active&&(i+=" price-table-classic__row_active"),i+='" tabindex="0"><div class="price-table-classic__cell price-table-classic__cell_resolution"><div class="price-table-classic__radio field-box radio-box radio-only radio-box-m"><input class="radio" type="radio" name="size" value="'+t(w.key)+'"',w.active&&(i+=' checked="checked"'),i+=' /><i class="icon icon-radio icon-radio-m"></i></div><span class="price-table-classic__size">',"vect"===w.key?(i+='<i class="icon icon-size',"modal"===e.viewMode&&(i+=" icon-size-air"),i+=" icon-size-vector ",w.active&&(i+=" active"),i+='"></i>'):"el0"===w.key?(i+='<i class="icon icon-size',"modal"===e.viewMode&&(i+=" icon-size-air"),i+=" icon-size-extended ",w.active&&(i+=" active"),i+='"></i>'):(i+='<i class="icon icon-size ',"modal"===e.viewMode&&(i+=" icon-size-air"),"video"!==e.file.type?i+=" icon-size-photo":i+=" icon-size-video",i+=" icon-size-"+t(w.indicator),w.active&&(i+=" active"),i+='"></i>'),i+='</span><div class="price-table-classic__size-info"><span class="price-table-classic__text-size">'+this.tr(w.label)+'</span><span class="price-table-classic__text-type" ',w.extension.tooltip&&(i+=' title="'+t(w.extension.tooltip)+'"'),i+=">,&nbsp;"+this.tr(w.extension.label)+"</span>",e.isEnterpriseUser||(i+='<div class="price-table-classic__text-license">'+this.tr(w.license.labels.full)+"</div>"),i+='</div></div><div class="price-table-classic__cell price-table-classic__cell_frame-rate">',w.size.tooltip?(i+='<span class="price-table-classic__text">'+this.tr(w.size.value)+'<i class="price-table-classic__help icon icon-help icon-help-',"modal"===e.viewMode?i+="light":i+="dark",i+=' _tooltip-vector"></i></span>'):i+='<div class="price-table-classic__text price-table-classic__text-alt">'+this.tr(w.label)+'</div><div class="price-table-classic__text price-table-classic__text-size-details">'+t(w.size.value)+"</div>",i+='</div><div class="price-table-classic__cell price-table-classic__cell_price">',w.purchase.size?(i+='<span class="price-table-classic__redownload">',w.purchase.data.error||(i+='<span class="price-table-classic__text price-table-classic__text_middle">'+this.tr("Re-Download")+"</span>"),i+='<a class="price-table-classic__redownload-item price-table-classic__redownload-item_ok icon icon-round-ok',w.purchase.size&&!w.purchase.data.error||(i+=" hidden"),i+='" href="'+this.app.makeUrl("purchased",{query:{"filter[query]":w.fileID}})+'" target="_blank"></a><i class="price-table-classic__redownload-item icon icon-round-fail ',w.purchase.data.error||(i+=" hidden"),i+='" ',w.purchase.data.error&&(i+='title="'+t(w.purchase.data.error)+'"'),i+='></i><i class="price-table-classic__redownload-item icon icon-loading icon-loading-gray hidden"></i></span>'):(i+='<span class="price-table-classic__label">',w.price.discounted&&w.price.discounted!==w.price.value?i+='<span class="price-table-classic__discount"><s class="price-table-classic__price-old">'+w.price.value+'</s><span class="price-table-classic__price-new price-table-classic__text_red">'+w.price.discounted+"</span></span>":(i+='<span class="price-table-classic__text ',w.price.free&&(i+=" price-table-classic__text_red"),i+='">'+w.price.labeled+"</span>"),w.price.labeled&&(i+='<span class="price-table-classic__label-item price-table-classic__label-item_ok icon icon-round-ok',w.price.isLicensed||(i+=" hidden"),i+='" ',w.price.isLicensed||(i+=" hidden"),i+="></span>"),i+="</span>"),i+="</div></label>";if(e.isEnterpriseUser&&e.userHasPermissionsToLicense&&(i+='<div class="price-table-classic__row price-table-classic__license-btn-row"><div class="price-table-classic__cell price-table-classic__cell_resolution"></div><div class="price-table-classic__cell"></div><div class="price-table-classic__cell price-table-classic__cell_price"><div class="price-table-classic__license-btn-container"><button type="button" class="price-table-classic__license-btn button button-xxl',"modal"===e.viewMode?i+=" button-black-blue":i+=" button-white-blue",i+=" "+t(e.licenseButtonClassNames)+' _license">'+this.tr("License")+"</button></div></div></div>"),i+='</div><div class="'+t(e.footerClassNames)+' _price-table-footer"><div class="price-table-classic__captcha g-recaptcha" data-sitekey="'+t(e.captcha.siteKey)+'"></div><div class="price-table-classic__download',e.isEnterpriseUser&&(i+=" price-table-classic__download_enterprise"),e.isTrialButtonEnabled&&(i+=" price-table__download_trial"),i+='">',e.userHasPermissionsToDownload){i+='<button class="price-table-classic__download-btn button button-xxxl button-red '+t(e.buttonClassNames)+' _download-button" type="submit"';var p=e.table.body;if(p)for(var f=-1,b=p.length-1;f<b;)(w=p[f+=1]).active&&w.price.free&&(i+=' data-label="'+w.price.labeled+'"');i+=">"+e.downloadButtonText+"</button>"}e.isTrialButtonEnabled&&(i+='<div class="price-table-trial-button-container _trial-button"></div>'),e.isEnterpriseUser&&e.userHasPermissionsToLicense&&(i+='<button type="button" class="price-table-classic__license-btn_mobile button button-xxxl',"modal"===e.viewMode?i+=" button-black-blue":i+=" button-white-blue",i+=" "+t(e.licenseButtonClassNames)+' _license">'+this.tr("License")+"</button>"),i+="</div>",e.elLabel&&(i+='<span class="price-table-classic__note _note">'+e.elLabel+"</span>");var m=e.table.body;if(m)for(var v=-1,g=m.length-1;v<g;)(w=m[v+=1]).active&&(i+='<div class="price-table-classic__full-info size-full-info"><i class="size-full-info__size-name icon icon-size',"video"===e.file.type&&(i+=" icon-size-video"),i+=" icon-size-dark icon-size-"+t(w.indicator)+" "+t(w.key)+'"></i>',e.isEnterpriseUser||(i+='<span class="size-full-info__license">'+this.tr(w.license.labels.full)+"</span>"),i+='<span class="size-full-info__size-px">'+this.tr(w.label)+'</span><span class="size-full-info__type">'+this.tr(w.extension.label)+'</span><span class="size-full-info__size-inch">'+this.tr(w.size.value)+"</span></div>");i+="</div>";var y=e.table.body;if(y)for(var w,_=-1,x=y.length-1;_<x;)(w=y[_+=1]).active&&(i+='<div class="price-table-classic__footer-info"><div class="price-table-classic__footer-info-row"><div class="price-table-classic__footer-info-cell">'+this.tr("License")+':</div><div class="price-table-classic__footer-info-cell">'+this.tr(w.license.labels.full)+'</div></div><div class="price-table-classic__footer-info-row"><div class="price-table-classic__footer-info-cell">'+this.tr("File Type")+':</div><div class="price-table-classic__footer-info-cell">'+this.tr(w.extension.label)+"</div></div></div>");return i+='<span class="price-table-classic__download-error _download-error"></span>',e.isFreeLicenseAvailable&&(i+='<div class="price-table-classic__free-license _free-license-info"></div>'),i+="</form></div>"}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},1592:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<div class="price-table-fallback '+t(e.fallback.classNames)+'"><i class="price-table-fallback__icon icon '+t(e.fallback.icon)+'"></i><div class="price-table-fallback__text">'+e.fallback.text+'</div><a href="'+this.app.makeUrl("contact_us")+'" class="price-table-fallback__btn button button-xl button-pill button-transparent-light-black">'+this.tr("Contact Us")+"</a></div>"}})?n.apply(t,o):n)||(e.exports=s)},1593:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";i(1594);var t=i(1595),n=i(1596),o=i(556);e.exports=o.extend({name:"FreeLicenseInfo",el:!1,template:t,classNames:"",events:{"click ._more":"handleMoreClick","click ._how":"handleHowClick"},serialize:function(){return{classNames:this.classNames}},handleMoreClick:function(){this.app.store.get("ModalsManager").show("LicenseInfoModal",{app:this.app,licenseTemplate:n,modalClasses:"modal_free-download"}).catch((function(){}))},handleHowClick:function(){this.app.store.get("ModalsManager").show("FreeDownloadModal",{app:this.app,file:this.model,mode:"howTo",modalClasses:"modal_free-download",onDownload:this.onDownload.bind(this)}).catch((function(){}))},onDownload:function(){}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1594:function(e,t,i){},1595:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="free-license-info '+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}())(e.classNames)+'"><h5 class="free-license-info__title">'+this.tr("Free License")+'</h5><span class="free-license-info__text">'+this.tr('Free for personal and commercial purpose with attribution. <span class="%s">More info</span>',"free-license-info__link _more")+'</span><span class="free-license-info__text">'+this.tr('Attribution is required <span class="%s">How to attribute?</span>',"free-license-info__link _how")+"</span></div>"}})?n.apply(t,o):n)||(e.exports=s)},1596:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="license-info-modal"><h1 class="license-info-modal__title">'+this.tr("License Summary")+'</h1><span class="license-info-modal__text">'+this.tr("Free license allows you to use the content for:")+'</span><ul class="license-info-modal__list"><li class="license-info-modal__item"><i class="license-info-modal__icon icon icon-ok-blue"></i>'+this.tr("Commercial and personal projects")+'</li><li class="license-info-modal__item"><i class="license-info-modal__icon icon icon-ok-blue"></i>'+this.tr("Digital or printed media")+'</li><li class="license-info-modal__item"><i class="license-info-modal__icon icon icon-ok-blue"></i>'+this.tr("Worldwide usage")+'</li><li class="license-info-modal__item"><i class="license-info-modal__icon icon icon-ok-blue"></i>'+this.tr("Creating derivative works")+'</li></ul><div class="license-info-modal__footer">'+this.tr('<b>This text is just a summary.</b><br> For more information, read full text of<br> the <a class="%s" href="%s">Attributed Free License Agreement</a>.',["link-blue",this.app.makeUrl("free-license-with-attribution")])+"</div></div>"}})?n.apply(t,o):n)||(e.exports=s)},1597:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(1598),n=i(556),o=i(558);e.exports=o.extend({name:"ExtendedInfoTooltip",params:{rootClose:!0,displayForce:!1,pointerShow:!0,templatePosition:"br",templateOffset:{top:4,left:-10}},classes:{tooltip_dark:!0},prepareContent:function(){this.content=new n({el:!1,template:t})}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1598:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="tooltip__custom tooltip__custom_justify"><p class="tooltip__text tooltip__text_bold">'+this.tr("Extended License")+'</p><p class="tooltip__text tooltip__text_line">'+this.tr("Files under the Extended license can be<br /> downloaded using On Demand Downloads<br /> for Extended License only.")+"</p></div>"}})?n.apply(t,o):n)||(e.exports=s)},1599:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(6),n=i(15),o=i(942),s=i(1192),a=["US","GB","LR","MM"],r="inch",l="cm";e.exports=t.extend({defaults:function(){return{file:null,product:null,units:a.includes(this.app.config.country)?r:l,chosen:"",isElNoticeShown:!1}},makeUniqueEnterprisePriceList:function(e){var t={};return e.filter((function(e){return!t[e.id]&&(t[e.id]=!0,!0)}))},makeStandardLicensePriceList:function(e){var t=this;return e.filter((function(e,i,n){var o=n.find((function(t){return t.id===e.id&&t.licenseBit!==e.licenseBit}));return!o||t.app.licensor.getFileSizePrice(o,t.get("product")).cost>t.app.licensor.getFileSizePrice(e,t.get("product")).cost}))},buildTable:function(e){var t=this.app.user.isEnterprise()?this.makeUniqueEnterprisePriceList(this.app.licensor.getLicensableSizesForFile(e,void 0,!0)):this.makeStandardLicensePriceList(this.app.licensor.getLicensableSizesForFile(e));return this.set({chosen:this.get("chosen")||s(t).id}),{head:this.buildHead(e),body:this.buildBody(e,t)}},buildHead:function(e){return[{label:this.app.tr("Resolution"),switcher:null},{label:e.isVideo()?this.app.tr("Rate"):this.app.tr("Size"),switcher:e.isVideo()?null:[{key:r,label:this.app.tr("Inches"),active:this.get("units")===r},{key:l,label:this.app.tr("Cm"),active:this.get("units")===l}]},{label:this.app.user.isEnterprise()?this.app.tr("License"):this.app.tr("Price"),switcher:null}]},buildBody:function(e,t){var i=this,n=this.get("chosen"),o=this.get("product");return t.map((function(t){return i.row(e,t,o,n)}))},row:function(e,t,i,n){var s=this.app.licensor.getLicenseByBit(t.licenseBit),a=this.get("units"),c=this.app.user.isEnterprise()?this.makeLicense(e,t):this.makePrice(e,t,i,s);return{key:t.id,indicator:this.makeIndicator(t),label:o.makeSizeLabel(e.attributes,t),extension:t.extension,size:o.makeSize(e,t,a),license:16!==i.bit_price||i.dummy||e.get("free")?s:this.app.licensor.getLicenseById(2),price:c,fileID:e.get("id"),active:t.id===n,purchase:!this.app.user.isEnterprise()&&e.getPurchase(t.id)||{},nextUnit:a===r?l:r}},makeIndicator:function(e){return e.labels.short.toLowerCase().replace(/p/,"")},makePrice:function(e,t,i,o){var s=this.app.licensor.getFileSizePrice(t,i),a=e.get("free")&&2!==o.id||s&&0===s.cost,r="credits"===i.type?this.getPriceKoef(e,this.app.user,t):1,l=s?n.formatPrice(s.cost):null,c=r<1?n.formatPrice(s.cost*r):null;return{free:a,value:l,labeled:this.makePriceLabel(i,l,c,a),discounted:c,isCustom:a||s>1||s&&s.cost>1||"credits"===i.type}},makePriceLabel:function(e,t,i,n){return n?this.app.tr("Free"):null==t?"-":"credits"===e.type?t:1!==t?this.app.tr("%s Downloads",[t]):this.app.tr("%s Download",[t])},getPriceKoef:function(e,t,i){var n="vector"===e.get("type")?"image":e.get("type"),o=e.get("discount")||0,s=this.app.user.get("id")?t.get("discounts").items&&t.get("discounts").items[n]&&t.get("discounts").items[n][i.id]:0;return s*=100,"extended"===i.license&&"100"===e.get("discount")?1:1-Math.max(o,s)/100},makeLicense:function(e,t){var i=e.isLicensed(t.id);return{free:!1,isLicensed:i,labeled:i?this.app.tr("Licensed"):this.app.tr("Not Licensed")}}})}))},1600:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="<span>";return e.offerUrl&&(t+='<a class="price-table-trial-button button button-xxxl button-watery button-glass button-pill button-bold _start-trial" href="'+e.offerUrl+'">'+this.tr("Start Free Trial")+"</a>"),t+="</span>"}})?n.apply(t,o):n)||(e.exports=s)},1601:function(e,t,i){},1602:function(e,t,i){(function(e){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(26),o=i(879).mobile.responsive,s=(0,i(12).getLogger)(e);e.exports={togglePin:function(){if(this.isPinnedButton&&!this.app.ampEnabled)if(this.element&&this.element.length&&this.breakPointEl){var e=this.isVisibleElement();this.element.toggleClass(this.pinnedClass,!e),this.element.toggleClass(this.hiddenPinnedClass,this.isFooterShown()),this.environmentCorrection(),this.scrollElement&&n.$(this.scrollElement.querySelector("._modal")).toggleClass(this.modalExtraSpaceClass||"",!e)}else s.warn("Element and breakPointEl are required")},isFooterShown:function(){return!this.scrollElement&&window.scrollY+window.innerHeight>this.breakPointEl.offsetTop},isVisibleElement:function(){if(this.isFooterShown())return!0;var e=this.scrollElement||window,t=this.element.height()/-2+(this.scrollElement?0:60),i=void 0===e.scrollY?e.scrollTop:e.scrollY,o=i+(e.innerHeight||e.offsetHeight),s=(this.scrollElement?this.element.offset().top-n.$(this.scrollElement).offset().top:this.element.offset().top)+(e.scrollTop||0)-t;return s+this.element.height()+t+this.getAfterSpace()<=o&&s>=i},getAfterSpace:function(){var e=window.matchMedia("(max-width: "+o.mobileTablets+"px)").matches,t=this.element.height()>60?31:41;return this.scrollElement||e?0:t},environmentCorrection:function(){if(this.scrollElement){var e=Math.max(this.scrollElement.offsetHeight-window.innerHeight,0);this.scrollElement.style.paddingBottom=e+"px"}},setScrollElementListener:function(){var e=this;this.scrollElement&&this.scrollElement.addEventListener("scroll",(function(){return e.onWindowScroll()}))},onWindowScroll:t.throttle((function(){this.togglePin()}),500)}}))}).call(this,i(8)(e))},1603:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(1604);var n=i(26),o=i(1605),s=i(556),a=i(653),r=i(1606),l=i(656),c=i(15).classNames,d=i(646);e.exports=s.extend({name:"DownloadMethodSelector",el:!1,template:o,viewMode:"page",classNames:"",onlyDesktopView:!1,mobileTablets:!1,events:{"click ._methods":"togglePlansToolTip"},globals:{click:"onGlobalClick","resize window":"onWindowResize"},initialize:function(){this.userPlansManager=this.userPlansManager||this.app.store.get("UserPlansManager"),this.listenTo(this.userPlansManager,"change",this.render),this.collection&&this.listenTo(this.collection,"reset",this.render)},prepareRender:function(){return!(!this.userPlansManager.get("available").length||!this.shouldBeShown())||(this.$el&&this.$el.hide&&this.$el.hide(),!1)},serialize:function(){var e;return t({viewMode:this.viewMode,classNames:c((e={},e[this.classNames]=!0,e["download-method_white"]="page"===this.viewMode,e["download-method_black"]="modal"===this.viewMode,e))},this.userPlansManager.get("preferred"))},clientAfterRender:function(){this.getView("PlansTooltip")&&this.getView("PlansTooltip").isOpen()&&this.getView("PlansTooltip").repin(this.$("._methods")),!this.onlyDesktopView&&d.mobileTablets()?this.makePlansListMobile():this.makePlansList()},makePlansList:function(){var e=this;this.setView("PlansTooltip",new l({name:"PlansTooltip",keep:!0,getContentView:function(){return new a({app:e.app,plans:e.userPlansManager,handleProductClick:!1,chooseProductCallback:e.onChoosePlan.bind(e)})}}))},makePlansListMobile:function(){var e=new r({viewMode:this.viewMode,app:this.app,plans:this.userPlansManager,chooseProductCallback:this.onChoosePlan.bind(this)});this.setView("._mobile-products",e),e.render().promise().then((function(e){return n.$("._mobile-products").append(e.$el)}))},shouldBeShown:function(){return!0},onGlobalClick:function(e){e.stopPropagation(),this.hidePlansToolTip()},onWindowResize:function(){if(!this.onlyDesktopView){var e=d.mobileTablets();e!==this.mobileTablets&&(this.mobileTablets=e,this.mobileTablets?(this.getView("PlansTooltip")&&this.getView("PlansTooltip").remove(),this.makePlansListMobile()):(this.getView("._mobile-products")&&this.getView("._mobile-products").remove(),this.makePlansList()))}},onChoosePlan:function(e){this.hidePlansToolTip(),this.userPlansManager.set({preferred:e}),this.chooseProductCallback(e)},togglePlansToolTip:function(e){e.preventDefault(),e.stopPropagation(),this.getView("._mobile-products")&&this.getView("._mobile-products").toggle(e),this.getView("PlansTooltip")&&this.getView("PlansTooltip").toggle(e)},hidePlansToolTip:function(){this.getView("._mobile-products")&&this.getView("._mobile-products").hide(),this.getView("PlansTooltip")&&this.getView("PlansTooltip").hide()},chooseProductCallback:function(){}})}))},1604:function(e,t,i){},1605:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<div class="download-method '+t(e.classNames)+'"><div class="download-method__method _methods"><i class="download-method__icon download-method__icon_'+t(e.type)+'"></i><span class="download-method__title">'+this.tr("Download Using")+':</span><span class="download-method__description">'+this.tr(e.baseLabel)+" "+t(e.serialIndex||"")+'<input class="download-method__radio" type="radio" name="method" value="'+t(e.type)+'" /></span><i class="download-method__arrow arrow _arrow"></i></div><div class="download-method__products-box _mobile-products"></div></div>'}})?n.apply(t,o):n)||(e.exports=s)},1606:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(26),o=i(1607),s=i(556),a={credits:{},subscription:{},ondemand:{},membership:{},imagepack:{}};a.credits.View=i(752),a.credits.template=i(786),a.subscription.View=i(746),a.subscription.template=i(792),a.ondemand.View=i(748),a.ondemand.template=i(793),a.imagepack.View=i(765),a.imagepack.template=i(794),a.membership.View=i(741),a.membership.template=i(795),e.exports=s.extend({name:"UserProductsListMobile",el:!1,template:o,viewMode:"modal",linksEnabled:!1,plans:void 0,events:{"click ._product":"onUserProductClick"},initialize:function(){this.listenTo(this.app.user,"sync",this.render)},prepareRender:function(){t.each(this.plans.serializeUserPlans(),(function(e){this.insertView("._list",this.getProductView(e))}),this)},serialize:function(){return{products:this.plans.serializeUserPlans()}},getProductView:function(e){var t=this.linksEnabled?this.app.makeUrl("subscribe",{backURL:!0}):"",i=a[e.type];return i?new i.View({app:this.app,template:i.template,product:e,serializeParams:{href:t}}):null},onUserProductClick:function(e){this.linksEnabled||(e.stopPropagation(),e.preventDefault()),this.chooseProductCallback(this.plans.serializeUserPlans()[n.$(e.currentTarget).index()])},toggle:function(){this.$el.toggle(),"modal"===this.viewMode&&this.app.observer.fire("Modal:CheckSize")},hide:function(){this.$el.hide(),"modal"===this.viewMode&&this.app.observer.fire("Modal:CheckSize")},chooseProductCallback:t.noop})}))},1607:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="user-plans-list user-plans-list_mobile _list"></div>'}})?n.apply(t,o):n)||(e.exports=s)},1608:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(6);e.exports=t.extend({url:"AutoLoginToken",defaults:{token:""},parse:function(e){var t=void 0===e?{}:e,i=t.autoLoginToken;return t.errors?{}:{token:i}}})})?n.apply(t,o):n)||(e.exports=s)},1609:function(e,t,i){},1850:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),o=i(561),s=i(624),a=i(1916),r=i(1136),l=i(556),c=i(558),d=i(938),u=i(1127),h=i(943).formatFilePublicationDate,p=l.extend(t({},u,{name:"FileInfo",el:!1,template:a,viewMode:"page",isMobileMode:!1,events:{"mouseenter ._editorial-tooltip":"handleEditorialTooltipShow","mouseleave ._editorial-tooltip":"handleEditorialTooltipHide","click ._link":"onLinkClick","contextmenu ._link":"onLinkCustomClick","mouseup ._link":"onLinkCustomClick","click ._zoom-image":"onZoomImage","click ._copy-id":"handleCopyIdClick","mouseenter ._copy-id":"showActionTooltip","mouseleave ._copy-id":"hideActionTooltip"},prepareRender:function(){this.isMobileMode=this.isMobileModeEnabled(),this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")&&this.setMatchMedia(this.render.bind(this))},serialize:function(){return{isEnterpriseUser:this.app.user.isEnterprise(),file:this.model.serialize(),published:h(this.app,this.model.get("published")),products:"page"===this.viewMode?this.app.user.serializeUserPlans():[],viewMode:this.viewMode,subscribeLink:this.app.makeUrl("subscribe",{backURL:!0,query:{ref:this.model.get("id")}}),portfolioLink:this.getPortfolioLink(),avatar:this.model.get("avatar")||this.app.user.avatar.constructor.prototype.defaults.default,downloadThumb:this.model.makeThumb("max"),isUpgraded:this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")&&this.isMobileMode,shouldShowUploadDate:this.app.features.isFeatureOnValue("Show item upload date")&&"video"!==this.model.get("type"),shouldShowDescription:this.app.user.isLoggedIn()?this.model.isEditorial():this.app.features.isFeatureOnValue("Show descriptions on item page")}},clientAfterRender:function(){this.model.get("editorial")&&this.setNotExistView("editorialTooltip",c,{params:o.ViewInfoEditorial,content:new l({el:!1,template:r})}),this.setActionTooltip()},getPortfolioLink:function(){var e={};if("page"===this.viewMode)e.absolute=!0;else if(this.app.user.isEnterprise()&&this.app.store.get("SearchQuery")){var t=this.app.store.get("SearchQuery").getNonDefaults(["dataSource"]);n.has(t,"dataSource")&&(e.query={data_source:t.dataSource})}return this.app.makeUrl({route:"Search",seller:this.model.get("sellerId")},e)},handleEditorialTooltipShow:function(e){this.getView("editorialTooltip").show(e)},handleEditorialTooltipHide:function(e){this.getView("editorialTooltip").hide(e)},handleCopyIdClick:function(){this.el.querySelector("._item-id").select(),document.execCommand("copy"),this.app.observer.fire("Notification",{type:"tooltip",message:this.tr("Copied to clipboard")})},onLinkClick:function(e){if(e.ctrlKey||e.shiftKey||e.metaKey)this.trackLinkNewTabClick(e);else{e.preventDefault();var t=e.currentTarget.dataset.target;"portfolio"===t?this.app.observer.broadcast("Track:UE:Portfolio:Click",{sellerId:this.model.get("sellerId")}):"file"===t&&this.app.observer.broadcast("Track:UE:File:OpenFileView",{view:this.name,file:this.model}),this.app.router.redirect(e.currentTarget.href)}},onLinkCustomClick:function(e){[s.rightMouse,s.middleMouse].includes(e.which)&&this.trackLinkNewTabClick(e)},trackLinkNewTabClick:function(e){var t,i=e.currentTarget.dataset.target;"portfolio"===i?t={source:"Portfolio",target:{target:"search"},params:{sellerId:this.model.get("sellerId")}}:"file"===i&&(t={source:this.name,target:{target:"fileView",targetId:this.model.id},params:{id:this.model.id}}),this.app.observer.broadcast("Track:UE:ContextMenu:Open",t)},onZoomImage:function(){}}));Object.assign(p.prototype,d),e.exports=p}))},1851:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="file-view__link-content search-similar-box '+t(e.classNames)+'">';return e.displayAsLink?i+='<a class="file-view__link-button button" href="'+e.url+'"><i class="search-similar-box__icon icon '+t(e.iconClassNames)+'"></i><span class="search-similar-box__text">'+t(e.btnText)+"</span></a>":i+='<button class="file-view__link-button button _find-similar-btn"><i class="search-similar-box__icon icon '+t(e.iconClassNames)+'"></i><span class="search-similar-box__text">'+t(e.btnText)+"</span></button>",i+="</div>"}})?n.apply(t,o):n)||(e.exports=s)},1884:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(26),n=i(646);e.exports={scrollWindowToTop:function(){n.mobileMode()&&this.isOpened&&window.scrollTo(0,0)},stopDefaultDocumentEvents:function(e){n.mobileMode()&&this.isOpened&&(e.preventDefault(),e.stopPropagation())},scrollContainerToTop:function(){if(n.mobileMode()&&this.isOpened){var e=t.$(this.scrollContainer),i=e.scrollTop();0===i?e.scrollTop(1):e.get(0).scrollHeight-i===e.outerHeight()&&e.scrollTop(i-1)}},stopCurrentEventPropagation:function(e){n.mobileMode()&&this.isOpened&&e.stopPropagation()},saveMobileScrollPosition:function(){n.mobileMode()&&(this.msrScrollPosition=t.$(window).scrollTop())},setMobileScrollPosition:function(){n.mobileMode()&&this.msrScrollPosition&&t.$(window).scrollTop(this.msrScrollPosition)}}},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1912:function(e,t,i){(function(n){var o,s,a;!function(i,n){s=[],void 0===(a="function"==typeof(o=n)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var o=i(0),s=i(1913),a=i(1914),r=i(1136),l=i(561),c=i(33).fileViewButtons,d=i(1097),u=i(947),h=i(556),p=i(970),f=i(558),b=i(1286),m=i(1185),v=i(749),g=i(646),y=i(1225),w=i(1127),_=i(15),x=_.classNames,k=_.getSizesByLimits,T=i(943),C=i(567),S=C.getSpecifications,M=C.isSpecified,L=450,E=450,R={width:830,height:600},F=h.extend(t({},w,{name:"FileViewThumb",el:!1,insert:!0,props:{},template:s,amp:a,viewMode:"page",preloadFileSize:"huge",player:null,dimensions:{},shouldShowTextInside:!1,isCartBtnEnabled:!0,isFavoriteBtnEnabled:!0,enableListThroughNavigation:!1,shouldFixFrameSize:!1,showFileId:!1,classNamesType:"regular",classNamesMap:{regular:{video:"view-file-box_video",image:"view-file-box_image",fixed:"view-file-box_fixed-size",share:"view-file-box_share",shareActive:"view-file-box__share_active",descriptionShort:"view-file-box__description_short"},upgrade:{video:"file-thumb_video",image:"file-thumb_image",fixed:"file-thumb_fixed-size",share:"file-thumb_share",shareActive:"file-thumb__share-box_active",descriptionShort:"file-thumb__description_short"}},events:{"click ._zoom-btn":"zoomIn","click ._image-box":"zoomIn","click ._to-cart":"onAddToCart","click ._to-favorites":"onFavoritesClick","click ._share":"onShareClick","click ._share-close":"onShareCloseClick","click ._share-button":"handleShareButtonClick","click ._download_comp":"onDownloadCompClick","click ._file-box-description":"onFileBoxDescriptionClick","mouseenter ._editorial-tooltip":"handleEditorialTooltipShow","mouseleave ._editorial-tooltip":"handleEditorialTooltipHide","mouseenter ._action-item":"showActionTooltip","mouseleave ._action-item":"hideActionTooltip"},globals:{"resize window":"onWindowResize"},initialize:function(){var e=this;this.props=d.FileViewThumb(this.app),this.preloadFileSize=this.getThumbSize(),this.listenTo(this.app.observer,{"Cart:added":function(t){return e.markCart(!0,t.fileId)},"Cart:removed":function(t){return e.markCart(!1,t.fileId)},"Favorites:PanelCacheUpdate":this.markFavorites})},prepareRender:function(){var e="huge";"page"===this.viewMode&&"video"!==this.model.get("type")?e="max":this.useBroadSize()&&!this.useHugeSize()?e="broad":"modal"===this.viewMode&&this.app.features.isFeatureOnValue("File View Modal Image Max Thumb")&&"video"!==this.model.get("type")&&(this.compactMode=g.desktopMedium(),e=this.compactMode?"huge":"modal"),this.dimensions=v.getThumbSizes(this.model.serialize(),e)},getThumbSize:function(){var e="huge";return(this.useMaxModalSize()||this.useBroadSize()&&!this.useHugeSize())&&(e="large"),this.useMaxSize()&&(e="max"),e},useBroadSize:function(){return"page"===this.viewMode&&this.app.features.isFeatureOnValue("Broad size file view")},useMaxSize:function(){return"page"===this.viewMode&&"video"!==this.model.get("type")&&this.app.features.isFeatureOnValue("Max size file view")},useHugeSize:function(){return"page"===this.viewMode&&"video"===this.model.get("type")&&this.model.get("hasHugeVideoThumb")&&this.app.features.isFeatureOnValue("Broad size file view")},useMaxModalSize:function(){return"modal"===this.viewMode&&"video"!==this.model.get("type")&&this.app.features.isFeatureOnValue("File View Modal Image Max Thumb")},serialize:function(){var e=this.getThumbSize(),i=this.model.serialize();return t({fileViewBoxClassNames:this.getFileViewBoxClassNames(),isEnterpriseUser:this.app.user.isEnterprise(),file:T.injectFilesSEOMeta(this.app,i),dimensions:this.dimensions,thumb:{hasLabel:v.hasLabel(i,e),src:this.model.makeThumb(e),preload:this.model.makeThumb(this.preloadFileSize),preloadMax:this.model.get("hasHugeImageThumb")||this.model.get("hasHugeVectorThumb")?this.model.makeThumb("max"):"",seo:this.model.makeThumb("max"),download:"video"===this.model.get("type")?this.getVideoThumb():this.model.makeThumb("max")},viewMode:this.viewMode,canDownloadComp:this.app.user.isLoggedIn(),actionsSmallMode:this.checkActionsSmallMode(),isCartBtnEnabled:this.checkCartBtnEnabled(),isFavoriteBtnEnabled:this.isFavoriteBtnEnabled,showVKSocial:"ru"===this.app.lang,infoIndicators:this.getInfoIndicators(),shouldShowFileId:this.shouldShowFileId,shouldShowTextInside:this.dimensions.h>200&&this.shouldShowTextInside,isModifyDescriptionWidth:this.model.get("width")/this.model.get("height")<1&&!this.shouldShowTextInside,videoPlaceholderStyles:this.getVideoPlaceholderStyles(),shareButtonsList:this.getShareButtonsList(),fileSizeLimits:k({width:this.model.get("width"),height:this.model.get("height")},R),shouldShowActions:!this.model.isBannedForCountry(),shouldShowDescription:this.app.features.isFeatureOnValue("Show descriptions on item page")},this.props)},checkCartBtnEnabled:function(){return!this.app.user.isEnterprise()&&this.isCartBtnEnabled&&!this.app.features.isFeatureOnValue("Is cart hidden")},getShareButtonsList:function(){return[{name:"twitter",title:"Tweet",width:730,height:420,rel:"nofollow",className:"button-social-twitter"},{name:"facebook",title:"Facebook",width:650,height:370,rel:"nofollow",className:"button-social-facebook"},{name:"pinterest",title:"Pinterest",width:700,height:370,rel:"nofollow",className:"button-social-pinterest"},{name:"vk",title:"VK",width:700,height:370,rel:"nofollow",className:"button-social-vk",isSpecified:S(this.app).isRuLang}].filter(M)},getVideoThumb:function(){var e=this.model.getVideoThumbs("huge");return e.mp4||this.app.features.isFeatureOnValue("Is webm video thumb allowed")&&e.webm||e.ogg||this.model.makeThumb("huge")},getInfoIndicators:function(){return this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")&&"video"===this.model.get("type")&&"page"===this.viewMode?[{value:this.model.get("mp")+"s",iconClass:"icon-clock-light"},{value:this.model.get("ar"),iconClass:"icon-aspectratio-light"}]:[]},getFileViewBoxClassNames:function(){var e,t="video"===this.model.get("type");return x(((e={})[this.classNamesMap[this.classNamesType].video]=t,e[this.classNamesMap[this.classNamesType].image]=!t,e[this.classNamesMap[this.classNamesType].fixed]=!t&&this.shouldFixFrameSize,e))},getVideoPlaceholderStyles:function(){return"width:"+this.dimensions.w+"px;padding-top:"+(this.dimensions.h/this.dimensions.w*100).toFixed(2)+"%"},clientAfterRender:function(){var e=this;"video"===this.model.get("type")?this.enableVideoPlayer():this.shouldFixFrameSize&&this.setFrameSize(),this.model.get("editorial")&&this.initEditorialToolTip(),"video"!==this.model.get("type")&&b(this.$("._image")),m(this.$el.find("._draggable-box"),this,{helperOptions:{app:this.app,mode:"filePage",defaults:this.serialize.bind(this),getModel:function(){return e.model.serialize()}}}),this.initSocial(),this.markFavorites(),this.setActionTooltip()},cleanup:function(){this.getView("FilePreviewVideo")&&this.getView("FilePreviewVideo").remove()},checkActionsSmallMode:function(){return this.dimensions.h<=100},setFrameSize:function(){var e,t=g.mobileMode()?Math.min(this.$el.width(),L):this.$el.width();e=this.dimensions.w/this.dimensions.h>=L/E?this.dimensions.w<this.dimensions.h?t*this.dimensions.w/this.dimensions.h:t:E*this.dimensions.w/this.dimensions.h,this.$("._file-box").css({maxWidth:Math.ceil(e)+"px"}),this.$("._image-box").css({paddingBottom:"calc(100% / ("+this.dimensions.w+" / "+this.dimensions.h+"))"})},enableVideoPlayer:function(){this.setView("FilePreviewVideo",new p({app:this.app,$mount:this.$("._video-placeholder"),mountMethod:"prepend",$poster:this.$("._video-poster"),file:this.model,blackBackground:"modal"===this.viewMode,viewMode:this.viewMode})).render()},zoomIn:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.shouldShowSignUpInZoom()?this.app.store.get("ModalsManager").show("SignupModal",{app:this.app,previewFile:this.getPreviewFileForSignupModal()}).then((function(){return t.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:t.name+"/zoom"})})).catch((function(){})):(this.app.store.get("ModalsManager").show("ZoomModal",{placeholderSRC:this.getZoomPlaceholderSRC(),model:this.model,collection:this.collection,app:this.app,single:!1,onDownloadCallback:this.zoomDownloadCallback.bind(this),afterRenderCallback:this.afterRenderCallback.bind(this),enableListThroughNavigation:this.enableListThroughNavigation,zoomShowCallback:this.zoomShowCallback.bind(this),zoomHideCallback:this.zoomHideCallback.bind(this),isFirstItem:this.isFirstItem,isLastItem:this.isLastItem,zoomLeftCallback:this.zoomLeftCallback.bind(this),zoomRightCallback:this.zoomRightCallback.bind(this),rightEdgeCallback:this.rightEdgeCallback.bind(this),leftEdgeCallback:this.leftEdgeCallback.bind(this)}).catch((function(){})),this.$("._zoom-image").removeAttr("data-preload-max"))},shouldShowSignUpInZoom:function(){return!1},getZoomPlaceholderSRC:function(){return this.model.get("hasHugeImageThumb")||this.model.get("hasHugeVectorThumb")?this.$("._zoom-image").attr("data-preload-max"):this.$("._zoom-image").attr("src")},getPreviewFileForSignupModal:function(){return this.previewFile||(this.previewFile=new u({id:this.model.get("id"),imageUrl:this.model.makeThumb("wide"),width:this.model.get("width"),height:this.model.get("height"),type:this.model.get("type"),alt:this.model.get("title")})),this.previewFile},onWindowResize:o.throttle((function(){var e=n.browser?g.desktopMedium():this.compactMode;e!==this.compactMode&&(this.compactMode=e)}),10),onFavoritesClick:function(e){e.stopPropagation(),e.preventDefault(),this.app.observer.broadcast(this.model.get("inFavorites")?"Track:UE:File:RemoveFromFavorites":"Track:UE:File:AddToFavorites",{id:this.model.get("id"),file:this.model.serialize(),position:0,view:this.name}),this.model.get("inFavorites")||this.app.store.link("FileForFavorite",this.model),this.app.observer.fire("Favorites:ToggleFile",{id:this.model.get("id")})},onAddToCart:function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.model.get("inCart")||this.app.user.isLoggedIn()||this.app.store.get("ModalsManager").show("SignupModal",{app:this.app,title:this.tr("Add to Cart?"),subTitle:"video"===this.model.get("type")?this.tr('<span class="%s">Create your Account</span> to add this video to your Cart',"sub-text"):this.tr('<span class="%s">Create your Account</span> to add this image to your Cart',"sub-text"),previewFile:this.getPreviewFileForSignupModal()}).then((function(){return t.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:t.name+"/addToCart"})})).catch((function(){})),this.app.observer.fire(this.model.get("inCart")?"Cart:remove":"Cart:add",{fileId:this.model.get("id")}),this.app.observer.broadcast(this.model.get("inCart")?"Track:UE:File:RemoveFromCart":"Track:UE:File:AddToCart",{id:this.model.get("id"),file:this.model.serialize(),position:0,view:this.name})},onShareClick:function(){this.$("._file-box").addClass(this.classNamesMap[this.classNamesType].share),this.$("._share-box").addClass(this.classNamesMap[this.classNamesType].shareActive)},onShareCloseClick:function(){this.$("._file-box").removeClass(this.classNamesMap[this.classNamesType].share),this.$("._share-box").removeClass(this.classNamesMap[this.classNamesType].shareActive)},onDownloadCompClick:function(e){var t=this;this.app.user.isLoggedIn()||(e.stopPropagation(),e.preventDefault(),this.app.store.get("ModalsManager").show("SignupModal",{app:this.app,previewFile:this.getPreviewFileForSignupModal()}).then((function(){return t.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:t.name+"/downloadComp"})})).catch((function(){}))),this.app.observer.broadcast("Track:UE:File:CompDownload",{file:this.model,option:"comp"})},onFileBoxDescriptionClick:function(e){var t=this.$("._file-box-description");g.mobileMode()&&t.hasClass(this.classNamesMap[this.classNamesType].descriptionShort)&&(e.preventDefault(),e.stopPropagation(),t.removeClass(this.classNamesMap[this.classNamesType].descriptionShort))},handleEditorialTooltipShow:function(e){this.getView("editorialTooltip").show(e)},handleEditorialTooltipHide:function(e){this.getView("editorialTooltip").hide(e)},initEditorialToolTip:function(){this.setNotExistView("editorialTooltip",f,{params:l.ViewInfoEditorial,classes:{tooltip_dark:!0},content:new h({el:!1,template:r,serialize:function(){return{extendedMessage:!0}}})})},initSocial:function(){var e={facebook:1,twitter:2,google:3,pinterest:4};"ru"===this.app.lang&&(e.vk=5),this.initSocialButtons({socialNameMap:e,shareData:{title:this.model.get("title"),description:this.model.get("description"),image:this.model.makeThumb("huge")}})},markCart:function(e,t){if(t.includes(this.model.get("id"))){var i=e?"removeFromCart":"addToCart",n=c.find((function(e){return e.key===i})).label;this.model.set({inCart:e}),this.$("._label-in-cart").toggleClass("hidden",!e),this.$("._to-cart").toggleClass("active",e).attr({"data-title":n}),this.hideActionTooltip()}},markFavorites:function(){var e=this.app.store.get("FolderCache");if(e){var t=!!e.get(this.model.get("id")),i=t?"removeFavorites":"addToFavorites",n=c.find((function(e){return e.key===i})).label;this.model.set({inFavorites:t}),this.$("._label-in-favorites").toggleClass("hidden",!t),this.$("._to-favorites").toggleClass("active",t).attr({"data-title":n}),this.hideActionTooltip()}},afterRenderCallback:function(){},zoomDownloadCallback:function(){},zoomShowCallback:function(){},zoomHideCallback:function(){},zoomLeftCallback:function(){},zoomRightCallback:function(){},rightEdgeCallback:function(){},leftEdgeCallback:function(){}}));Object.assign(F.prototype,y),e.exports=F}))}).call(this,i(23))},1913:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="file-view__thumb-wrapper" data-id="'+t(e.file.id)+'"><div class="file-box view-file-box _file-box '+t(e.fileViewBoxClassNames)+'"><div class="view-file-box__holder ';if(e.shouldShowTextInside&&(i+="view-file-box__holder_text-inside"),i+=' _file-box-holder"><div class="view-file-box__box _draggable-box">',"video"===e.file.type?(i+='<div class="view-file-box__video _video-placeholder"><div class="view-file-box__video-placeholder" style="'+e.videoPlaceholderStyles+'"></div><img class="view-file-box__video-poster view-file-box__video-poster_absolute _video-poster" src="'+e.thumb.src+'"width="'+e.dimensions.w+'" height="'+e.dimensions.h+'"',e.thumb.preload&&(i+=' data-preload="'+e.thumb.preload+'"'),i+='alt="'+e.file.seoAlt+'" title="'+e.file.seoTitle+'" /><i class="view-file-box__play-video icon-play-video"></i></div>'):(i+='<a class="view-file-box__image-box view-file-box__image-box_label view-file-box__image-clear _image-box" href="'+e.thumb.download+'"><img class="view-file-box__image',e.dimensions.w>=e.dimensions.h?i+=" view-file-box__image_h":i+=" view-file-box__image_v",i+=" ",e.thumb.hasLabel||(i+=" view-file-box__image-clear"),i+=' _image _zoom-image" src="'+e.thumb.src+'" ',e.thumb.preload?i+=' data-preload="'+e.thumb.preload+'"':i+=' data-src="'+e.thumb.seo+'"',i+=" ",e.thumb.preloadMax&&(i+=' data-preload-max="'+e.thumb.preloadMax+'"'),i+=' width="'+e.dimensions.w+'" height="'+e.dimensions.h+'" alt="'+e.file.seoAlt+'" title="'+this.tr("Download")+" - "+e.file.seoTitle+'"/></a>'),e.shouldShowActions&&(i+='<div class="view-file-box__action',e.actionsSmallMode&&(i+=" view-file-box__action_small"),"video"===e.file.type&&(i+=" _view-file-box-video"),i+=' _action-box"><span class="view-file-box__action-holder',"modal"===e.viewMode&&e.file.editorial&&(i+=" view-file-box__action-holder_tall"),i+='">',e.isCartBtnEnabled&&(i+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-cart',e.file.inCart&&(i+=" active"),i+=' _to-cart"title="',e.file.inCart?i+=""+this.tr("Remove from Shopping Cart"):i+=""+this.tr("Add to Shopping Cart"),i+='"></button>'),e.isFavoriteBtnEnabled&&(i+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-favorites _to-favorites',e.file.inFavorites&&(i+=" active"),i+='"title="',e.file.inFavorites?i+=""+this.tr("Remove from Favorites"):i+=""+this.tr("Add to Favorites"),i+='"></button>'),e.isSharingEnabled&&(i+='<button class="view-file-box__action-item button-circle button-circle-xl button-share _share" title="'+this.tr("Share")+'"></button>'),e.isEnterpriseUser||(i+='<a class="view-file-box__action-item button-circle button-circle-xl button-download _download_comp" ',e.canDownloadComp&&(i+='href="'+e.thumb.download+'?download=true" '),i+='title="'+this.tr("Download Comp")+'"></a>'),i+="</span></div>"),e.isSharingEnabled&&(i+='<div class="view-file-box__share _share-box"><div class="view-file-box__share-container"><div class="view-file-box__share-box"><div class="view-file-box__share-holder"><i class="view-file-box__close icon icon-close-cross icon-close-cross-white _share-close"></i><ul class="view-file-box__list"><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="730" data-height="420" data-title="Tweet" data-social="twitter"><span class="button-circle button-circle-xl button-social-twitter"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="650" data-height="370" data-title="Facebook" data-social="facebook"><span class="button-circle button-circle-xl button-social-facebook"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="Pinterest" data-social="pinterest"><span class="button-circle button-circle-xl button-social-pinterest"></span></a></li>',e.showVKSocial&&(i+='<li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="VK" data-social="vk"><span class="button-circle button-circle-xl button-social-vk"></span></a></li>'),i+="</ul></div></div></div></div>"),i+='<div class="view-file-box__indicator-wrapper">',e.infoIndicators.length){i+="<div class='view-file-box__indicator-info'>";var n=e.infoIndicators;if(n)for(var o,s=-1,a=n.length-1;s<a;)i+="<div class='view-file-box__info'><i class=\"icon "+t((o=n[s+=1]).iconClass)+'"></i>'+t(o.value)+"</div>";i+="</div>"}return i+='<div class="view-file-box__to-page _to-page"></div><div class="view-file-box__similar-btn _thumb-find-similar"></div><div class="view-file-box__indicator">',e.isCartBtnEnabled&&(i+='<i class="view-file-box__indicator-item label-in-cart _label-in-cart',e.file.inCart||(i+=" hidden"),i+='" title="'+this.tr("In Shopping Cart")+'"></i>'),e.isFavoriteBtnEnabled&&(i+='<i class="view-file-box__indicator-item label-in-favorites _label-in-favorites',e.file.inFavorites||(i+=" hidden"),i+='" title="'+this.tr("Added to Favorites")+'"></i>'),i+="</div></div>","video"!==e.file.type&&(i+='<button class="view-file-box__lens file-action-btn file-action-btn_full-screen _zoom-btn"></button>'),"modal"===e.viewMode&&e.file.editorial&&(i+='<div class="view-file-box__editorial-box',"video"===e.file.type&&(i+=" view-file-box__editorial-box-video"),i+='"><span class="view-file-box__editorial"><span class="view-file-box__editorial-text">'+this.tr("Editorial Use Only")+'</span><i class="view-file-box__editorial-icon icon icon-help icon-help-light-active _editorial-tooltip"></i></span></div>'),i+="</div>","page"===e.viewMode&&e.shouldShowDescription&&(i+='<p class="view-file-box__description view-file-box__description_short _file-box-description ',e.isModifyDescriptionWidth&&(i+="view-file-box__description_squeezed"),i+='">',"video"===e.file.type?i+=t(e.file.visibleDescription)+" &mdash; "+this.tr("Video by %s",e.file.sellerName):(i+='<a class="view-file-box__description-link _zoom-image" href="'+e.thumb.download+'"><span class="view-file-box__description-text">'+t(e.file.visibleDescription)+"</span> &mdash; ","vector"===e.file.type?i+=""+this.tr("Vector by %s",e.file.sellerName):i+=""+this.tr("Photo by %s",e.file.sellerName),i+="</a>"),e.shouldShowFileId&&(i+='<span class="view-file-box__description-id">| '+this.tr("ID")+": "+t(e.file.id)+"</span>"),i+="</p>"),i+="</div></div></div>"}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},1914:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="file-view__thumb-wrapper" data-id="'+t(e.file.id)+'"><div class="file-box view-file-box _file-box '+t(e.fileViewBoxClassNames)+'"><div class="view-file-box__holder ';return e.shouldShowTextInside&&(i+="view-file-box__holder_text-inside"),i+=' _file-box-holder"><div class="view-file-box__box">',"video"===e.file.type?(i+='<div class="view-file-box__video _video-placeholder"><amp-video class="view-file-box__video-poster _video-poster" autoplay src="'+e.thumb.download+'"width="'+e.dimensions.w+'" height="'+e.dimensions.h+'"',e.thumb.preload&&(i+=' data-preload="'+e.thumb.preload+'"'),i+='alt="'+e.file.seoAlt+'" title="'+e.file.seoTitle+'" layout="responsive"poster="'+e.thumb.src+'" loop controls></amp-video></div>'):(i+='<a class="view-file-box__image-box view-file-box__image-box_label view-file-box__image-clear _image-box" href="'+e.thumb.download+'"><amp-img class="view-file-box__image',e.dimensions.w>=e.dimensions.h?i+=" view-file-box__image_h":i+=" view-file-box__image_v",i+=" ",e.thumb.hasLabel||(i+=" view-file-box__image-clear"),i+=' _image _zoom-image" src="'+e.thumb.src+'" ',e.thumb.preload?i+=' data-preload="'+e.thumb.preload+'"':i+=' data-src="'+e.thumb.seo+'"',i+=" ",e.thumb.preloadMax&&(i+=' data-preload-max="'+e.thumb.preloadMax+'"'),i+=' width="'+e.dimensions.w+'" height="'+e.dimensions.h+'" layout="intrinsic" alt="'+e.file.seoAlt+'" title="'+this.tr("Download")+" - "+e.file.seoTitle+'"/></a>'),i+='<div class="view-file-box__indicator-wrapper"><div class="view-file-box__similar-btn _thumb-find-similar"></div></div></div>',"page"===e.viewMode&&e.shouldShowDescription&&(i+='<p class="view-file-box__description view-file-box__description_short _file-box-description">',"video"===e.file.type?i+=t(e.file.visibleDescription)+" &mdash; "+this.tr("Video by %s",e.file.sellerName):(i+='<a class="view-file-box__description-link _zoom-image" href="'+e.thumb.download+'"><span class="view-file-box__description-text">'+t(e.file.visibleDescription)+"</span> &mdash; ","vector"===e.file.type?i+=""+this.tr("Vector by %s",e.file.sellerName):i+=""+this.tr("Photo by %s",e.file.sellerName),i+="</a>"),i+="</p>"),i+="</div></div></div>"}})?n.apply(t,o):n)||(e.exports=s)},1915:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(624),n=i(556),o=i(15).capitalize;e.exports=n.extend({name:"FileViewTitle",el:!1,viewMode:"page",title:null,events:{"click ._title-file":"onTitleClick","contextmenu ._title-file":"onCustomTitleClick","mouseup ._title-file":"onCustomTitleClick"},serialize:function(){return{file:this.model.serialize(),title:this.getTitle(),shouldAddTitleAttr:this.app.user.isLoggedIn()}},getTitle:function(){if(this.title)return o(this.title);var e=this.model,t=this.tr("Stock Image");return e.isVector()?t=this.tr("Stock Illustration"):e.isVideo()?t=this.tr("Stock Footage"):e.isEditorial()&&(t=this.tr("Stock Editorial Photography")),o(e.get("title"))+" - "+t},trackNewTabClick:function(){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:this.name,target:{target:"fileView",targetId:this.model.get("id")},params:Object.assign(this.model.toTracking(),{view:this.name})})},onTitleClick:function(e){"modal"===this.viewMode&&(e.ctrlKey||e.metaKey?this.trackNewTabClick():this.app.observer.broadcast("Track:UE:File:OpenFileView",{file:this.model,view:this.name}))},onCustomTitleClick:function(e){[t.rightMouse,t.middleMouse].includes(e.which)&&"modal"===this.viewMode&&this.trackNewTabClick(e.currentTarget)}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1916:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="file-view__short-info-wrapper"><div class="file-view__short-info"><a class="file-view__short-info-avatar" href="'+e.portfolioLink+'"><span class="avatar-box avatar-box-m"><img class="avatar avatar-m" src="'+e.avatar+'" alt="'+t(e.file.sellerName)+'"></span></a><div class="file-view__short-info-line"><span class="file-view__short-info-name">'+this.tr("Copyright")+": "+this.seo.space+'</span><span class="file-view__short-info-value"><a class="';return"modal"===e.viewMode?i+="link-blue-on-dark":i+="link-blue",i+=' _portfolio _link" href="'+e.portfolioLink+'" data-target="portfolio"><span><span>'+t(e.file.sellerName)+"</span></span></a>"+this.seo.space+'<span class="hidden">Depositphotos</span></span></div><div class="file-view__short-info-line"><span class="file-view__short-info-name">',"video"===e.file.type?i+=""+this.tr("Clip ID"):"vector"===e.file.type?i+=""+this.tr("Vector ID"):e.file.editorial?i+=""+this.tr("Photography ID"):i+=""+this.tr("Image ID"),i+=":"+this.seo.space+'</span><span class="file-view__short-info-value">'+t(e.file.id)+"</span></div></div></div>"}})?n.apply(t,o):n)||(e.exports=s)},1917:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="series-box';e.series.className&&(i+=" "+t(e.series.className)),i+=' _series-box">';var n=e.series.elements;if(n)for(var o,s=-1,a=n.length-1;s<a;)i+='<a class="series-box__link-poster _link" href="'+((o=n[s+=1]).url||o.urlVar)+'" style="background-image: url('+t(o.resource.src.jpg)+')">',o.trTitle?i+=""+t(o.trTitle):i+=""+t(o.title),i+="</a>";return i+="</div>"}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},1918:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(1919);var t=i(1257),n=i(1920),o=i(1921),s=i(556),a=i(943),r={image:8,vector:8,video:6},l=s.extend({name:"RelatedFiles",el:!1,collection:null,relatedMode:"",viewMode:"page",layout:"wide",className:"",limitClassName:"",thumbListHolderWidth:1280,holderWidth:{},title:"",isCartBtnEnabled:!0,isFavoriteBtnEnabled:!0,isSimilarBtnEnabled:!1,displaySeeMoreAsLink:!1,displaySeeMoreAsThumb:!1,isSeeMoreAsPseudo:!1,isPictureTagEnabled:!1,lazyLoadOptions:{},events:{"click ._see-more":"handleSeeMoreClick"},initialize:function(){if(!this.collection)throw new Error(this.name+" "+this.relatedMode+" "+this.cid+": Related collection required!");this.listenTo(this.collection,"update reset",this.render)},prepareRender:function(){var e=this;this.setView("._files-list",new o({app:this.app,maxRows:this.getMaxRows(),scale:this.scale||1,model:this.model,collection:this.collection,layout:this.layout,viewMode:this.viewMode,relatedMode:this.relatedMode,amp:n,draggableOptions:{mode:"related",enabled:"page"===this.viewMode},isCartBtnEnabled:this.isCartBtnEnabled,isFavoriteBtnEnabled:this.isFavoriteBtnEnabled,isSimilarBtnEnabled:this.isSimilarBtnEnabled,thumbListHolderWidth:this.thumbListHolderWidth,holderWidth:this.holderWidth,displaySeeMoreAsThumb:this.displaySeeMoreAsThumb,lazyLoadOptions:this.lazyLoadOptions,isPictureTagEnabled:this.isPictureTagEnabled,makeSeeMoreData:function(){return e.makeSeeMoreData()},onFileClickCallback:function(t,i){return e.onFileClickCallback(t,i)}}))},serialize:function(){var e;return{layoutClassName:t((e={},e[this.className]=!0,e[this.limitClassName]=this.collection.length<8,e)),seeMoreData:this.shouldDisplaySeeMore()?this.makeSeeMoreData():null,title:this.title,relatedMode:this.relatedMode}},clientAfterRender:function(){this.isSeeMoreAsPseudo&&this.setSeeMoreLink(),this.clientAfterRenderCallback()},makeSeeMoreData:function(){return{url:this.makeSeeMoreURL(),text:"image"===this.model.get("type")&&"page"===this.viewMode?this.app.tr("See More Pictures"):this.app.tr("See More"),pseudo:this.isSeeMoreAsPseudo}},makeSeeMoreURL:function(){return this.model.makeRelatedUrl({relatedTo:this.relatedMode})},setSeeMoreLink:function(){var e=this.$("._link");e.length&&a.transformToLink(e[0],this.makeSeeMoreURL())},shouldDisplaySeeMore:function(){return!(this.collection.length<r[this.model.get("type")])&&this.displaySeeMoreAsLink},handleSeeMoreClick:function(e){this.findView("RelatedFilesList").trackSeeMore(e)},getMaxRows:function(){return 2},onFileClickCallback:function(){},clientAfterRenderCallback:function(){}});e.exports=l}))},1919:function(e,t,i){},1920:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="'+t(e.layoutClassName)+'">';e.title&&(i+='<h2 class="related-item__title">'+t(e.title)+"</h2>"),i+='<div class="related-slider"><div class="flex-files '+e.classes.list+'">';var n=e.items;if(n)for(var o,s=-1,a=n.length-1;s<a;)i+='<div data-id="'+t((o=n[s+=1]).id)+'" class="file-container '+e.itemsData[o.id].classes.box+'"><a href="'+o.url+'" class="'+e.itemsData[o.id].classes.link+'"><amp-img src="'+t(o.thumbs[e.layout])+'"class="file-container__image _file-image"alt="'+t(o.seoAlt)+'"width="'+e.itemsData[o.id].width+'"height="'+e.itemsData[o.id].height+'"/>',o.seeMoreData||(e.isTitleInside?i+='<span class="file-container__title">'+t(o.title)+"</span>":i+='<span class="file-container__title hidden">'+t(o.title)+" #"+t(o.id)+"</span>"),i+="</a></div>";return i+="</div></div></div>"}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},1921:function(e,t,i){(function(n){var o,s,a;!function(i,n){s=[],void 0===(a="function"==typeof(o=n)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var o=i(624),s=i(879).mobile.responsive,a=i(1215),r=i(1163),l=a.extend({name:"RelatedFilesList",holderWidth:{},isDownloadBtnEnabled:!1,events:t({},a.prototype.events,{"mouseenter .file-container":"onFileMouseEnter","mouseleave .file-container":"onFileMouseLeave"}),initialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.initialize.apply(this,t),this.on("clientAfterRender",this.trackImpression)},prepareRender:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.prepareRender.apply(this,t),this.setMatchMedia()},trackImpression:function(){this.collection.length&&this.$el.is(":visible")&&this.app.observer.broadcast("Track:UE:File:UserSeeFileThumb",{page:1,files:this.collection.serialize(),relatedMode:this.relatedMode,anchor:this.model.get("id"),view:this.name})},handleFileClick:function(e){var t=this.$(e.currentTarget).closest("[data-id]").data("id"),i=this.collection.get(t);this.app.observer.broadcast("Track:UE:File:RelatedFileClick",{id:i.get("id"),index:this.$(e.currentTarget).index(),mode:this.relatedMode}),e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick(i):(this.app.observer.broadcast("Track:UE:File:OpenFileView",{file:i,sourceFile:this.model,mode:this.relatedMode,viewMode:this.viewMode,view:this.name}),this.onFileClickCallback(e,i))},handleFileMouseup:function(e){if([o.rightMouse,o.middleMouse].includes(e.which)){var t=this.$(e.currentTarget).closest("[data-id]").data("id");this.trackNewTabClick(this.collection.get(t))}},handleSeeMoreClick:function(e){this.trackSeeMore(e)},trackSeeMore:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.trackSeeMoreNewTabClick():this.app.observer.broadcast("Track:UE:File:SeeMoreClick",{mode:this.relatedMode})},trackSeeMoreNewTabClick:function(){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"FileSeeMore",target:{target:"search"},params:{mode:this.relatedMode}})},trackNewTabClick:function(e){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"FileThumb",target:{target:"fileView",targetId:e.id},params:t({},e&&e.toTracking(),{mode:this.relatedMode,view:this.name})})},toTracking:function(){return this.serializeItems()},isLimitedRowsAllowed:function(){return"page"===this.viewMode},getItems:function(){if(!this.isLimitedRowsAllowed())return{items:this.serialized,itemsData:this.makeRenderDataSheet()};this.rowParams={current:1,lengthMin:0,lengthAvg:0,lengthMax:0};var e=this.makeRenderDataSheet(!0);return{items:this.serialized.slice(0,Object.keys(e).length),itemsData:e}},calculateItemRow:function(e,t){var i=Math.floor(e.w*t.height/e.h),n=Math.floor((i+e.w)/2);return this.rowParams.lengthMin+=e.w,this.rowParams.lengthAvg+=n,this.rowParams.lengthMax+=i,this.rowParams[e.h>e.w?"lengthAvg":"lengthMin"]>this.thumbListHolderWidth&&this.rowParams.lengthMax>this.thumbListHolderWidth&&(this.rowParams.current+=1,this.rowParams.lengthMin=e.w,this.rowParams.lengthAvg=n,this.rowParams.lengthMax=i),this.rowParams.current},setMatchMedia:function(){var e=this;if(n.browser&&this.isLimitedRowsAllowed()&&!this.matchMedia){this.matchMedia={regular:window.matchMedia("(min-width: "+(s.globalStepSmall+1)+"px)"),compact:window.matchMedia("(max-width: "+s.globalStepSmall+"px) and (min-width: "+(s.mobileBig+1)+"px)"),mobile:window.matchMedia("(max-width: "+s.mobileBig+"px) and (min-width: "+(s.globalStepPhone+1)+"px)"),phone:window.matchMedia("(max-width: "+s.globalStepPhone+"px)")};var t={regular:function(t){t.matches&&e.updateHolderWidth("regular")},compact:function(t){t.matches&&e.updateHolderWidth("compact")},mobile:function(t){t.matches&&e.updateHolderWidth("mobile")},phone:function(t){t.matches&&e.updateHolderWidth("phone")}},i=function(i){t[i](e.matchMedia[i]),e.matchMedia[i].addListener(t[i])};i("regular"),i("compact"),i("mobile"),i("phone")}},updateHolderWidth:function(e){var t=this.holderWidth[e];t&&this.thumbListHolderWidth!==t&&(this.thumbListHolderWidth=t,this.render())}});Object.assign(l.prototype,r),e.exports=l}))}).call(this,i(23))},1922:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";i(1923);var t=i(1851),n=i(556);e.exports=n.extend({name:"SearchSimilarFiles",el:!1,template:t,viewMode:"modal",events:{"click ._find-similar-btn":"onFindSimilarBtnClick"},serialize:function(){var e=this.file.get("type");return{displayAsLink:this.app.ampEnabled,url:this.file.makeRelatedUrl({relatedTo:"similar"}),type:e,classNames:this.classNames,iconClassNames:this.iconClassNames,btnText:"video"===e?this.tr("Find Similar Videos"):this.tr("Find Similar Images")}},onFindSimilarBtnClick:function(e){e.stopPropagation(),e.preventDefault(),this.app.observer.broadcast("Track:UE:File:ToSimilar",{file:this.file}),this.app.router.redirect(this.file.makeRelatedUrl({relatedTo:"similar"}))}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},1923:function(e,t,i){},1924:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(1925);var n=i(166),o=i(5),s=i(556),a=i(1608),r=i(15);e.exports=s.extend({name:"CreateDesign",el:!1,viewMode:"modal",events:{"click ._btn":"onBtnClick"},initialize:function(){this.app.features.isFeatureOnValue("Crello autologin token")&&(this.autoLoginToken=new a({},{app:this.app}),this.autoLoginToken.fetch())},serialize:function(){return{btnText:"edit"===this.getCrelloButtonType()?this.tr("Edit with Crello"):this.tr("Create Design"),classNames:this.classNames,iconClassNames:this.iconClassNames}},clientAfterRender:function(){this.trackEvent("show")},getCrelloButtonType:function(){var e=this.app.features.get("Crello button type");return"enabled"===e.get("status")?e.get("value"):""},onBtnClick:function(e){e.stopPropagation(),window.open(this.getLink(),"_blank").focus(),this.trackEvent("click")},getLink:function(){var e={protocol:o.client.crello.protocol,host:o.client.crello.host,pathname:"home"};return this.app.features.isFeatureOnValue("Create Design Home")||Object.assign(e,{pathname:"create_design/depositphotos/"+this.model.get("id"),query:this.getQueryParams()}),this.autoLoginToken&&(e.query=t({},e.query,{access_token:this.autoLoginToken.get("token")})),n.format(e)},getQueryParams:function(){var e="modal"===this.viewMode?"Modal":"ItemPage";return{utm_source:"DepositPhotos",utm_medium:r.capitalize(this.getCrelloButtonType()),utm_campaign:e}},trackEvent:function(e){var t="modal"===this.viewMode?"FileViewModal":"FileView",i="edit"===this.getCrelloButtonType()?"EditWCrello":"CrelloCreate";this.app.observer.broadcast("Track:UE:"+t+":CrelloCreate",{eventCategory:i,action:e})}})}))},1925:function(e,t,i){},1926:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(6).extend({url:"itemViewedInternal",getQueryParams:function(){return t.clone(this.attributes)}},{write:function(e,t){return new n(e,t).save()}});e.exports=n},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},2140:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(15),o=i(34),s=i(859);e.exports=o.extend({url:"FileViewRelated",model:s,initialize:function(e,i){this.store=t.clone(i)},getQueryParams:function(){return t.clone(this.store)},parse:function(e,t){return e.result=n.beautifyApiResponse(e.items||e.result||[]),t.parser="parseFromSearch",o.prototype.parse.call(this,e.result,t)}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},2415:function(e,t,i){},2416:function(e,t,i){},2515:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i(2516),i(1557);var n=i(0),o=i(26),s=i(882),a=i(624),r=i(91),l=i(33).licensingFileTypes,c=i(2517),d=i(563),u=i(556),h=i(2518),p=i(2520),f=i(2521),b=i(625),m=i(565),v=i(15).classNames,g=i(560),y=i(1352),w=i(942),_=u.extend({name:"LicenseWizard",el:!1,template:c,errorTitlesMap:{17001:r.InsufficientFundsTitle},errorMessagesMap:{17001:r.InsufficientFundsMessage},events:{"input  ._field":"onFormFieldChange","change ._license":"onLicenseAndSizeChange","change ._size":"onLicenseAndSizeChange","keypress input":"onInputKeyPress","keyup ._field":"onFieldKeyUp","submit form":"onFormSubmit","click ._submit":"onSubmitClick","click ._submit-download":"onSubmitAndDownloadClick","click ._option-checkbox":"onOptionCheck"},files:[],types:["image","vector","video"],downloadAfterLicensing:!1,initialize:function(){this.model=new p,this.collection=new f(this.files,{parse:!0,app:this.app}),this.listenTo(this.model,"error",this.onModelError)},serialize:function(){var e,i=this.collection.first(5).reverse().map((function(e){return e.serialize()})),n=this.app.user.serializeUserLicenseFields({enabled:!0}).map((function(e){return t({},e,{placeholder:e.placeholder})})),o=this.makeBlocks(),s=o.reduce((function(e,t){return e+t.total}),0),a=o.every((function(e){return!e.licenses.length})),l=o.find((function(e){return""!==e.message})),c=r.CantLicenseMultipleFiles;return a&&l&&(c=l.message),t({files:i,blocks:o,form:this.model.serialize(),fields:n,total:this.app.currency.get("list").get(this.app.user.get("enterprise").currencyId).parseAndFormat({amount:s}),maxFilesListCount:5,unableToLicense:a,unableMessage:c,downloadBtnText:this.files.length>1?this.tr("Confirm & Bulk Download"):this.tr("Confirm & Download"),classNames:v((e={"images-fan_has-more":i.length>5},e["images-fan_counts-"+i.length]=i.length<=5,e))},this.getTaxData())},clientAfterRender:function(){m(this.$el,o.$),b(this.$("._buttons"),{color:"#fff"}),this.$("._scroll").length&&s.initialize(this.$("._scroll").get(0),{suppressScrollX:!0,wheelSpeed:.6})},getTaxData:function(){var e=this.app.user.get("enterprise")||{},t=e.tax,i=void 0===t?{}:t,n=e.vatEnabled,o=void 0!==n&&n,s=i.region,a=void 0===s?null:s,r=i.rate,l=void 0===r?null:r,c=null!==l?+(100*l).toFixed(3):0;return{isTaxEnabled:o&&c>0,taxTitle:{ca:this.app.tr("Price includes Sales Tax at %s&#37;",c),us:this.app.tr("Price includes Sales Tax at %s&#37;",c),eu:this.app.tr("Price includes VAT at %s&#37;",c)}[a]}},makeBlockMessage:function(e){var t=this;return e.every((function(e){return e.get("permissionMask")===t.app.licensor.getPermission("premium")}))?this.app.tr("The file you have selected is from our Focused Collection. To license it, please contact your Depositphotos manager."):this.app.tr("To license this file, please contact your Depositphotos manager.")},makeBlocks:function(){var e=this,i={bit_price:4096};return this.types.filter((function(t){return e.collection.some((function(e){return e.get("type")===t}))})).map((function(n){var o=l.find((function(e){return e.key===n})),s=e.collection.where({type:n}),a=e.app.licensor.getUsableUserLicensesForFile(s),r={type:n,licenses:a,sizes:[],options:[],filesCount:s.length,total:0,title:e.tr(o.label),message:""};if(!a.length)return t({},r,{message:e.makeBlockMessage(s)});var c=e.model.get("licensing").get(n);c||(c=e.model.get("licensing").add({type:n,fileIds:s.map((function(e){return e.id})),licenseId:a[0].id,size:a[0].schema[0].id}));var d=e.app.licensor.getLicenseById(c.get("licenseId"),a),u=e.app.licensor.getLicensableSizesForFile(s,[d]);if(!u.length)return t({},r,{message:e.makeBlockMessage(s)});var h=u.find((function(e){return e.id===c.get("size")}))||u[0];c.set({size:h.id});var p=h.options.filter((function(e){return"disabled"!==e.status}))||[];!c.get("optionsBitMask")&&p.length&&c.set({optionsBitMask:p.reduce((function(e,t){return e|(t.selected?t.bit:e)}),0)}),p.forEach((function(e){e.selected=(e.bit&c.get("optionsBitMask"))>0}));var f=p.reduce((function(e,t){return e+(t.selected?t.prices[0].cost:0)}),0),b=u.reduce((function(t,n){return t[n.id]=s.map((function(t){return e.app.licensor.getFileSizePrice(e.app.licensor.getConfigForSize(n.id,t,d.bit),i)})),t}),{});return t({},r,{total:b[h.id].reduce((function(e,t){return e+t.cost}),0)+f*s.length,sizes:u.map((function(t){return e.addSizeCompositeLabel(t,s,b)})),options:p.map((function(i){return t({},i,{price:i.prices[0].cost,name:e.tr(i.name),formattedPrice:e.app.currency.get("list").get(e.app.user.get("enterprise").currencyId).parseAndFormat({amount:i.prices[0].cost})})}))})}))},addSizeCompositeLabel:function(e,t,i){var n="vect"===e.id?this.app.tr(r.VectImage):e.labels.short,o=1===t.length&&"vect"!==e.id?w.makeSizeLabel(t[0].attributes,e):"",s=i[e.id].every((function(t){return t.cost===i[e.id][0].cost}))?this.app.currency.get("list").get(this.app.user.get("enterprise").currencyId).parseAndFormat({amount:e.prices[0].cost}):"";return e.compositeLabel=[n,o,s].filter((function(e){return e})).join(" | "),e},onFormFieldChange:function(e){this.model.set(e.currentTarget.name,e.currentTarget.value)},onInputKeyPress:function(e){(e.which||e.keyCode)===a.enter&&(e.preventDefault(),e.stopPropagation(),this.onSubmitAndDownloadClick())},onFieldKeyUp:function(e){e.stopPropagation()},onFormSubmit:function(e){e.preventDefault()},onLicenseAndSizeChange:function(e){var t,i=e.currentTarget,n=i.name,o=i.value,s=e.currentTarget.dataset.type,a=this.model.get("licensing").get({type:s});a.set(((t={})[n]="licenseId"===n?+o:o,t.optionsBitMask=null,t)),"licenseId"===n&&a.set({size:""}),this.render()},onOptionCheck:function(e){var t=e.currentTarget.checked,i=e.currentTarget.dataset,n=i.type,o=i.bit,s=this.model.get("licensing").get(n);s.set({optionsBitMask:t?s.get("optionsBitMask")|o:s.get("optionsBitMask")^o}),this.render()},onSubmitClick:function(){this.$("._buttons").trigger("loading"),this.purchase()},onSubmitAndDownloadClick:function(){this.downloadAfterLicensing=!0,this.onSubmitClick()},onGeneralError:function(e){var t=e[0];17001===t.error_code?this.app.router.redirect(this.app.makeUrl("subscribe/billing",{backURL:!0,query:{product:"account"}})):63002===t.error_code?this.app.router.redirect(this.app.makeUrl("login",{protocol:"https",backURL:!0})):this.showError(t.error_code,t.error_message)},showError:function(e,t){var i=this,n=this.errorTitlesMap[e]?this.errorTitlesMap[t]:r.ServiceModalTitle,o=this.errorMessagesMap[e]?this.errorMessagesMap[t]:t;this.insertView("ServiceModal",new d({app:this.app,title:n,message:o,onHideCallback:function(){i.getView("ServiceModal")&&i.getView("ServiceModal").remove()}})).show()},showSummary:function(e,t){var i=this;void 0===e&&(e=[]),void 0===t&&(t=[]);var n=this.app.user.get("firstName")&&this.app.user.get("lastName")?this.app.user.get("firstName")+" "+this.app.user.get("lastName"):this.app.user.get("username");this.insertView("ServiceModal",new d({app:this.app,title:r.ServiceModalTitle,body:function(){return new h({data:{username:n,filesOk:e.length?e.map((function(e){return"#"+e.id})).join(", "):null,filesFail:t.length?t.map((function(e){return"#"+e.id})).join(", "):null,filesOkAmount:e.length,filesFailAmount:t.length}})},onHideCallback:function(){i.getView("ServiceModal")&&i.getView("ServiceModal").remove()}})).show()},purchase:function(){this.model.save({},{success:this.onLicenseSuccess.bind(this)})},onModelError:function(e,t){t.errors.length&&this.onGeneralError(t.errors)},parseLicensingResult:function(e){var t=[],i=[];return n.each(e,(function(e){"success"===e.result?t.push({id:e.fileId,link:e.downloadLink,transaction:e.transaction[0]}):i.push({id:e.fileId})})),[t,i]},handleLicensingResult:function(e,t){e.length&&!t.length?this.app.observer.fire("Notification",{type:"success",description:r.SuccessfullyLicensed}):this.showSummary(e,t)},handleLicensingResultAndDownload:function(e){1===this.files.length?e.length?y.singleDownload(this.app,n.first(e).link):this.app.observer.fire("Notification",{type:"error"}):y.sendFiles(this.app,e.map((function(e){return e.transaction.transactionId})),"transaction",{showModal:!0,errorCallback:this.onGeneralError.bind(this)})},onLicenseSuccess:function(e,t){if(this.$("._buttons").trigger("loaded"),"success"===t.status){this.app.user.fetch();var i=this.parseLicensingResult(t.result),n=i[0],o=i[1];this.downloadAfterLicensing?this.handleLicensingResultAndDownload(n,o):this.handleLicensingResult(n,o),this.trackSuccessLicense(e,n),this.onLicenseSuccessCallback(n,this.collection.serialize(),e.serialize(),this.downloadAfterLicensing)}},trackSuccessLicense:function(e,t){var i=this;void 0===t&&(t=[]);var n={id:"",size:"",route:this.app.router.routeName,cost_type:"enterprise",view:this.name},o=e.get("licensing");t.forEach((function(e){var t=o.findWhere({licenseId:e.transaction.license});i.app.observer.broadcast("Track:UE:File:License",Object.assign(n,{id:e.id,size:t.get("size"),file:i.collection.get(e.id)}))}))},onLicenseSuccessCallback:function(){}});Object.assign(_.prototype,g),e.exports=_}))},2516:function(e,t,i){},2517:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="license-wizard _wizard';if(e.unableToLicense&&(i+=" license-wizard_not-licensing"),i+='"><div class="license-wizard__wrapper"> ',e.unableToLicense)i+=' <div class="license-wizard__not-licensing-box"> <h2 class="license-wizard__not-licensing">'+e.unableMessage+"</h2> </div> ";else{i+='<div class="license-wizard__fan images-fan images-fan_size-l '+t(e.classNames)+'">';var n=e.files;if(n)for(var o,s=-1,a=n.length-1;s<a;)o=n[s+=1],i+='<div class="images-fan__item images-fan__item_'+(e.files.length-1-s)+' cmp-file-thumb cmp-file-thumb_l"><img alt="'+t(o.seoAlt)+'" src="'+o.thumbs.normal+'" class="images-fan__img',o.width>o.height?i+=" horizontal":o.width<o.height?i+=" vertical":i+=" square",i+='"></div>';e.files.length>e.maxFilesListCount&&(i+='<div class="images-fan__more">'+t(e.maxFilesListCount)+"+</div>"),i+='</div><h2 class="license-wizard__title">'+this.tr("Licensing Wizard")+'</h2><div class="license-wizard__form-box"><div class="license-wizard__form"><form method="POST"><div class="license-wizard__fields-scroll-box _scroll"><div class="license-wizard__fields">';var r=e.blocks;if(r)for(var l,c=-1,d=r.length-1;c<d;){if(l=r[c+=1],e.files.length>1&&(i+='<p class="files-amount">'+l.title+": "+t(l.filesCount)+"</p>"),i+='<label class="license-wizard__input license-wizard__input_plans-selector field-box select-box select-box-xl"><select class="select select-xl _license" name="licenseId" data-type="'+t(l.type)+'">',l.licenses.length){var u=l.licenses;if(u)for(var h,p=-1,f=u.length-1;p<f;)i+='<option value="'+t((h=u[p+=1]).id)+'" ',e.form.licensing[l.type].licenseId===h.id&&(i+=" selected"),i+=">"+t(h.name)+"</option>"}else i+="<option>"+this.tr("No Licenses")+"</option>";if(i+='</select><i class="arrow arrow-black arrow-bottom"></i></label><label class="license-wizard__input license-wizard__input_size-selector field-box select-box select-box-xl"><select class="select select-xl _size" name="size" data-type="'+t(l.type)+'">',l.sizes.length){var b=l.sizes;if(b)for(var m,v=-1,g=b.length-1;v<g;)i+='<option value="'+t((m=b[v+=1]).id)+'" ',e.form.licensing[l.type].size===m.id&&(i+=" selected"),i+=">"+m.compositeLabel+"</option>"}else i+="<option>"+this.tr("No Sizes")+"</option>";if(i+='</select><i class="arrow arrow-black arrow-bottom"></i></label>',l.options){i+='<div class="license-wizard__options">';var y=l.options;if(y)for(var w,_=-1,x=y.length-1;_<x;)i+='<div class="license-wizard__options-row">',0===(w=y[_+=1]).price?i+='<div class="license-wizard__free-option"><i class="icon license-wizard__free-option-icon"></i><span class="license-wizard__free-option-text">'+t(w.name)+'</span><span class="checkbox-text checkbox-text_option-price">'+this.tr("Included")+"</span></div>":(i+='<label class="field-box checkbox-box checkbox-box-m"><input type="checkbox" class="checkbox _option-checkbox" data-bit="'+t(w.bit)+'" data-type="'+t(l.type)+'" ',w.selected&&(i+=" checked"),i+='><i class="icon icon-checkbox icon-checkbox-m"></i><span class="checkbox-text">'+t(w.name)+'</span><span class="checkbox-text checkbox-text_option-price">'+w.formattedPrice+"</span></label>"),i+="</div>";i+="</div>"}}var k=e.fields;if(k)for(var T,C=-1,S=k.length-1;C<S;)"input"===(T=k[C+=1]).tag?i+='<label class="license-wizard__input field-box input-box input-box-xl"><input type="'+t(T.type)+'" class="input input-xl _field" placeholder="'+this.tr(T.placeholder)+'"name="'+t(T.name)+'" value="'+t(e.form.licensing[T.name]||"")+'"></label>':i+='<label class="license-wizard__input field-box textarea-box textarea-box-xl"><textarea class="textarea textarea-xl textarea-no-resize _field" placeholder="'+this.tr(T.placeholder)+'"name="'+t(T.name)+'">'+t(e.form.licensing[T.name]||"")+"</textarea></label>";i+="</div></div>",e.isTaxEnabled&&(i+='<div class="license-wizard__tax-included">'+e.taxTitle+"</div>"),i+='<h2 class="license-wizard__title-price">'+this.tr("Total")+": "+e.total+'</h2><div class="license-wizard__buttons-container _buttons',e.isTaxEnabled||(i+=" license-wizard__buttons-container-margin"),i+='"><div class="license-wizard__buttons-cell license-wizard__buttons-cell_confirm"><button type="submit"class="license-wizard__submit button button-xl button-black-blue button-imitation _submit',e.unableToLicense&&(i+=" disabled"),i+='"',e.unableToLicense&&(i+=" disabled"),i+=">"+this.tr("Confirm")+'</button></div><div class="license-wizard__buttons-cell"><button type="submit"class="license-wizard__submit button button-xl button-blue button-imitation _submit-download',e.unableToLicense&&(i+=" disabled"),i+='"',e.unableToLicense&&(i+=" disabled"),i+=">"+t(e.downloadBtnText)+"</button></div></div></form></div></div>"}return i+="</div></div>"}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},2518:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(2519),o=function(e){function i(t){var i;return i=e.call(this,t)||this,Object.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),{template:n},t),i}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(i,e),i.prototype.serialize=function(){return t.clone(this.data)},i}(i(556));e.exports=o}))},2519:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="license-wizard__message-box"><p class="modal__text">';return e.username?t+=""+this.tr("Dear %s!",e.username):t+=""+this.tr("Dear user!"),t+="</p>",e.filesOk&&(t+='<p class="modal__text"><i class="icon icon-round-ok"></i>',e.filesOkAmount>1?t+=""+this.tr("Files %s have been licensed successfully.",e.filesOk):t+=""+this.tr("File %s has been licensed successfully.",e.filesOk),t+="</p>"),e.filesFail&&(t+='<p class="modal__text"><i class="icon icon-round-fail"></i>',e.filesFailAmount>1?t+=""+this.tr("Files %s have not been licensed. Your account does not have sufficient funds to do this operation.",e.filesFail):t+=""+this.tr("File %s has not been licensed. Your account does not have sufficient funds to do this operation.",e.filesFail),t+="</p>"),t+="</div>"}})?n.apply(t,o):n)||(e.exports=s)},2520:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(6),o=i(34),s=i(51);e.exports=s.extend({url:"LicenseItem",defaults:{licensing:[],project:"",client:"",purchaseOrder:null,isbn:"",other:""},relations:{licensing:o.extend({model:n.extend({defaults:{type:"",fileIds:[],licenseId:null,size:"",optionsBitMask:null},idAttribute:"type"})})},getQueryParams:function(){return this.toJSON()},serialize:function(){var e=this.toJSON(),i={};return t.each(e.licensing,(function(e){i[e.type]=e})),e.licensing=i,e}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},2521:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(34),n=i(949);e.exports=t.extend({model:n})})?n.apply(t,o):n)||(e.exports=s)},3542:function(e,t,i){(function(n){var o,s,a;!function(n,r){s=[i(151)],void 0===(a="function"==typeof(o=r)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(t){"use strict";function o(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}t=function(e){return e&&e.__esModule?e:{default:e}}(t),i(3543),i(3544),i(2415),i(1609),i(2416);var s=i(0),a=i(3545),r=i(3546),l=i(3547),c=i(1851),d=i(3548),u=i(3549),h=i(1097).FileViewModals,p=i(15),f=i(646),b=i(1330),m=i(1884),v=i(97),g=i(1926),y=i(556),w=i(1060),_=i(1603),x=i(2515),k=i(1922),T=i(1924),C=i(1590),S=i(3550),M=i(1850),L=i(3553),E=i(1912),R=i(1915),F=i(3563),P=i(1524),z=i(34),I=w.extend({name:"FileViewModal",el:!1,template:a,single:!0,noBorder:!0,destroyOnHide:!0,classes:{},createDesignEnabled:!1,enableListThroughNavigation:!0,scrollTopOnRelatedClick:!0,needToUpdateHistoryState:!0,shouldTrackModalShow:!0,scrollContainer:"._modal-container",events:Object.assign({},w.prototype.events,{"click ._back":"onBackBtnClick","click ._nav-left":"leftNavigation","click ._nav-right":"rightNavigation"}),globals:{keyup:"onKeyup","scroll window":"scrollWindowToTop","touchmove document":"stopDefaultDocumentEvents","touchstart body":"scrollContainerToTop","touchmove body":"stopCurrentEventPropagation"},initialize:function(){w.prototype.initialize.call(this),this.userPlansManager=new v({fileTypes:[this.model.get("type")]},{app:this.app}),this.shouldHideTitle=h(this.app).shouldHideTitle,this.relatedHistory=new z([],{app:this.app})},prepareRender:function(){var e=this,t=this.model.serialize(),i=t.type,o=t.url;if(this.app.observer.fire("ToTopButton:Toggle",{state:!1}),w.prototype.prepareRender.call(this),this.createDesignEnabled=this.canShowCreateDesign(),n.browser&&(window.rc=[0,0,0,0]),this.app.features.isFeatureEnabled("New related files for each item",2)&&(this.enableListThroughNavigation=!1),this.userPlansManager.set({fileTypes:[i]}),this.isLicenseWizardOpen()){var s=this.onWindowResize.bind(this);this.setViews({"._modal":new x({app:this.app,files:[this.model],onLicenseSuccessCallback:this.onLicenseSuccess.bind(this),clientAfterRender:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];x.prototype.clientAfterRender.apply(this,t),s()}})})}else this.setViews({"._file-view-thumb":new E({viewMode:"modal",model:this.model,collection:this.collection,enableListThroughNavigation:this.enableListThroughNavigation,isFirstItem:this.isFirstItem.bind(this),isLastItem:this.isLastItem.bind(this),shouldFixFrameSize:!0,zoomDownloadCallback:this.zoomDownloadCallback.bind(this),zoomShowCallback:this.zoomShowCallback.bind(this),zoomHideCallback:this.zoomHideCallback.bind(this),zoomLeftCallback:this.zoomLeftCallback.bind(this),zoomRightCallback:this.zoomRightCallback.bind(this),rightEdgeCallback:this.rightEdgeCallback.bind(this),leftEdgeCallback:this.leftEdgeCallback.bind(this),app:this.app,views:this.getThumbViews(o)}),"._find-similar":this.getFindSimilarView(),"._design":this.getCreateDesignView(),"._title":new R({template:r,viewMode:"modal",model:this.model,title:this.model.get("title")}),"._seller":this.getSellerView(),"._download-method-selector":new _({app:this.app,viewMode:"modal",classNames:"download-method_bordered",userPlansManager:this.userPlansManager,shouldBeShown:function(){return!e.model.isBannedForCountry()}}),"._file-view-bottom":[new L({app:this.app,model:this.model,history:this.relatedHistory,onRelatedClickCallback:this.setRelatedByClick.bind(this),onBackClickCallback:this.setRelated.bind(this),onChangeTabCallback:this.onChangeBottomTab.bind(this),onRelatedReadyCallback:this.onRelatedReady.bind(this),toggleLoader:this.toggleLoader.bind(this)}),new y({el:!1,template:l,name:"RelatedLoader"})],"._history-nav":this.getBackView()});this.setView("._price-table",new C({app:this.app,file:this.model,viewMode:"modal",isTrialButtonEnabled:!0,userPlansManager:this.userPlansManager,onLicenseBtnClick:this.openLicenseWizard.bind(this),buttonClassNames:"button-pill button-large-padding",onDownloadStart:function(){document.querySelector(e.scrollContainer).scrollTop=0},classNames:p.classNames({"price-table-classic_black":!0,"price-table-classic_one-size":this.app.features.isFeatureEnabled("Single pay for multiple sizes",1)}),footerClassNames:p.classNames({"price-table-classic__footer":!0,"price-table-classic__footer_es":this.app.user.isEnterprise(),"price-table-classic__footer_modal":!0}),licenseButtonClassNames:"button-pill"}))},serialize:function(){this.classes={"file-view-modal_image-max-thumb":"video"!==this.model.get("type")&&this.app.features.isFeatureOnValue("File View Modal Image Max Thumb"),"file-view-modal_huge-video":this.model.get("hasHugeVideoThumb"),"file-view-modal_wizard":this.isLicenseWizardOpen(),"file-view-modal_lock":this.isAvailableEnterpriseOnly(),"file-view-modal_es":this.app.user.isEnterprise(),"file-view-modal_without-title":this.shouldHideTitle,"file-view-modal_video":"video"===this.model.get("type")};var e=this.checkDirection();return{file:this.model.serialize(),isNavigationLeftDisplay:e.left,isNavigationRightDisplay:e.right,isAvailableNavigation:this.enableListThroughNavigation,isNavigationVisual:this.app.features.isFeatureOnValue("File Navigation with Thumbs"),navLeftThumb:e.left?this.getDirectionThumb("prev"):null,navRightThumb:e.right?this.getDirectionThumb("next"):null,classNames:p.classNames(this.classes),createDesignEnabled:this.createDesignEnabled,isLicenseWizardOpen:this.isLicenseWizardOpen(),isAvailableEnterpriseOnly:this.isAvailableEnterpriseOnly(),similarUrl:this.model.makeRelatedUrl({relatedTo:"similar"}),fileViewClasses:p.classNames({hidden:this.isLicenseWizardOpen(),"file-view_bg-black":!0,"file-view_has-methods":this.hasMethods(),"file-view_classic":!0})}},clientAfterRender:function(){this.shouldTrackModalShow&&this.trackModalShow();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];w.prototype.clientAfterRender.apply(this,t),this.updateFileInfo(),this.afterRenderCallback(this.model.id),this.saveMobileScrollPosition()},show:function(e){var i=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(n,s){var a=e.apply(t,i);function r(e){o(a,n,s,r,l,"next",e)}function l(e){o(a,n,s,r,l,"throw",e)}r(void 0)}))}}(t.default.mark((function n(){var o;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),t.next=3,P.fetch(i.app);case 3:o=e.model||i.model,{}.hasOwnProperty.call(e,"shouldTrackModalShow")||(e.shouldTrackModalShow=!0),w.prototype.show.call(i,e),i.storeFileViewModalAsLastViewed&&g.write({itemId:o.id},{app:i.app}),i.needToUpdateHistoryState&&i.updateHistoryState(o.id,e.replaceState),i.app.history.write({route:"FileViewModal"}),e.shouldSaveRelatedHistory||i.relatedHistory.reset();case 10:case"end":return t.stop()}}),n)})))()},hide:function(){return this.updateHistoryState(null,!1),this.app.history.write({route:this.app.router.routeName}),this.isLicenseWizardOpened=!1,this.setMobileScrollPosition(),this.relatedHistory.reset(),w.prototype.hide.call(this)},checkDirection:function(){return{left:this.enableListThroughNavigation&&!this.isFirstItem(this.model.id),right:this.enableListThroughNavigation&&!this.isLastItem(this.model.id)}},canNavigate:function(){return"body"===document.activeElement.tagName.toLowerCase()&&!this.zoomModalEnabled},onHideCallback:function(){this.app.observer.fire("ToTopButton:Toggle",{state:!0})},zoomShowCallback:function(e){this.zoomModalEnabled&&this.updateHistoryState(e,!1),this.zoomModalEnabled=!0,this.$el.find("._modal").addClass("file-view-modal_hidden")},zoomHideCallback:function(e){this.zoomModalEnabled=!1,this.isTrackModalShow=this.shouldTrackModalShow,this.$el.find("._modal").removeClass("file-view-modal_hidden"),this.app.observer.broadcast("Track:UE:FileViewModal:Ready",{file:this.model,view:this.name,source:{source:"closeZoom",action:"click",pagetype:"zoom"}}),e&&e.get("id")!==this.model.get("id")&&this.show({model:e,shouldTrackModalShow:!1,shouldSaveRelatedHistory:!1})},zoomLeftCallback:function(){this.onLeftNavigation()},zoomRightCallback:function(){this.onRightNavigation()},canShowCreateDesign:function(){return this.app.features.isFeatureOnValue("Create Design")&&!this.app.user.isEnterprise()&&"image"===this.model.get("type")&&!this.model.get("editorial")},getFindSimilarView:function(){if(this.model.isBannedForCountry())return[];var e=this.model.get("type");return new k({app:this.app,template:c,file:this.model,iconClassNames:p.classNames({"icon-see-more-videos-light":"video"===e,"icon-see-more-images-light":"video"!==e})})},getCreateDesignView:function(){return this.model.isBannedForCountry()||!this.canShowCreateDesign()?[]:new T({app:this.app,template:d,model:this.model,classNames:p.classNames({"create-design_modal":!0}),iconClassNames:p.classNames({"icon-create-design-light":!0})})},setRelatedByClick:function(e){this.setRelated(e),this.shouldLoadRelatedForEachFile()||this.app.observer.broadcast("Track:UE:FileViewModal:RelatedClick",{file:this.model,view:this.name})},setRelated:function(e){var t=this,i=this.findView("ProductsTooltip");this.$("._file-view-container").toggleClass("file-view-video-huge",e.get("hasHugeVideoThumb")),s.each(s.omit(this.views,["._file-view-bottom",""]),(function(i){i.model&&i.model.get("id")===e.get("id")||(["PriceTable","SearchSimilarFiles"].includes(i.name)?Object.assign(i,{file:e}):Object.assign(i,{model:e}),i.render().promise().then((function(){f.mobileMode()&&t.app.observer.fire("Modal:CheckSize")})))})),this.shouldLoadRelatedForEachFile()&&Object.assign(this.findView("FileViewBottomModal"),{model:e,shouldStayOnActiveTab:this.app.features.isFeatureEnabled("New related files for each item",2)}).render(),g.write({itemId:e.get("id")},{app:this.app}),this.model=e,i&&i.detach(),this.scrollTopOnRelatedClick&&f.mobileMode()&&this.$el.delay(200).animate({scrollTop:0},300,"swing"),document.activeElement.blur()},updateFileInfo:function(){this.getView("FileViewBottomModal")&&this.getView("FileViewBottomModal").updateFileInfo(this.model)},openLicenseWizard:function(){return this.isLicenseWizardOpened=!0,this.render()},closeLicenseWizard:function(){return this.isLicenseWizardOpened=!1,this.render()},onLicenseSuccess:function(e,t,i,n){var o=e[0]&&e[0].transaction;if(o){var s=(this.model.get("licensed")||[]).slice();s.push(o),this.model.set({licensed:s})}this.closeLicenseWizard(),this.onLicenseSuccessCallback.call(this,e,t,i,n)},shouldLoadRelatedForEachFile:function(){return this.app.features.isFeatureEnabled("New related files for each item",1)||this.app.features.isFeatureEnabled("New related files for each item",2)},isLicenseWizardOpen:function(){return!!this.isLicenseWizardOpened},hasMethods:function(){return!s.isEmpty(this.userPlansManager.get("available"))},isAvailableEnterpriseOnly:function(){return!this.app.user.isEnterprise()&&this.model.isAvailableEnterpriseOnly()},zoomDownloadCallback:function(e){this.findView("PriceTable").onDownloadClick(e)},toggleLoader:function(e){this.findView("RelatedLoader").$el.toggleClass("hidden",!e)},trackModalShow:function(){var e=this.findView("PriceTable");this.app.observer.broadcast("Track:UE:FileViewModal:Show",{id:this.model.get("id"),file:this.model.serialize(),userProducts:this.userPlansManager.get("available"),query:this.app.store.get("SearchQuery").get("query")+"-"+this.model.get("id"),sorting:this.app.store.get("SearchQuery").get("sorting"),activeTableRow:e&&e.getActiveTableRowData(),subtype:"total",view:this.name}),this.app.observer.broadcast("Track:UE:FileViewModal:DownloadShow")},onChangeBottomTab:function(){this.onChangeRelatedTabCallback()},onBackBtnClick:function(){this.closeLicenseWizard()},onRelatedReady:function(){!this.zoomModalEnabled&&this.shouldTrackModalShow&&this.app.observer.broadcast("Track:UE:FileViewModal:Ready",{file:this.model,view:this.name}),this.isTrackModalShow&&(this.shouldTrackModalShow=this.isTrackModalShow),this.onRelatedReadyCallback()},getSellerView:function(){return this.shouldHideTitle?new M({template:u,model:this.model,app:this.app,viewMode:"modal"}):[]},getThumbViews:function(e){var t={};return this.shouldHideTitle&&(t["._to-page"]=new S({app:this.app,model:this.model,url:e})),t},getBackView:function(){return this.app.features.isFeatureEnabled("New related files for each item",2)?new F({app:this.app,history:this.relatedHistory,model:this.model,onClickCallback:this.setRelated.bind(this)}):[]},isFirstItem:function(){return!0},isLastItem:function(){return!0},updateHistoryState:function(){},onLeftNavigation:function(){},onRightNavigation:function(){},afterRenderCallback:function(){},onRelatedReadyCallback:function(){},onLicenseSuccessCallback:function(){},onChangeRelatedTabCallback:function(){},leftEdgeCallback:function(){},rightEdgeCallback:function(){}});Object.assign(I.prototype,b,m),e.exports=I}))}).call(this,i(23))},3543:function(e,t,i){},3544:function(e,t,i){},3545:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="modal-container modal-container_lock-h-scroll _modal-container"><div class="file-view-modal _modal '+t(e.classNames)+'"><div class="file-view-notice _notice"></div><div class="file-view _file-view-container '+t(e.fileViewClasses)+'"><div class="file-view__header-box"><div class="file-view__title-box _title"></div><div class="file-view__seller-box _seller"></div></div><div class="file-view__left"><div class="file-view__thumb _file-view-thumb"></div><div class="file-view__links"><div class="file-view__link _find-similar"></div>';return e.createDesignEnabled&&(i+='<div class="file-view__link file-view__link_design _design"></div>'),i+='</div></div><div class="file-view__right"><div class="file-view__download-method _download-method-selector"></div><div class="file-view__price-table-wrapper _price-table"></div></div><div class="file-view__bottom-wrapper _file-view-bottom"></div></div>',e.isAvailableEnterpriseOnly&&(i+='<div class="file-view-lock"><div class="file-view-lock__wrap"><div class="file-view-lock__content"><span class="file-view-lock__text">'+this.tr("This file is available under Enterprise account only")+'</span><a class="file-view-lock__link button button-5xl button-watery button-blue" href="'+this.app.makeUrl("enterprise")+'" target="_blank">'+this.tr("Enterprise Solution")+"</a></div></div></div>"),e.isAvailableNavigation&&(i+='<div class="file-nav',e.isNavigationVisual&&(i+=" file-nav_visual"),i+='">',e.isNavigationVisual?(e.isNavigationLeftDisplay&&(i+='<i class="file-nav__item file-nav__item_left _nav-left"',e.navLeftThumb&&(i+=' style="background-image: url('+t(e.navLeftThumb)+');"'),i+="></i>"),e.isNavigationRightDisplay&&(i+='<i class="file-nav__item file-nav__item_right _nav-right"',e.navRightThumb&&(i+=' style="background-image: url('+t(e.navRightThumb)+');"'),i+="></i>")):(e.isNavigationLeftDisplay&&(i+='<i class="file-nav__item file-nav__item_left button-nav button-nav-left _nav-left"></i>'),e.isNavigationRightDisplay&&(i+='<i class="file-nav__item file-nav__item_right button-nav button-nav-right _nav-right"></i>')),i+="</div>"),i+='<a class="file-view__btn-back _back"><i class="license-wizard__back-arrow icon arrow-back-white _back"></i>'+this.tr("Back")+'</a><div class="modal__close-circle _close"><i class="icon icon-close-cross icon-close-cross-white"></i></div><div class="file-view__history-nav _history-nav"></div></div></div>'}})?n.apply(t,o):n)||(e.exports=s)},3546:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<h1 class="file-view__title"><a class="file-view__title-link file-view__title-file _title-file" href="'+e.file.url+'">'+t(e.title)+"</a></h1>"}})?n.apply(t,o):n)||(e.exports=s)},3547:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="file-view__loading hidden _loader"><div class="file-view__loading-icon icon icon-loader"><i class="part-circle1"></i><i class="part-circle2"></i><i class="part-circle3"></i></div></div>'}})?n.apply(t,o):n)||(e.exports=s)},3548:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<div class="file-view__link-content create-design '+t(e.classNames)+'"><button class="file-view__link-button button _btn"><i class="create-design__icon icon '+t(e.iconClassNames)+'"></i><span class="create-design__text">'+t(e.btnText)+"</span></button></div>"}})?n.apply(t,o):n)||(e.exports=s)},3549:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<div class="seller-info"><a class="seller-info__link seller-info__link_avatar _portfolio" href="'+e.portfolioLink+'"><img class="avatar avatar-s" src="'+e.avatar+'" alt="'+t(e.file.sellerName)+'">'+this.tr("By")+":"+this.seo.space+'<span class="seller-info__text">'+t(e.file.sellerName)+'</span></a><a class="seller-info__link" href="'+e.file.url+'">'+this.tr("ID")+":"+this.seo.space+'<span class="seller-info__text">'+t(e.file.id)+"</span></a></div>"}})?n.apply(t,o):n)||(e.exports=s)},3550:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(3551),n=i(556),o=i(558);i(3552),e.exports=n.extend({el:!1,name:"NewWindowLink",template:t,url:"",title:null,model:null,tooltipParams:{displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bl",templateOffset:{top:0,left:-13}},events:{click:"handleClick",mouseenter:"handleMouseEnter",mouseleave:"handleMouseLeave"},serialize:function(){return{url:this.url,title:this.title}},handleClick:function(){this.app.observer.broadcast("Track:UE:NewWindowLink:Click",{model:this.model})},handleMouseEnter:function(e){var t=this;this.setNotExistView("tooltip",o,{params:this.tooltipParams,classes:{"new-window-tooltip":!0},content:new n({el:!1,template:function(){return t.tr("Open in new window")}})}).show(e)},handleMouseLeave:function(){this.safeRemoveView("tooltip")}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},3551:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="new-window-link file-action-btn file-action-btn_link" target="_blank" href="'+e.url+'">';return e.title&&(i+=""+t(e.title)),i+="</a>"}})?n.apply(t,o):n)||(e.exports=s)},3552:function(e,t,i){},3553:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(3554),o=i(3555),s=i(3556),a=i(3557),r=i(3558),l=i(0),c=i(26),d=i(1097).FileViewModals,u=i(556),h=i(1918),p=i(3559),f=i(3561),b=i(1850),m=i(2140),v=i(938),g=i(3562),y=i(646),w=function(e){return[{key:"similar",type:"image",originalLabel:"Similar Images",label:e.tr("Similar Images")},{key:"similar",type:"vector",originalLabel:"Similar Images",label:e.tr("Similar Images")},{key:"similar",type:"video",originalLabel:"Similar Videos",label:e.tr("Similar Videos")},{key:"model",type:"all",originalLabel:"With the Same Model",label:e.tr("With the Same Model")},{key:"series",type:"all",originalLabel:"In the Same Series",label:e.tr("In the Same Series")},{key:"series",type:"author",originalLabel:"Same Author",label:e.tr("Same Author")},{key:"info",type:"all",originalLabel:"File Info",label:e.tr("File Info")}]},_={models:"model",similarVideos:"similar-videos"},x={video:5,image:8,vector:8},k=["models","series","similar"],T=u.extend({name:"FileViewBottomModal",el:!1,template:n,viewMode:"modal",related:[],relatedCounter:0,isCartBtnEnabled:!0,isFavoriteBtnEnabled:!0,categories:!0,shouldStayOnActiveTab:!1,preferActiveTab:null,initialize:function(){var e=this;this.related=[].concat(k),this.shouldStayOnActiveTab&&(this.preferActiveTab=this.tabs.getActiveTab().get("key")),this.shouldShowSimilarVideosTab()&&!this.related.includes("similarVideos")&&this.related.push("similarVideos"),this.related.forEach((function(t){e[t]=new m([],{app:e.app,relatedTo:e.parseRelated(t),limit:e.getRelatedFilesCustomLimit(t)}),e.listenTo(e[t],"sync",e.checkRelated)}))},prepareRender:function(){var e=this;this.tabs=this.makeFileViewModalTabs(),this.isMobileMode=this.isMobileModeEnabled(),this.shouldHideInfoTab()&&this.setMatchMedia((function(){e.tabs.changeActiveTab(0),e.showActiveTab(),e.changeTabCallback()}));var i=this.model.isVideo(),n={app:this.app,viewMode:this.viewMode,model:this.model,template:r,className:"file-view__related hidden _related",limitClassName:"file-view__related_limit",thumbListHolderWidth:990,isPictureTagEnabled:!1,isCartBtnEnabled:this.isCartBtnEnabled,isFavoriteBtnEnabled:this.isFavoriteBtnEnabled,layout:i?"wideSmall":"normalSquare",displaySeeMoreAsLink:i,displaySeeMoreAsThumb:!i,getMaxRows:function(){return 1},onFileClickCallback:this.onRelatedFileClickCallback.bind(this)},l=[new f({scheme:this.tabs,template:o,changeTabCallback:function(){var t=e.tabs.getActiveTab().get("key");"back"!==t?(e.showActiveTab(),e.changeTabCallback(),e.trackFilesImpression(t)):e.handleRelatedBack()}}),new h(t({},n,{relatedMode:"model",collection:this.models,clientAfterRenderCallback:this.tabsAfterRender.bind(this,"models")})),new h(t({},n,{relatedMode:"series",collection:this.series,clientAfterRenderCallback:this.tabsAfterRender.bind(this,"series")})),new h(t({},n,{relatedMode:"similar",collection:this.similar,getMaxRows:this.getMaxRows.bind(this,this.similar),clientAfterRenderCallback:this.tabsAfterRender.bind(this,"similar")})),new p({template:a,app:this.app,relatedMode:"categories",model:this.model,viewMode:this.viewMode,clientAfterRenderCallback:this.tabsAfterRender.bind(this,"categories")}),new b({viewMode:this.viewMode,template:s,app:this.app,model:this.model})];this.shouldShowSimilarVideosTab()&&l.push(new h(t({},n,{layout:"wideSmall",displaySeeMoreAsLink:!1,displaySeeMoreAsThumb:!1,relatedMode:this.parseRelated("similarVideos"),collection:this.similarVideos,getMaxRows:function(){return 1},clientAfterRenderCallback:this.tabsAfterRender.bind(this,"similarVideos")}))),this.resetRelated(),this.setViews({"":l})},serialize:function(){return{opacity:0}},clientAfterRender:function(){this.$("._related").addClass("hidden"),this.toggleLoader(!0),this.setRelatedStore(this.model.get("id")),window.rc=[0,0,0,0]},setRelatedStore:function(e){var t=this;return l.each(this.related,(function(i){t[i].store.id=e})),c.$.when(l.map(this.related,(function(e){return t[e].fetch()})))},resetRelated:function(){var e=this;l.each(this.related,(function(t){return e[t].reset()}))},checkRelated:function(){var e=this;if(this.relatedCounter===this.related.length-1){var t=0;this.toggleLoader(!1),this.el.style.opacity="",this.tabs.findWhere({key:"similar"}).set({active:!1}),l.each(this.related,(function(t){var i=e.tabs.findWhere({key:e.parseRelated(t)});i&&i.set({enabled:!!e[t].length},{silent:!0})}));var i=this.app.features.isFeatureOnValue("Lightfield files tabs priority");this.tabs.where({enabled:!0}).forEach((function(n,o){e.preferActiveTab===n.get("key")&&(t=o,e.alreadySetDefaultIndex=!0),i&&!e.alreadySetDefaultIndex&&e.model.get("lightfield")&&("model"!==n.get("key")&&"series"!==n.get("key")||(t=o,e.alreadySetDefaultIndex=!0))})),this.app.features.isFeatureEnabled("New related files for each item",1)&&this.history.length>0&&(this.tabs.findWhere({key:"back"}).set({enabled:!0}),t+=1),this.tabs.changeActiveTab(t),this.showTab(this.tabs.getActiveTab().get("key")),this.onRelatedReadyCallback(),this.relatedCounter=0}else this.relatedCounter+=1},changeTabCallback:function(){this.app.observer.broadcast("Track:UE:FileViewModal:TabChange",{file:this.model.serialize(),tab:this.tabs.getActiveTab().serialize()}),this.onChangeTabCallback()},showTab:function(){this.$("._related").addClass("hidden").filter('[data-tab="'+this.tabs.getActiveTab().get("key")+'"]').removeClass("hidden")},showActiveTab:function(){var e=this.tabs.getActiveTab().get("key");this.showTab(e),y.mobileMode()&&this.app.observer.fire("Modal:CheckSize")},tabsAfterRender:function(e){(this[e]||this[e].length>0)&&this.showActiveTab()},makeFileViewModalTabs:function(){var e=this,i=[t({enabled:!1},w(this.app).find((function(t){return"similar"===t.key&&t.type===e.model.get("type")}))),t({enabled:!1},w(this.app).find((function(e){return"series"===e.key&&"author"===e.type}))),t({enabled:!1},w(this.app).find((function(e){return"model"===e.key&&"all"===e.type}))),t({enabled:!0},w(this.app).find((function(e){return"info"===e.key&&"all"===e.type})))];return this.app.features.isFeatureEnabled("New related files for each item",1)&&i.unshift({key:"back",enabled:!1,originalLabel:"Back",label:this.tr("Back"),classes:"view-tabs__item_back",icon:"arrow-pager-previous"}),this.shouldShowSimilarVideosTab()&&i.splice(1,0,t({enabled:!1},w(this.app).find((function(e){return"similar"===e.key&&"video"===e.type})),{key:this.parseRelated("similarVideos")})),new g(i)},shouldHideInfoTab:function(){return d(this.app).shouldHideTitle&&"video"!==this.model.get("type")&&!this.model.get("editorial")},trackFilesImpression:function(e){var t=this.findViews("RelatedFilesList").filter((function(t){return t.relatedMode===e}))[0];t&&t.trackImpression()},updateFileInfo:function(e){var t=this.findView("FileInfo");t.model.get("id")!==e.get("id")&&(Object.assign(t,{model:e}),t.render())},onRelatedFileClickCallback:function(e,t){t&&(e.preventDefault(),e.stopPropagation(),this.app.observer.broadcast("Track:UE:FileViewModal:Open",{file:t.serialize(),route:"FileViewModal",view:this.name}),this.updateFileInfo(t),this.history.add(this.model),this.onRelatedClickCallback(t))},handleRelatedBack:function(){if(0!==this.history.length){var e=this.history.at(this.history.length-1);this.history.remove(e),this.app.observer.broadcast("Track:UE:FileViewModal:Back",{file:e.serialize(),mode:this.tabs.getActiveTab().get("key"),view:this.name,sourceFile:this.model}),this.onBackClickCallback(e)}},parseRelated:function(e){return _[e]||e},getRelatedFilesCustomLimit:function(e){return{similar:this.getSimilarFilesCustomLimit(),similarVideos:x.video}[e]||null},getSimilarFilesCustomLimit:function(){var e=this.getImageSimilarRowsCount()*x.image;return{video:this.getVideoSimilarRowsCount()*x.video,image:e,vector:e}[this.model.get("type")]||null},getMaxRows:function(e){var t=x[this.model.get("type")],i=this.getMaxRelatedRows();return e.length<=t||e.length>=t&&e.length<t*i?1:i},shouldShowSimilarVideosTab:function(){return this.app.features.isFeatureOnValue("FileView modal similar videos")&&!this.model.isVideo()},getMaxRelatedRows:function(){var e=1;return this.model.isVideo()?e=this.getVideoSimilarRowsCount():(this.model.isImage()||this.model.isVector())&&(e=this.getImageSimilarRowsCount()),e},getVideoSimilarRowsCount:function(){return this.app.features.getFeatureValue("Similar videos max rows count")},getImageSimilarRowsCount:function(){return this.app.features.getFeatureValue("Similar images max rows count")},toggleLoader:function(){},onChangeTabCallback:function(){},onRelatedClickCallback:function(){},onBackClickCallback:function(){},onRelatedReadyCallback:function(){}});Object.assign(T.prototype,v),e.exports=T}))},3554:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="file-view__bottom" style="opacity: '+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}())(e.opacity)+'"></div>'}})?n.apply(t,o):n)||(e.exports=s)},3555:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<ul class="file-view__tabs view-tabs view-tabs_light">',n=e.scheme;if(n)for(var o,s=-1,a=n.length-1;s<a;)(o=n[s+=1]).enabled&&(i+='<li class="view-tabs__item _tab',o.active&&(i+=" view-tabs__item_active"),o.classes&&(i+=" "+t(o.classes)),i+='" data-key="'+t(o.key)+'">',o.icon&&(i+='<i class="view-tabs__icon icon '+t(o.icon)+'"></i>'),i+=o.label+"</li>");return i+="</ul>"}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},3556:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="file-view__info-wrapper hidden _related" data-tab="info"><div class="file-view__container"><div class="file-view__info"><div class="file-view__info-line"><span class="file-view__info-name">';return"video"===e.file.type?i+=""+this.tr("Clip ID"):"vector"===e.file.type?i+=""+this.tr("Vector ID"):e.file.editorial?i+=""+this.tr("Photography ID"):i+=""+this.tr("Image ID"),i+=':</span><span class="file-view__info-value"><a class="link-white _link" href="'+e.file.url+'" data-target="file">'+t(e.file.id)+'</a></span></div><div class="file-view__info-line"><span class="file-view__info-name">'+this.tr("Copyright")+':</span><span class="file-view__info-value"><a class="link-white _link" href="'+e.portfolioLink+'" data-target="portfolio"><span>'+t(e.file.sellerName)+"</span></a></span></div>","video"===e.file.type&&(i+='<div class="file-view__info-line"><span class="file-view__info-name">'+this.tr("Length")+':</span><span class="file-view__info-value">'+t(e.file.mp)+' s</span></div><div class="file-view__info-line"><span class="file-view__info-name">'+this.tr("Aspect Ratio")+':</span><span class="file-view__info-value">'+t(e.file.ar)+"</span></div>"),e.file.editorial&&(i+='<div class="file-view__info-line"><span class="file-view__info-name">'+this.tr("Release Information")+':</span><span class="file-view__info-value"><span class="file-view__info-editorial-title">'+this.tr("Editorial Use Only.")+'</span><span class="file-view__info-editorial">'+this.tr("Use of this image in advertising or for promotional purposes is prohibited.")+'<i class="file-view__info-help icon icon-help _editorial-tooltip"></i></span></span></div>'),i+="</div></div></div>"}})?n.apply(t,o):n)||(e.exports=s)},3557:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="file-view__related file-view__related_categories hidden _related" data-tab="'+t(e.relatedMode)+'"><div class="related-item__content related-item__content_category"><ul class="related-item__list"><li class="related-item__list-item _poster-box"></li>';if(e.file.categories.length){var n=e.file.categories;if(n)for(var o,s=-1,a=n.length-1;s<a;)i+='<li class="related-item__list-item _item"><a class="related-item__category" href="'+(o=n[s+=1]).url+'"style="background-image: url('+t(this.app.cdnPath)+"_img/categories/"+t(o.alias)+'.jpg)"><span class="related-item__category-text">'+o.name+"</span></a></li>"}return i+="</ul></div></div>"}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},3558:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="'+t(e.layoutClassName)+'" data-tab="'+t(e.relatedMode)+'">';return e.title&&(i+='<h2 class="files-container__title related-item__title ',e.seeMoreData&&(i+=" files-container__title_see-more"),i+='">'+t(e.title)+"</h2>"),i+='<div class="_files-list"></div>',e.seeMoreData&&(e.seeMoreData.pseudo?i+='<span class="files-container__see-more-link link-blue _see-more _link" data-seolink="'+e.seeMoreData.url+'">'+e.seeMoreData.text+'<i class="files-container__see-more-icon icon icon-link-blue-dark"></i></span>':i+='<a class="files-container__see-more-link link-blue-on-dark _see-more" href="'+e.seeMoreData.url+'">'+e.seeMoreData.text+'<i class="files-container__see-more-icon icon icon-link-blue"></i></a>'),i+="</div>"}})?n.apply(t,o):n)||(e.exports=s)},3559:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(65).getCategoriesWithUrl,o=i(3560),s=i(939),a=i(624),r=i(1917),l=i(556),c=i(1173),d=i(859),u=i(944);e.exports=l.extend({name:"RelatedContentDefault",el:!1,relatedMode:void 0,viewMode:"modal",events:{"click ._item":"onSeriesBoxClick","contextmenu ._item":"onSeriesBoxCustomClick","mouseup ._item":"onSeriesBoxCustomClick"},initialize:function(){this.file=new d({id:this.model.get("id")},{app:this.app}),this.listenTo(this.file,"sync",this.render),this.file.fetch({parser:"parseFromFile"}),this.series=new u(t.extend({},t.findWhere(s.series,{name:"curatedCollectionPoster"}),{lang:this.app.lang}),{app:this.app}),this.listenTo(this.series,"sync",this.render),this.series.fetch()},prepareRender:function(){var e=this;this.insertView("._poster-box",new c({app:this.app,template:r,model:this.series,onSeriesBoxClick:function(t){return e.onSeriesBoxClick(t)},onSeriesBoxCustomClick:function(t){return e.onSeriesBoxCustomClick(t)}}))},serialize:function(){var e=t.clone(this.file.attributes);return e.categories=this.prepareCategories(e.categories),{file:e,relatedMode:this.relatedMode}},clientAfterRender:function(){this.clientAfterRenderCallback()},trackClick:function(e){this.app.observer.broadcast("Track:UE:File:CategoriesClick",Object.assign({mode:"modal"},e))},trackNewTabClick:function(e){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"Categories",target:{target:"search"},params:{mode:"modal",type:"collection",text:e.text,position:e.position}})},toTracking:function(){return[this.series.serialize()].concat(this.prepareCategories(this.file.get("categories")))},prepareCategories:function(e){var i=t.clone(e)||[],s=e?3-e.length:3,a=t.clone(e)||[];return s>0&&(t.each(e||[],(function(e){o[e]&&t.each(o[e].similar,(function(e){i.push(e)}))})),a=t.difference(t.uniq(i),e),a=t.union(e,t.shuffle(a).slice(0,s))),n(this.app,a)},onSeriesBoxClick:function(e){var t=this.$(e.currentTarget),i={position:t.index()+1,text:t.text()};e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick(i):this.trackClick(i)},onSeriesBoxCustomClick:function(e){if([a.rightMouse,a.middleMouse].includes(e.which)){var t=this.$(e.currentTarget),i={position:t.index()+1,text:t.text()};this.trackNewTabClick(i)}},clientAfterRenderCallback:t.noop})}))},3560:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports={6:{similar:[34,37]},7:{similar:[18,42]},8:{similar:[13,23]},9:{similar:[15,16]},10:{similar:[12,29]},11:{similar:[10,33]},12:{similar:[10,29]},13:{similar:[8,30]},14:{similar:[13,22]},15:{similar:[9,16]},16:{similar:[9,15]},17:{similar:[25,36]},18:{similar:[7,42]},19:{similar:[10,35]},20:{similar:[16,35]},21:{similar:[34,37]},22:{similar:[36,39]},23:{similar:[8,15]},24:{similar:[10,12]},25:{similar:[17,44]},26:{similar:[29,42]},27:{similar:[8,13]},28:{similar:[18,42]},29:{similar:[10,12]},30:{similar:[8,13]},31:{similar:[8,29]},32:{similar:[17,29]},33:{similar:[10,11]},34:{similar:[6,21]},35:{similar:[19,20]},36:{similar:[17,22]},37:{similar:[6,21]},38:{similar:[22,44]},39:{similar:[22,29]},41:{similar:[8,30]},42:{similar:[7,18]},43:{similar:[13,30]},44:{similar:[22,25]}}})?n.apply(t,o):n)||(e.exports=s)},3561:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(26),o=i(556);e.exports=o.extend({name:"FileViewModalTabs",el:!1,events:{"click ._tab":function(e){e.stopPropagation(),this.changeActiveTab(Math.max(n.$(e.currentTarget).index(),0))}},initialize:function(){t.findWhere(this.scheme,{active:!0})||t.first(this.scheme.getEnabled()).set({active:!0}),this.listenTo(this.scheme,"change",this.render)},serialize:function(){return{scheme:this.scheme.toJSON()}},toTracking:function(){return this.scheme.filter((function(e){return e.get("enabled")}))},changeActiveTab:function(e){this.scheme.changeActiveTab(e),this.changeTabCallback()},changeTabCallback:t.noop})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},3562:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(34);e.exports=t.extend({getEnabled:function(){return this.where({enabled:!0})},getActiveTab:function(){return this.findWhere({active:!0})},resetToFirstTab:function(){this.changeActiveTab(0)},changeActiveTab:function(e){this.getActiveTab()&&this.getActiveTab().set({active:!1},{silent:!0}),this.getEnabled()[e].set({active:!0})}})})?n.apply(t,o):n)||(e.exports=s)},3563:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";i(3564);var t=i(3565),n=i(556);e.exports=n.extend({name:"FileViewBack",el:!1,template:t,events:{click:"handleClick"},initialize:function(){this.listenTo(this.history,"update reset",this.render)},prepareRender:function(){this.file=this.history.last()},serialize:function(){return{thumb:this.file?this.file.makeThumb("normal"):null}},handleClick:function(){this.history.remove(this.file),this.app.observer.broadcast("Track:UE:FileViewModal:Back",{file:this.file.serialize(),view:this.name,sourceFile:this.model}),this.onClickCallback(this.file)},onClickCallback:function(){}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},3564:function(e,t,i){},3565:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="file-back">';return e.thumb&&(i+='<img class="file-back__img" src="'+t(e.thumb)+'" alt="" /><i class="file-back__icon icon"></i>'),i+="</div>"}})?n.apply(t,o):n)||(e.exports=s)},559:function(e,t,i){(function(e){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(0),o=i(634),s=(0,i(12).getLogger)(e),a=["003","004","005","007","012","015","041","043","057","062","078","093","117","0R0","0R1","0R3"];e.exports={parse:function(e,t,i,o){var a=this;if(void 0===t&&(t=[]),void 0===i&&(i={}),void 0===o&&(o={}),!e)return s.error("App is required for errors parser."),[];var r=t.map((function(t){return a.parseError(e,a.prepareError(t),o)}));return this.format(n.flatten(r),i)},format:function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t={}),t.associate){var i={};return n.each(e,(function(e){i[e.field]=e.message})),i}return e},prepareError:function(e){var t=e.error_code,i=void 0===t?"":t,n=e.error_message,o=void 0===n?"":n,s=e.error_data,a=(void 0===s?{}:s).validationCode;if(3e4===i){var r=o.split(":");return{code:r[0],message:r.slice(1).join(),validationCode:a}}return{code:i,message:o,validationCode:a}},parseError:function(e,i,s){void 0===s&&(s={});var a=o.get(i.code),r=o.get("default"),l=r.message(e,{code:i.code,message:i.message}),c={code:i.code,field:r.field,message:l};if(!a)return[c];var d=t({fullName:e.user.getFullName()},s);if("100"===a.code){if(!i.validationCode)return[c];var u=n(a.errors).findWhere({validationCode:i.validationCode});return u?[{code:i.code,field:u.field,message:u.message?u.message(e,d):l}]:[c]}return a.errors.map((function(t){return{code:a.code,field:t.field,message:t.message?t.message(e,d):l}}))},filterOwn:function(e,t,i){return void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i={global:!1}),i.global&&t.push(o.get("default").field),n.pick(n.clone(e),t)},isPaymentFailureError:function(e){return n.contains(a,e)},getErrorsMessage:function(e,t,i){void 0===t&&(t=[]),void 0===i&&(i={});var n=i.separator,o=void 0===n?". ":n;return this.parse(e,t).map((function(e){return e.message})).join(o)}}}))}).call(this,i(8)(e))},560:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(856).spinner,n=i(0),o=i(857),s=i(15);e.exports={fieldCorrect:function(e,t){this.fieldReset(e,t),e.addClass("field-box_correct").removeClass("field-box_label-text")},fieldIncorrect:function(e,t){if(void 0===t&&(t={}),this.fieldReset(e,t),t.msgOnly||(e.addClass("field-box_incorrect").removeClass("field-box_label-text"),e.find(".field-box__right-elem").addClass("hidden")),"string"==typeof t.errorMessage){var i='<span class="field-box__error" data-id="'+this.getContextId(e)+'">'+this.tr(t.errorMessage)+"</span>";this.getErrorHolder(e,t).append(i)}this.fieldsGroupIncorrect(e)},fieldProgress:function(e,i){this.fieldReset(e,i),this.spinner||(this.spinner=new o(n.extend({},n.clone(t),{className:"field-box_spinner"}))),this.spinner.spin(e.get(0)),i&&i.keepEnabled||e.find("input, select, textarea").attr("disabled","disabled")},fieldReset:function(e,t){e.find("field-box_progress:disabled").removeAttr("disabled"),e.removeClass("field-box_correct field-box_incorrect field-box_progress"),e.find(".field-box__right-elem").removeClass("hidden"),e.attr("data-label-text")&&e.addClass("field-box_label-text"),this.spinner&&this.spinner.stop(e.get(0)),this.getErrorHolder(e,t).find('span.field-box__error[data-id="'+this.getContextId(e)+'"]').remove(),this.fieldsGroupReset(e)},onCapitalizeEvent:function(e){this.capitalize(e)},capitalize:function(e){var t=e.currentTarget.value;if(t.length<=1||"input"===e.type&&"paste"===this.prevCapitalizeEvt){var i=t.charAt(0);i!==i.toUpperCase()&&(e.currentTarget.value=s.capitalize(t))}this.prevCapitalizeEvt=e.type},getContextId:function(e){return e.attr("data-id")||e.attr("data-id",n.uniqueId("autoId_")).attr("data-id")},getErrorHolder:function(e,t){return t&&void 0!==t.errorHolder?t.errorHolder:e},handleUpdateField:function(e){void 0!==e.currentTarget.dataset.capitalize&&this.capitalize(e),this.$(e.currentTarget).toggleClass("empty",0===e.currentTarget.value.length)},getInputAdditional:function(e){return Object.keys(e).reduce((function(t,i){return t[i]=0!==parseInt(e[i],10)&&e[i]&&0!==e[i].length?"":"empty",t}),{})},getFieldsGroup:function(e){var t=e.closest("._fields-group-part"),i=e.closest("._fields-group");return i&&t?i.add(t):i||t},handleUpdateFieldFocus:function(e){var t=this.getFieldsGroup(this.$(e.currentTarget));t&&t.toggleClass("focus","focusin"===e.type)},fieldsGroupIncorrect:function(e){if(0!==e.length){var t=this.getFieldsGroup(e);t&&t.addClass("invalid")}},fieldsGroupReset:function(e){if(0!==e.length){var t=this.getFieldsGroup(e);t&&0===t.find(".field-box_correct").length&&t.removeClass("invalid")}}}},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},562:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(33),o=i(556),s=i(771),a=i(560),r=i(559),l=i(625),c={audio:"music"};e.exports=o.extend(a).extend({name:"BaseProduct",el:!1,serializeParams:{},showRebillHandlers:!1,originalEvents:{"mouseenter ._help":"showHelpTooltip","mouseleave ._help":"hideHelpTooltip","mouseenter ._info":"showInfoTooltip","mouseleave ._info":"hideInfoTooltip","click ._force-rebill":"handleForceRebillClick"},additionalEvents:{},countries:[],userGroupInfo:void 0,canShowRebillDiscount:!0,initialize:function(){this.showRebillHandlers&&Object.assign(this,s),this.statuses={ended:this.tr("Ended"),blocked:this.tr("Blocked"),expired:this.tr("Expired"),pending:this.tr("Pending"),rejected:this.tr("Rejected"),waitingRebill:this.tr("Waiting for Rebill")}},events:function(){return Object.assign({},this.originalEvents,this.additionalEvents)},prepareRender:function(){this.showRebillHandlers&&this.initRebillProduct()},serialize:function(){var e=this.app.user.serialize(),i=Object.assign({},this.product);return t({user:e,product:i,rebill:t({showDiscount:this.canShowRebillDiscount&&i.rebill.discount>0},this.getRebillInfo()),actionBtn:this.getActionBtnInfo(),needToShowHelpTooltip:this.needToShowHelpTooltip(),labels:{base:this.getBaseLabel(),left:this.getLeftLabel(),expires:this.getExpiresLabel(),status:this.getStatusLabel(),splitCount:this.getSplitCountLabel(),renew:this.getRenewLabel(),daysLeft:this.getDaysLeft(),license:this.getLicenseLabel(),licenseType:this.getLicenseTypeLabel(),curated:this.getCuratedLabel(),trial:this.getTrialLabel()},content:this.getProductContent()},this.getAdditionalSerializeParams())},getActionBtnInfo:function(){var e=this.getRebillInfo(),t=this.product,i=t.type,n=t.status,o=t.contentType,s="membership"===i&&"active"===n,a=this.app.makeUrl({route:"Subscribe",type:c[o]||o},{backUrl:!0}),r=s?this.tr("Buy Downloads"):this.tr("Buy More");(e.waiting||e.forceRequested)&&(r=this.tr("Force Rebill"));var l="";return e.forceRequested?l="disabled":e.waiting&&!e.editable?l="hidden":e.waiting&&e.editable?l="_force-rebill":s&&(l="_buy-more"),{className:l,text:r,link:a}},getAdditionalSerializeParams:function(){return t({},this.serializeParams)},getProductContent:function(e){void 0===e&&(e=this.product);var t={type:e.type,title:this.getBaseLabel(e),info:[{key:"left",value:this.getLeftLabel(e)}],action:this.tr("Buy More")};return"membership"!==e.type&&"subscription"!==e.type&&t.info.push({key:"expires",value:this.getExpiresLabel(e)}),"membership"!==e.type&&e.split_count>0&&t.info.push({key:"splitCount",value:this.getSplitCountLabel(e)}),t},getRebillInfo:function(){return{waiting:this.product.rebill&&this.product.rebill.waiting,editable:this.product.rebill&&this.product.rebill.editable,forceRequested:this.rebillManager&&this.rebillManager.force&&this.rebillManager.synced}},getStatusLabel:function(e){void 0===e&&(e=this.product);var t=e.status;this.getRebillInfo().waiting&&(t="waitingRebill");var i=this.statuses[t];return i?this.tr("Status")+": <b>"+i+"</b>":""},getBaseLabel:function(e){return void 0===e&&(e=this.product),this.tr(e.baseLabel)},getLeftLabel:function(e){void 0===e&&(e=this.product);var t=n.productLeftLabels.find((function(t){return t.type===e.type})).label;return this.tr(t,e.left)},getSplitCountLabel:function(e){void 0===e&&(e=this.product);var t=n.productSplitCountLabels.find((function(t){return t.type===e.type}));return t?this.tr(t.label):""},getTrialLabel:function(e){if(void 0===e&&(e=this.product),!e.hasTrial)return"";var t=e.trial,i=[t.count,t.period,e.prices.start],n=this.app.store.get("TaxHelper").isTaxEnabled()?"("+this.tr("plus %s",this.app.store.get("TaxHelper").get("name"))+")":"",o=360===e.period?this.tr("%s images Free for %s days, then %s /year",i):this.tr("%s images Free for %s days, then %s /month",i);return n?o+" "+n:o},initForceRebillModel:function(){var e=this;l(this.$("._force-rebill")),this.initRebillManager(),this.rebillManager.force=!0,this.listenTo(this.rebillManager,{request:function(){return e.$("._force-rebill").trigger("loading")},sync:this.handleForceRebillSync.bind(this),error:this.handleForceRebillError.bind(this)})},handleForceRebillSync:function(e,t){this.$("._force-rebill").trigger("loaded"),t&&!t.errors&&(this.app.observer.fire("Notification",{type:"success",description:this.tr("Rebill requested successfully.")}),this.el.querySelector("._force-rebill").classList.add("disabled"),this.el.querySelector("._waiting-rebill").classList.add("product-item__cell_waiting-rebill_sent"))},handleForceRebillError:function(e,t){var i=t.errors,n=void 0===i?[]:i,o=r.getErrorsMessage(this.app,n);if(o){var s=this.$("._waiting-rebill");this.fieldIncorrect(s,{errorHolder:s,errorMessage:o})}},handleForceRebillClick:function(e){e.preventDefault(),this.rebillManager||this.initForceRebillModel();var t=this.model.get("rebill").get("card"),i=t?t.get("billingName"):this.app.user.get("billingName");this.rebillManager.save({productId:this.model.id,productType:this.model.get("type"),rebillState:!0,billingName:i})},initRebillProduct:function(){},getExpiresLabel:function(){},getRenewLabel:function(){},getDaysLeft:function(){},getCuratedLabel:function(){},getLicenseLabel:function(){},getLicenseTypeLabel:function(){},needToShowHelpTooltip:function(){},showHelpTooltip:function(){},hideHelpTooltip:function(){},showInfoTooltip:function(){},hideInfoTooltip:function(){}})}))},567:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports={getSpecifications:function(e){var t=e.requestParams.country;return{isHtmlOnly:!e.ampEnabled,isAmpOnly:e.ampEnabled,isChinaIP:"CN"===t,isChinaLang:"cn"===e.lang,isRuLang:"ru"===e.lang,isRegularUserOnly:!e.user.isEnterprise(),isAuthUserOnly:e.user.isLoggedIn()}},isSpecified:function(e){return void 0===e.isSpecified||!0===e.isSpecified}}})?n.apply(t,o):n)||(e.exports=s)},626:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(556),o=i(560),s=n.extend({name:"Form",el:!1,model:null,events:{submit:"onSubmit","input ._field":"onRegularFieldInput","focusin ._field":"onRegularFieldFocusIn","focusout ._field":"onRegularFieldFocusOut"},initialize:function(){if(!this.model)throw new Error(this.name+": form model is required!");this.model.enableViewValidation(this),this.setModelListeners()},setModelListeners:function(){this.listenTo(this.model,{invalid:this.handleModelInvalid,error:this.handleModelError,request:this.handleModelRequest,sync:this.handleModelResponse})},remove:function(){this.model.disableViewValidation(this);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.prototype.remove.apply(this,t)},onSubmit:function(e){e&&e.preventDefault(),this.prepareSubmit(),this.validate()?this.submit():this.onPreSubmitFail()},submit:function(){this.model.save()},validate:function(){return this.model.isValid(!0)},handleModelInvalid:function(e,i){var n=this;t.size(i)&&Object.entries(i).forEach((function(e){var t=e[0],i=e[1],o=Array.isArray(i)?i[0]:i;n.fieldIncorrect(n.$("[name="+t+"]").parent(),{errorMessage:"string"==typeof o?n.tr(o):o})}))},resetErrors:function(){var e=this;t.each(this.$(".field-box_incorrect input, .field-box_incorrect select"),(function(t){return e.fieldReset(e.$(t).parent())}))},onRegularFieldInput:function(e){this.handleUpdateField(e),this.model.set(e.currentTarget.name,e.currentTarget.value)},onRegularFieldFocusIn:function(e){this.fieldReset(this.$(e.currentTarget).parent())},serialize:function(){},prepareSubmit:function(){},onPreSubmitFail:function(){},handleModelRequest:function(){},handleModelResponse:function(){},handleModelError:function(){},onRegularFieldFocusOut:function(){}});Object.assign(s.prototype,o),e.exports=s},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},627:function(e,t,i){"use strict";var n=i(644),o=i(863),s=i(991),a=i(658),r=i(992),l=i(993),c={};function d(e){var t=this;function i(){o.add(e,"ps--focus")}function l(){o.remove(e,"ps--focus")}t.settings=n.clone(s),t.containerWidth=null,t.containerHeight=null,t.contentWidth=null,t.contentHeight=null,t.isRtl="rtl"===a.css(e,"direction"),t.isNegativeScroll=function(){var t,i=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=i,t}(),t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,t.event=new r,t.ownerDocument=e.ownerDocument||document,t.scrollbarXRail=a.appendTo(a.e("div","ps__scrollbar-x-rail"),e),t.scrollbarX=a.appendTo(a.e("div","ps__scrollbar-x"),t.scrollbarXRail),t.scrollbarX.setAttribute("tabindex",0),t.event.bind(t.scrollbarX,"focus",i),t.event.bind(t.scrollbarX,"blur",l),t.scrollbarXActive=null,t.scrollbarXWidth=null,t.scrollbarXLeft=null,t.scrollbarXBottom=n.toInt(a.css(t.scrollbarXRail,"bottom")),t.isScrollbarXUsingBottom=t.scrollbarXBottom==t.scrollbarXBottom,t.scrollbarXTop=t.isScrollbarXUsingBottom?null:n.toInt(a.css(t.scrollbarXRail,"top")),t.railBorderXWidth=n.toInt(a.css(t.scrollbarXRail,"borderLeftWidth"))+n.toInt(a.css(t.scrollbarXRail,"borderRightWidth")),a.css(t.scrollbarXRail,"display","block"),t.railXMarginWidth=n.toInt(a.css(t.scrollbarXRail,"marginLeft"))+n.toInt(a.css(t.scrollbarXRail,"marginRight")),a.css(t.scrollbarXRail,"display",""),t.railXWidth=null,t.railXRatio=null,t.scrollbarYRail=a.appendTo(a.e("div","ps__scrollbar-y-rail"),e),t.scrollbarY=a.appendTo(a.e("div","ps__scrollbar-y"),t.scrollbarYRail),t.scrollbarY.setAttribute("tabindex",0),t.event.bind(t.scrollbarY,"focus",i),t.event.bind(t.scrollbarY,"blur",l),t.scrollbarYActive=null,t.scrollbarYHeight=null,t.scrollbarYTop=null,t.scrollbarYRight=n.toInt(a.css(t.scrollbarYRail,"right")),t.isScrollbarYUsingRight=t.scrollbarYRight==t.scrollbarYRight,t.scrollbarYLeft=t.isScrollbarYUsingRight?null:n.toInt(a.css(t.scrollbarYRail,"left")),t.scrollbarYOuterWidth=t.isRtl?n.outerWidth(t.scrollbarY):null,t.railBorderYWidth=n.toInt(a.css(t.scrollbarYRail,"borderTopWidth"))+n.toInt(a.css(t.scrollbarYRail,"borderBottomWidth")),a.css(t.scrollbarYRail,"display","block"),t.railYMarginHeight=n.toInt(a.css(t.scrollbarYRail,"marginTop"))+n.toInt(a.css(t.scrollbarYRail,"marginBottom")),a.css(t.scrollbarYRail,"display",""),t.railYHeight=null,t.railYRatio=null}function u(e){return e.getAttribute("data-ps-id")}t.add=function(e){var t=l();return function(e,t){e.setAttribute("data-ps-id",t)}(e,t),c[t]=new d(e),c[t]},t.remove=function(e){delete c[u(e)],function(e){e.removeAttribute("data-ps-id")}(e)},t.get=function(e){return c[u(e)]}},634:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var i="global",n="pan",o="expiryMonth",s="cvv",a="expiryYear",r="address",l="zip",c={field:i,message:function(e){return e.translator.tr("Please try to repeat this transaction using a different card or get in touch with your bank to resolve the payment issue.")}},d={default:{field:i,message:function(e,t){return void 0===t&&(t={}),e.translator.tr("Error: %s (%s).",[t.code,t.message])+" "+e.translator.tr('Please contact our <a href="%s" class="%s">support service</a> or your card issuer.',[e.makeUrl("contact_us"),"link-blue"])}},"001":{errors:[c]},"003":{errors:[c]},"004":{errors:[c]},"006":{errors:[c]},"007":{errors:[c]},"014":{errors:[c]},"030":{errors:[c]},"036":{errors:[c]},"041":{errors:[c]},"043":{errors:[c]},"051":{errors:[{field:i,message:function(e){return e.translator.tr("The card has insufficient funds. Please use a different card or contact your card issuer.")}}]},"052":{errors:[{field:i,message:function(e){return e.translator.tr("No checking account. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"053":{errors:[{field:i,message:function(e){return e.translator.tr("No savings account. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"054":{errors:[{field:i,message:function(e){return e.translator.tr("The card is expired. Please use a different card or contact your card issuer.")}}]},"057":{errors:[{field:i,message:function(e){return e.translator.tr("It is possible that your online payment option is disabled. Please check with your card issuer to solve the problem.")}}]},"058":{errors:[c]},"061":{errors:[{field:i,message:function(e){return e.translator.tr("Exceeds withdrawal amount limit")}}]},"062":{errors:[{field:n,message:function(e){return e.translator.tr("Restricted card (card invalid in this region or country). Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"063":{errors:[{field:i,message:function(e){return e.translator.tr("Security violation")}}]},"065":{errors:[{field:i,message:function(e){return e.translator.tr("Activity count limit for card exceeded. Please contact your card issuer.")}}]},"075":{errors:[{field:i,message:function(e){return e.translator.tr("Allowable number of PIN tries exceeded. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"077":{errors:[c]},"078":{errors:[{field:i,message:function(e){return e.translator.tr("Invalid / nonexistent account specified. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},"091":{errors:[c]},"093":{errors:[{field:i,message:function(e){return e.translator.tr("Transaction cannot be completed - violation of law. Please try to repeat this transaction using a different card or contact your bank to resolve the payment issues.")}}]},100:{errors:[{validationCode:"01",field:n,message:function(e){return e.translator.tr("Invalid Credit Card Number")}},{validationCode:"02",field:s,message:function(e){return e.translator.tr("Invalid Security Code")}},{validationCode:"03",field:o,message:function(e){return e.translator.tr("Please check the Expiration Date")}},{validationCode:"04",field:a,message:function(e){return e.translator.tr("Please check the Expiration Date")}}]},105:{errors:[{field:r,message:function(e){return e.translator.tr("Please check Street Address")}}]},106:{errors:[{field:l,message:function(e){return e.translator.tr("Invalid Zip/Postal Code")}}]},114:{errors:[{field:i,message:function(e){return e.translator.tr("Please check the cardholder's name")}}]},115:{errors:[{field:n,message:function(e){return e.translator.tr("Invalid Credit Card Number")}}]},117:{errors:[{field:n}]},118:{errors:[{field:i,message:function(e){return e.translator.tr("Currency Type Not Accepted")}}]},129:{errors:[{field:o}]},140:{errors:[{field:o}]},141:{errors:[{field:o}]},991:{errors:[{field:i,message:function(e){return e.translator.tr("The card is blocked. Please use a different card or contact your card issuer.")}}]},992:{errors:[{field:i,message:function(e){return e.translator.tr('Your IP blocked. Please contact our <a href="%s" class="%s">support service</a>\n\t\t\t\t\tto resolve this problem.',[e.makeUrl("contact_us"),"link-blue"])}}]},54002:{errors:[{field:i,message:function(e){return e.translator.tr("Looks like you signed up for a free trial before. You can purchase the plan to continue.")}}]},63002:{errors:[{field:n}]},"0N7":{errors:[{field:s,message:function(e){return e.translator.tr("Invalid Security Code")}}]},100111:{errors:[{field:i}]},101800:{errors:[{field:i,message:function(e,t){return void 0===t&&(t={}),e.translator.tr("Dear %s, we can process payments through %s with AMEX cards in USD only.\n\t\t\t\tPlease choose another card or pick USD as the currency of payment.",[t.fullName,t.paymentMethod])}}]},30117:{errors:[{field:i,message:function(e){return e.translator.tr("We cannot process payments in current currency. Please choose another payment method\n or pick USD as the currency of payment.")}}]}};e.exports.get=function(e){var i=d[e];return i?t({code:""+e},i):null}})?n.apply(t,o):n)||(e.exports=s)},635:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(5),o=i(26),s=i(634),a=i(91),r=i(753),l=i(556),c=i(152),d=i(560),u=i(742),h=i(559),p=i(15).classNames;i(754),i(747),e.exports=l.extend(t({},d,u,{name:"MerchantCardManager",el:!1,template:r,savedCards:null,isUseSavedChecked:!0,isCompactMode:!0,expireFields:["expiryMonth","expiryYear","expiry"],events:{"focusin input":"handleFieldFocusIn","focusin select":"handleFieldFocusIn",'focusin [name="expiryMonth"]':"handleExpiryFocusIn",'focusin [name="expiryYear"]':"handleExpiryFocusIn","input ._cardNumber":"handleCardNumberInput","change ._cardNumber":"handleCardNumberChange","change ._expiryMonth":"handleSelectChange","change ._expiryYear":"handleSelectChange","input ._cvv":"handleRegularFieldChange","focusin ._field":"handleUpdateFieldFocus","focusout ._field":"handleUpdateFieldFocus","change ._field":"handleUpdateField","keyup ._field":"handleUpdateField","input ._field":"handleUpdateField","paste ._field":"handleUpdateField","input ._masked-exp":"handleMaskedExpirationInput","change ._selected-card":"handleSelectedCardChange","change ._use-saved-cards":"handleUseSavedStateChange",'change [name="saved"]':"handleUseSavedStateChange","click ._cards-holder":"handleCardsHolderClick"},globals:{click:"handleBodyClick"},initialize:function(e){var t=(void 0===e?{}:e).model;this.isSavedCardsAvailable=this.checkForSavedCards(),this.model=t||new c({},{app:this.app}),this.isSavedCardsAvailable&&this.setSavedCardModel(),this.setCardListeners()},serialize:function(){var e=this.model.serialize(),i=this.isUseSavedEnabled()&&!this.model.isMaestro();return{classes:this.getClassNames(),switcher:{saved:{isAvailable:this.isSavedCardsAvailable,tag:"span",name:"saved",checked:this.isUseSavedChecked,className:"switcher_small"}},card:t({},e,{number:this.isUseSavedEnabled()?e.labels.number:e.number,cvv:i?this.model.mask.cvv:e.labels.cvv}),saved:{list:this.isSavedCardsAvailable?this.savedCards.serialize():[]},state:{disabled:{number:this.isUseSavedEnabled(),expiry:this.isUseSavedEnabled(),cvv:i},empty:{number:!e.number||!e.number.length,expiry:!e.labels.expireShort.length,cvv:!i}},captcha:{siteKey:n.client.recaptcha.publicKey}}},validate:function(){if(this.isUseSavedEnabled()){if(!this.model.isMaestro())return!0;var e=this.model.validate(),t=!e||null==e.cvv;return t||this.markError("cvv",a.InvalidCvv),t}return this.isCaptchaValid()?this.model.isValid(!0):(this.fieldIncorrect(this.$("._captcha").parent(),{errorMessage:this.getCaptchaErrMessage()}),!1)},getActiveCard:function(){return this.model},getClassNames:function(){var e=this.model.getTypeFromNumber();return{holder:p({"merchant-manager_saved":this.isUseSavedEnabled()}),fields:p({"fields-group_compact":this.isCompactMode}),number:p({"merchant-manager__field_number-select":this.isMoreThanOneCardAvailable()}),cardIcon:e?"icon-card-type-"+e:"icon-card-type-default"}},getFieldErrorHolder:function(e){var t=this.$("._fields-group-error");if(["number","expiry","cvv"].includes(e)&&t.length)return t},setSavedCardModel:function(){var e=this.savedCards.get(this.model.get("id"))||this.savedCards.first();this.model.set(e.toJSON())},setCardListeners:function(){this.model&&this.listenTo(this.model,{invalid:this.onModelInvalid,error:this.onModelError,change:this.onModelChangeCallback})},resetErrors:function(){var e=this;this.fieldReset(this.$("._errorHolder")),this.resetCaptchaError(),this.$("input, select").each((function(t,i){return e.fieldReset(e.$(i).parent())}))},resetCaptchaError:function(){this.fieldReset(this.$("._captcha").parent())},checkForSavedCards:function(){return this.savedCards&&this.savedCards.length>0},isUseSavedEnabled:function(){return this.isSavedCardsAvailable&&this.isUseSavedChecked},isMoreThanOneCardAvailable:function(){return this.isUseSavedEnabled()&&this.savedCards.length>1},onModelInvalid:function(e,t){var i=this;void 0===t&&(t={}),Object.entries(t).forEach((function(e){var t=e[0],n=e[1];return i.markError(t,n)}))},onModelError:function(e,t){var i=this,n=h.parse(this.app,t.errors,{associate:!0});n=h.filterOwn(n,Object.keys(e.defaults),{global:!0}),this.resetCaptcha(),Object.entries(n).forEach((function(e){var o=e[0],s=e[1],a=t.errors[Object.keys(n).indexOf(o)].error_code;i.markError(o,s,a)}))},handleMaskedExpirationInput:function(e){var t=e.currentTarget.value,i=t.replace(/[/\s]/g,""),n=i.length>=2,o=n?i.replace(/^(\d{0,2})(\d{0,2})$/g,"$1/$2"):i,s=o.split("/"),a=s[0],r=s[1];this.model.set({expiryMonth:a,expiryYear:r}),this.$(e.currentTarget).val(o);var l=o.length===i.length?1:o.length-i.length+(n?1:0),c=t.lastIndexOf(i[i.length-1])+l;e.currentTarget.setSelectionRange(c,c)},handleBodyClick:function(e){var t=this.$("._cards-list"),i=this.$("._cards-holder");t.length&&i.length&&!t[0].contains(e.target)&&!i[0].contains(e.target)&&t.addClass("hidden")},handleUseSavedStateChange:function(e){this.isUseSavedChecked=e.currentTarget.checked,this.isUseSavedChecked?(this.model.set(this.savedCards.first().toJSON()),this.onCardSwitchCallback(this.savedCards.first())):(this.model.resetToDefaults(),this.onCardSwitchCallback()),this.render(),this.onUseSavedCardsCallback(this.isUseSavedChecked)},handleCardsHolderClick:function(){this.isMoreThanOneCardAvailable()&&this.$("._cards-list").toggleClass("hidden")},handleCardNumberChange:function(){this.onCardNumberChangeCallback.apply(this,arguments)},handleExpiryFocusIn:function(){this.fieldReset(this.$('[name="expiryMonth"]').parent()),this.fieldReset(this.$('[name="expiryYear"]').parent())},handleCardNumberInput:function(e){var t=this.model.cleanNumber(e.currentTarget.value);this.model.set({number:t}),o.$(e.currentTarget).val(this.model.formatNumber(t))},handleRegularFieldChange:function(e){this.model.set(e.currentTarget.name,e.currentTarget.value)},handleFieldFocusIn:function(e){this.fieldReset(this.$("._errorHolder")),this.fieldReset(this.$(e.currentTarget).parent(),{errorHolder:this.getFieldErrorHolder(e.currentTarget.getAttribute("name"))})},handleSelectChange:function(e){this.model.set(e.currentTarget.name,+e.currentTarget.value)},handleSelectedCardChange:function(e){var t=this.savedCards.get(e.currentTarget.value);this.model.set(t.toJSON()),this.render(),this.onCardSwitchCallback(t)},markError:function(e,t,i){this.shouldShowCaptcha(i)?this.showCaptcha():this.expireFields.includes(e)?this.markExpiryFieldsError(t):e!==s.get("default").field&&e?this.fieldIncorrect(this.$("[name="+e+"]").parent(),{errorMessage:t,errorHolder:this.getFieldErrorHolder(e)}):this.fieldIncorrect(this.$("._errorHolder"),{errorMessage:t})},markExpiryFieldsError:function(e){void 0===e&&(e=this.tr(a.InvalidExpirationDate)),this.fieldIncorrect(this.$('[name="expiryMonth"]').parent(),{errorMessage:e}),this.fieldIncorrect(this.$('[name="expiryYear"]').parent()),this.fieldIncorrect(this.$('[name="expiry"]').parent())},onCardSwitchCallback:function(){},onModelChangeCallback:function(){},onUseSavedCardsCallback:function(){},onCardNumberChangeCallback:function(){}}))}))},636:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports={devKeys:{"br.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9ici5kZXBvc2l0cGhvdG9zLm5ldA.ZI0zrCZzyomuSwkXqbmeW6aWKO7nOoBJIz1iK4RRueo","br.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ici5pbnRlZ3JhdGlvbi5kZXY.MueDKsy6unZapI37o4Bv6otQ_5Qi5bU7dVm6hY-DvaU","br.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ici5tYXN0ZXIuZGV2.osAo6nSQl8jBL9Vp1VUMWM5y6spVH2b6vDC5niR9YRQ","cn.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9jbi5kZXBvc2l0cGhvdG9zLm5ldA.CrLrJHPf5bJAhO11lwjgZc_FdGvraJLAxVKg0pEysqk","cn.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9jbi5pbnRlZ3JhdGlvbi5kZXY.RBto3048phdH1DxCpxXsQQvkGj50fetC0r3aS-Telrc","cn.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9jbi5tYXN0ZXIuZGV2.zOyruFTzKPRSI0s805Xbf8QG8b741QOPc29myJjW8IU","cz.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9jei5kZXBvc2l0cGhvdG9zLm5ldA.Ed3UBDMlktIFEizG9jo_JdHOomALD7tS3G8qKOJI1i4","cz.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9jei5pbnRlZ3JhdGlvbi5kZXY.BO-6fjppghV8-1TiyA1l8f2gQufKuQe7y3KftUJ-O0Q","cz.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9jei5tYXN0ZXIuZGV2.nnfEXLtD-_vMjgp4bSLR1ChMgb8nPC-p9GydQQNh_M4","de.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9kZS5kZXBvc2l0cGhvdG9zLm5ldA.MJHYXrNeTc4-oZWEUYZmwF4xDuifJ7UA5iouFn8inOw","de.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9kZS5pbnRlZ3JhdGlvbi5kZXY.jZXH8sI4l6eotJuxAzU9xfJxASyeBgQc-xl71MDxH30","de.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9kZS5tYXN0ZXIuZGV2.JmC-NLl7pjRddsRor6canEWHoSDXTZ51hk0WFjlK_d0","depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9kZXBvc2l0cGhvdG9zLm5ldA.Udwr92zq3M7ySj0pD_IRFZ5Xm4czk99LpRFPysTOQXQ","fr.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9mci5kZXBvc2l0cGhvdG9zLm5ldA.Gc5_-O1uVv5o1W7gyOQhK_O6PVQL9aVC8poNrLO2SLk","fr.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9mci5pbnRlZ3JhdGlvbi5kZXY.WqERzakmPlfxZIgaiPgivEoYGgkmZCXHi8q2UY_OdnU","fr.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9mci5tYXN0ZXIuZGV2.mYvqOW43zSGlKmdzjfS5m_68Zn3L5MN0W_XUQRAvggE","gr.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9nci5kZXBvc2l0cGhvdG9zLm5ldA.HfkNK02W73XlFK5Tsrs7zvNifKhKNQZKJXJ-gjQijnw","gr.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9nci5pbnRlZ3JhdGlvbi5kZXY.cGKHqmzL5cr_qwkGpjPPl5OhzxbKX2SVrSyJZ4GT8Ho","gr.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9nci5tYXN0ZXIuZGV2.YUNHp1FeSTeD55nYvsCdXkSy-3raeFzWMqsTdv9GOq0","hu.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9odS5kZXBvc2l0cGhvdG9zLm5ldA.DdwnzgrnECU0fA0Uq52HJsaigOtCrkXD6DGbLxKiRBQ","hu.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9odS5pbnRlZ3JhdGlvbi5kZXY.G4RsyHLMubpTcHMSOVvT3GaBAoq2Qz4NNYIDlZYOAyg","hu.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9odS5tYXN0ZXIuZGV2.jCeWEIyvaWP-GZrQs5fJOqX4gALr53ZJPk8R6fCLs3s","id.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9pZC5kZXBvc2l0cGhvdG9zLm5ldA.JvBFlZM1pDbB97LmW8un8Fk7_EmsY-RBl9t3qCBIIQg","id.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pZC5pbnRlZ3JhdGlvbi5kZXY.AISO0DVlM8cWlq5Xs__lbQRjagE7dxTz1q5J_TVP0Cw","id.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pZC5tYXN0ZXIuZGV2.DZRHMvpa-xEiujyMyIV9tw5TfdKUFgJDGmqr1eNul6c","integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pbnRlZ3JhdGlvbi5kZXY.U4buumE03O1_IjFmOHtwhqAze9JNwr8E98ZgMeGBuJM","it.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9pdC5kZXBvc2l0cGhvdG9zLm5ldA.ensilu1ZTfdS8DgOva_Zo_ASzeIt1FziTkgq7L-cfko","it.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pdC5pbnRlZ3JhdGlvbi5kZXY.V6FusgtRvLjbW5wNy2TKmsHhRcLxxBMUPvF0fRW_CNM","it.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9pdC5tYXN0ZXIuZGV2.XWVuAtCJTCJrD-RRM3R-FVOLjB8woLEA_YZiKAf0gtA","jp.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9qcC5kZXBvc2l0cGhvdG9zLm5ldA.Sbo8KIjioL3l4NKfeX_oMdg-ziLuROfyI2MhjnUy_QQ","jp.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9qcC5pbnRlZ3JhdGlvbi5kZXY.yUzc-LsHo0I2KbrJPOkKLGVsGq7qkC-sgKoBEt4A-Pg","jp.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9qcC5tYXN0ZXIuZGV2.otSRwjjA4PbusFl-mePpYHzAWFpthkORkcK1Fl-AwDM","ko.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9rby5kZXBvc2l0cGhvdG9zLm5ldA.ahhBL5jLjX3x2ScJsi_XfksY0zjcUQ97qD9CTHXuCgM","ko.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9rby5pbnRlZ3JhdGlvbi5kZXY.eQ8XyAfTM3sUfmcw_UJOjPMlD1DWQBnmnanbNlCP4Bw","ko.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9rby5tYXN0ZXIuZGV2.rQVlixQRxAoQhWlN2BNjdn-styBtcyXumSO5gRmQcjI","master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9tYXN0ZXIuZGV2.k1ZMKCGoKm559SRa55NAsDm-O7uOQs1OeFnTJQen7qU","mx.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9teC5kZXBvc2l0cGhvdG9zLm5ldA.FJYbYQRjiVYdu9uZyaOqWxbF1K8nIXvGHqQA_09Zyfo","mx.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9teC5pbnRlZ3JhdGlvbi5kZXY.LP4S5G_AZ_GIO-4ZQ7gEKgvgv9s8sDFehSOdoqukCEI","mx.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9teC5tYXN0ZXIuZGV2.DVsZui4UP3-CwHkBLfApnm5JRsfzCYESFWqBGlvJQ3E","nl.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9ubC5kZXBvc2l0cGhvdG9zLm5ldA.KFny5M8QNqHpgX6Wx1D1Du16vWugsPiCk0fi3caohWo","nl.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ubC5pbnRlZ3JhdGlvbi5kZXY.mFNSyUYElDBiBIurMG0QQIjp6LA64W8X-Cj2QSBEK9w","nl.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ubC5tYXN0ZXIuZGV2.NSKABKTT_RO3vMZtUseHaI_R86-05Q3MN-BYPm_i1-E","pl.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9wbC5kZXBvc2l0cGhvdG9zLm5ldA.LfFlY6iTh1TVyjyRh_qFw-iXQIOBjNmRe4aL6GlHsbg","pl.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9wbC5pbnRlZ3JhdGlvbi5kZXY.uy7AtJd6uzXtXxCZL4_acZz0n2FeD076urcumK--3Tg","pl.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9wbC5tYXN0ZXIuZGV2.BKgh0rCp5B8lTizXHkwU6qDSVmcfFKQVYIELG09KPto","pt.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9wdC5kZXBvc2l0cGhvdG9zLm5ldA.hH8BjpHUgLwA_EzdJez-nlz1tJq1TalR1LlYaq5RL7A","pt.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9wdC5pbnRlZ3JhdGlvbi5kZXY.5FYkZA028Eu1sHXjeWtpHkFOjbAFPxQ31Pi446q3i1k","pt.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9wdC5tYXN0ZXIuZGV2.bbCxvMwl7QddHl8yL4ayltOyFKXFV56xDKIzQbHSROo","ro.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9yby5kZXBvc2l0cGhvdG9zLm5ldA.TB5qp7WvvxURAQSEaz204girqOsOTwjUeLWXdKB-VX4","ro.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9yby5pbnRlZ3JhdGlvbi5kZXY.4lzpTZ5MqEnkW7Wixzi92DtByUKmUFgTkaLLDwC0YfE","ro.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9yby5tYXN0ZXIuZGV2.bWYRlPhKRc6foBwE8WNdECDjNS_9YY2HIhvyLORaYPM","ru.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9ydS5kZXBvc2l0cGhvdG9zLm5ldA.2WjLegEoDkGrYxcv_sDqCO0VqT2_X5oPDMZI7MtIcWg","ru.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ydS5pbnRlZ3JhdGlvbi5kZXY.0asR4tb1NxSdJHo9cKVen3yyrqTMAOyc-jXSw71kS6M","ru.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9ydS5tYXN0ZXIuZGV2.RkD-1c3soNkX8iHbcyV03kCADEmihA91VMB3ivYtTHg","se.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9zZS5kZXBvc2l0cGhvdG9zLm5ldA.aqtM6tVWh_fW0GgZw2zPADBqSXlpHUeSrs3Z2zYy7Nc","se.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9zZS5pbnRlZ3JhdGlvbi5kZXY.0X3xybjdGjuinipEziZE1ml8Ok9Z5nWmbqpxT0Qhr1s","se.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9zZS5tYXN0ZXIuZGV2.W9rZjVV7WloBkmbNE_iouGZ7fTx89x7K9s8_sxyL9jg","sp.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9zcC5kZXBvc2l0cGhvdG9zLm5ldA.a9aj86AvTuv-rS-4yLkEnsEP4y5LYUSoSrS5BJOaRaw","sp.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9zcC5pbnRlZ3JhdGlvbi5kZXY.wI3Pmh0k5UjhcTv5zOk4nilnANbJFOCUfoKJqpKbq4A","sp.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9zcC5tYXN0ZXIuZGV2.1BLxzCFUs_5iXqHWedtjqyavW3Oqf0NylPKgMFhAMms","th.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly90aC5kZXBvc2l0cGhvdG9zLm5ldA.JqANwWW3Zxoxqvlh4_LJwndpcBj-rsCdqp_clbO5xGs","th.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly90aC5pbnRlZ3JhdGlvbi5kZXY.XDFbSUlm4SVOdzG6etJ6l_2Re9njmwVFnlvy2sjJuJM","th.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly90aC5tYXN0ZXIuZGV2.eINnhv9RuVPrl3pab_pDIxTWEAnC8Rx8LWudF4PQxPQ","tr.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly90ci5kZXBvc2l0cGhvdG9zLm5ldA.K0d7nprLIU-tH2Ttf4tQ9RtFlPqjW3tVYaZRkHJM8to","tr.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly90ci5pbnRlZ3JhdGlvbi5kZXY.Pt4o-LmpmmIi6O6NiQvwTjtsxjCGyoWu9LwFi3gX1Cs","tr.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly90ci5tYXN0ZXIuZGV2.8B3wRQbu8jpwBxXXKfCvU9j1JPvTHz7CxQgK4mhEGoY","ua.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly91YS5kZXBvc2l0cGhvdG9zLm5ldA.njGprqwOwwefxOMxEQLRbIFW9yu4R1OgqrDBdO6hBZY","ua.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly91YS5pbnRlZ3JhdGlvbi5kZXY.WevB_YlbRWfrAMy4mlalcqcsPkhgZOYBHu0XPHZyDVI","ua.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly91YS5tYXN0ZXIuZGV2.YYRZy2vXnmL5Bpz3FM601lqOnz_yoSD4c5iWCMsXKMg","da.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9kYS5kZXBvc2l0cGhvdG9zLm5ldA.zC9sh3lJwmD7WoWsNhcyxzVTBIkY9qRHHrmUbwlh__k","da.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9kYS5pbnRlZ3JhdGlvbi5kZXY.bAmrezt88yHzfmVLPuANedrOHIOT4uSa9G934kgzRn0","da.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9kYS5tYXN0ZXIuZGV2.lYwjp5FcWm_EWSTkQeuQ8bqq6CPf7lZPYmpGTY4NxkE","fi.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9maS5kZXBvc2l0cGhvdG9zLm5ldA.cppu1S0kvTmWVy1XjKRGkd1qPzHHeX8LE9Tbw6QUqHQ","fi.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9maS5pbnRlZ3JhdGlvbi5kZXY.SAP2iRB1bfgN40uhVLVJVSCKmYPnCK8WLJVARH_PHc4","fi.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9maS5tYXN0ZXIuZGV2.CfNemRokGO91RmN74hmDALbaqWQkmH_7ffKptwQ6p-o","no.depositphotos.net":"pub.v2.8015736641423658.aHR0cHM6Ly9uby5kZXBvc2l0cGhvdG9zLm5ldA.gwq2sL9iWygw-I2sjO1kxreA5TR-b-EeTXN0tZQI7SE","no.integration.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9uby5pbnRlZ3JhdGlvbi5kZXY.hqOVBdXjcxGSe_twvjTHcOXz8xRj3jFd_nIZHLcMgYc","no.master.dev":"pub.v2.8015736641423658.aHR0cHM6Ly9uby5tYXN0ZXIuZGV2.iT--xyoceT9OF21nJw8IpJwbjUZ53ITQj5Z53yLQNwM"},prodKeys:{"br.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9ici5kZXBvc2l0cGhvdG9zLmNvbQ.bpXKU4Iry7MJDX4MttBKfTFpJqardXP9k5kqE0fQqgU","cn.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9jbi5kZXBvc2l0cGhvdG9zLmNvbQ.WJYr-RSgrKSkbB44Ntxk5Z04KS5Ma8Rd5Spkrob-OkU","cz.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9jei5kZXBvc2l0cGhvdG9zLmNvbQ.DSQWaBp3Ro4VtMi0HUavW_W0u4mX2sQnZuKu4Ig6OQM","de.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9kZS5kZXBvc2l0cGhvdG9zLmNvbQ.coEOYkFCAqxTegePfBuRRGTHQjT6hFz1WpsdINctOks","depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9kZXBvc2l0cGhvdG9zLmNvbQ.yuFBPxF-euUDhjmeHNvf-n3-c0C0EIXxwEgZM0rSdzc","fr.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9mci5kZXBvc2l0cGhvdG9zLmNvbQ.gtDuepXcedrnFycgD1PdzMldkRRffkZuwyXFPUNL3Bg","gr.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9nci5kZXBvc2l0cGhvdG9zLmNvbQ.XGnaaIzWCwGJrg5HXKxUNM7EKr_F7L0RupNehdfqXh8","hu.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9odS5kZXBvc2l0cGhvdG9zLmNvbQ.vLM0d3jXGMaprBP0jqN-e_N92nwIc2jAJ23Y42TbOTI","id.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9pZC5kZXBvc2l0cGhvdG9zLmNvbQ.JJQsLUiamyyZWrvTP3t1R9xX33d36juoyAK8yRWW7yY","it.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9pdC5kZXBvc2l0cGhvdG9zLmNvbQ.rTOXSctmDyORfIi2hYRHf-aWrn8H11108-7F6Et9qlM","jp.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9qcC5kZXBvc2l0cGhvdG9zLmNvbQ.LZfaqnz8D9tSTSdnwjDa_6l3oW4LvkrAlgBbjsVRZO8","ko.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9rby5kZXBvc2l0cGhvdG9zLmNvbQ.2Y1-CjGP3SG0-r12hxxpm-Ji9X9xUMYk0pJjBkCfcPA","mx.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9teC5kZXBvc2l0cGhvdG9zLmNvbQ.nMXUJo7MlyV6y05VZcAxL0W_VzJQ1rUeoHVW-lQCJuY","nl.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9ubC5kZXBvc2l0cGhvdG9zLmNvbQ.OH5D0kZZrXC2rIA-94a8IFYnVYV8TAZcNujd6AGFfVw","pl.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9wbC5kZXBvc2l0cGhvdG9zLmNvbQ.K36SIH-K2y1aL6EvApqIPQONCkOTkg8_nlPkKGrxlLU","pt.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9wdC5kZXBvc2l0cGhvdG9zLmNvbQ.MfNwgz_rv3KBpL63jwMOFfpKfij02KEuvXcQrPxcmr8","ro.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9yby5kZXBvc2l0cGhvdG9zLmNvbQ.VtHwUrFi_xwycMczGt3rMeEPp0k5cSYah5gv6F62kGs","ru.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9ydS5kZXBvc2l0cGhvdG9zLmNvbQ.DmGwY0nC8cIRszt2o6BjTT4UoD5L5neTznd8gIfIi5I","se.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9zZS5kZXBvc2l0cGhvdG9zLmNvbQ.riOvvLm9i24mwlnbbRxerOi4xX0pVIaUpTHkV5HjaEU","sp.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9zcC5kZXBvc2l0cGhvdG9zLmNvbQ.Va4P1I-vfFzr6918TrHoSUI4Qt7-5tcQDsOSVmAzCIs","th.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly90aC5kZXBvc2l0cGhvdG9zLmNvbQ.JWgFyidX4GxO_-2iaopgcKlRxXoSrW0g-P-TX_qKVR4","tr.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly90ci5kZXBvc2l0cGhvdG9zLmNvbQ.vJQgIvyThFg2-kAI1EcH68Jy4itxWN855ixOPihI5Vo","ua.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly91YS5kZXBvc2l0cGhvdG9zLmNvbQ.l5Ser0TEjeAn6emcsgCrIQds_jqrO2gAAZcrmyINj5U","da.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9kYS5kZXBvc2l0cGhvdG9zLmNvbQ.WUIGAPBNVzTFcFaqQMXMZOxglg4tqN8ocHxe5oSdiKg","fi.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9maS5kZXBvc2l0cGhvdG9zLmNvbQ.2kQtSf4vXCGe09asudVC-aVXboT-pgY88ASQtJJ9qvE","no.depositphotos.com":"pub.v2.1115833122773380.aHR0cHM6Ly9uby5kZXBvc2l0cGhvdG9zLmNvbQ.KHwGzk7ArJtci20wT5tH_S1OdLaTt7tXU3w6gONZ6Ko"},supportedCardTypes:["amex","cup","diners","discover","jcb","maestro","mc","visa"]}})?n.apply(t,o):n)||(e.exports=s)},637:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(772),n=i(556);e.exports=n.extend({name:"Card",el:!1,template:t,mode:"view",size:"medium",initialize:function(){this.listenTo(this.model,"change",this.render)},serialize:function(){var e=this.model.serialize();return e.labels.cvv=e.labels.cvv||this.model.mask.cvv,{model:e,classes:this.createCardClasses(),numberLength:this.model.cleanNumber(e.number).length}},createCardClasses:function(){var e="card-box_size-"+this.size[0].toLowerCase();"edit"===this.mode&&(e+=" card-box_edit");var t=this.model.getTypeFromNumber(),i=this.model.get("paymentTokenType");return t?e+=" card-box_type-"+t.replace(/_/g,"-"):i&&"raw"!==i&&(e+=" card-box_type-"+i.replace(/_/g,"-")),e}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},638:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(775);var t=i(0),n=i(776),o=i(626),s=i(635),a=i(640),r=i(559);e.exports=o.extend({name:"MerchantForm",template:n,classNames:"",savedCards:[],initialize:function(e){var t=this;this.formId=e.formId||this.cid,this.listenTo(this.model,{request:this.onModelRequest,sync:this.onModelSyncSuccess,invalid:this.onModelInvalid,error:this.onModelError}),this.setViews({"._merchant-card-manager":new s({app:this.app,model:this.model,savedCards:this.savedCards,onModelChangeCallback:function(){return t.onCardChangeCallback.apply(t,arguments)}})})},serialize:function(){return{formId:this.formId,classNames:this.classNames}},prepareSubmit:function(){var e=this.getView("._merchant-card-manager");e&&(this.model.set({captcha:e.getCaptchaValue()}),e.resetErrors())},validate:function(){return this.getView("._merchant-card-manager").validate()},submit:function(e){var t=this;void 0===e&&(e=!0);var i=function(){t.onStartFormSubmit(),t.model.save({},{success:t.onSaveSuccess.bind(t)})};e?this.confirmSubmit(i):i()},confirmSubmit:function(e){this.setNotExistView("ConfirmationModal",a,{onSubmitCallback:e}).show()},markError:function(){var e;(e=this.getView("._merchant-card-manager")).markError.apply(e,arguments)},onSaveSuccess:function(e,t){e.validationError||t.errors||this.onSuccessFormSubmit(e,t)},onModelRequest:function(){this.getView("._merchant-card-manager").resetCaptchaError()},onModelSyncSuccess:function(e,t){this.onFinishFormSubmit(),t.errors&&this.getView("._merchant-card-manager").resetCaptcha()},onModelInvalid:function(e,t){this.checkForExternalErrors(e,t)},onModelError:function(e,t){this.onFinishFormSubmit();var i=r.parse(this.app,t.errors,{associate:!0});this.checkForExternalErrors(e,i),this.app.observer.broadcast("Track:UE:Billing:BillingError",{errorInfo:JSON.stringify(i)})},checkForExternalErrors:function(e,i){var n=t.omit(i,Object.keys(e.defaults));t.isEmpty(n)||this.onModelExternalError(n)},onCardChangeCallback:function(){},onModelExternalError:function(){},onStartFormSubmit:function(){},onFinishFormSubmit:function(){},onSuccessFormSubmit:function(){}})}))},639:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(777);i(778);var o=i(626),s=i(750),a=i(640),r=i(559),l=i(751).collect;e.exports=o.extend({name:"AdyenCardForm",el:!1,template:n,classNames:"",formId:null,cards:null,model:null,isCompactMode:!1,initialize:function(){this.setView("._card-manager",new s({app:this.app,cards:this.cards,isCompactMode:this.isCompactMode})),this.setModelListeners()},serialize:function(){return{formId:this.getFormId(),classNames:this.classNames}},prepareSubmit:function(){this.resetErrors(),this.model.set(this.getView("._card-manager").getActiveCard())},validate:function(){return this.getView("._card-manager").validate()},submit:function(e){var i=this;void 0===e&&(e=!0);var n=function(){return i.model.save({},{validate:!1,getQueryParams:t({},i.model.getQueryParams(),{browserInfo:l()})})};e?this.confirmSubmit(n):n()},confirmSubmit:function(e){this.setNotExistView("ConfirmationModal",a,{onSubmitCallback:e}).show()},getFormId:function(){return this.formId||this.cid},markError:function(e,t){this.fieldIncorrect(this.$("._error-holder"),{errorMessage:t})},resetErrors:function(){this.fieldReset(this.$("._error-holder"))},handleModelResponse:function(e,t){this.onModelResponseCallback(),e.validationError||t.errors||this.onModelSuccessResponseCallback(e,t)},handleModelError:function(e,t){var i=this;void 0===t&&(t={}),this.onModelResponseCallback();var n=r.parse(this.app,t.errors,{associate:!0});this.app.observer.broadcast("Track:UE:Billing:BillingError",{errorInfo:JSON.stringify(n)}),Object.values(n).forEach((function(e){return i.markError(e)}))},onModelResponseCallback:function(){},onModelSuccessResponseCallback:function(){}})}))},640:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(91),n=i(563);e.exports=n.extend({name:"CardConfirmation",initialize:function(){for(var e=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];n.prototype.initialize.apply(this,o),this.title=t.CardConfirmation,this.message=this.tr(t.CardConfirmationMessage),this.footer=[{label:t.CancelBtn,hide:!0,callback:function(){return e.onCancelCallback()}},{label:t.ConfirmBtn,hide:!0,color:"blue",defaultAction:!0,callback:function(){return e.onSubmitCallback()}}]}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},641:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="installment-rebill-info"><span>'+this.tr("You have purchased a one-year plan with monthly billing. This means, you opted for a plan which offers a discounted monthly price for a one year commitment.")+"</span><br><br><span>"+this.tr("You can turn off the Auto-Renewal during the last month of your annual commitment. This will prevent the plan from renewing for another one-year commitment.")+"</span><br><br><span>"+this.tr("If youre looking to cancel your annual plan early, please contact us and we can explore your options.")+"</span></div>"}})?n.apply(t,o):n)||(e.exports=s)},642:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(797),n=i(556);e.exports=n.extend({name:"EarnedMoney",el:!1,template:t,balance:0,serialize:function(){return{balance:this.balance.toFixed(2)}}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},644:function(e,t,i){"use strict";var n=i(863),o=i(658),s=t.toInt=function(e){return parseInt(e,10)||0},a=t.clone=function(e){if(e){if(Array.isArray(e))return e.map(a);if("object"==typeof e){var t={};for(var i in e)t[i]=a(e[i]);return t}return e}return null};function r(e){return function(t,i){e(t,"ps--in-scrolling"),void 0!==i?e(t,"ps--"+i):(e(t,"ps--x"),e(t,"ps--y"))}}t.extend=function(e,t){var i=a(e);for(var n in t)i[n]=a(t[n]);return i},t.isEditable=function(e){return o.matches(e,"input,[contenteditable]")||o.matches(e,"select,[contenteditable]")||o.matches(e,"textarea,[contenteditable]")||o.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=n.list(e),i=0;i<t.length;i++){var o=t[i];0===o.indexOf("ps-")&&n.remove(e,o)}},t.outerWidth=function(e){return s(o.css(e,"width"))+s(o.css(e,"paddingLeft"))+s(o.css(e,"paddingRight"))+s(o.css(e,"borderLeftWidth"))+s(o.css(e,"borderRightWidth"))},t.startScrolling=r(n.add),t.stopScrolling=r(n.remove),t.env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof window&&null!==window.navigator.msMaxTouchPoints}},645:function(e,t,i){"use strict";var n=i(644),o=i(863),s=i(658),a=i(627),r=i(652);function l(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}e.exports=function(e){var t,i=a.get(e);i.containerWidth=e.clientWidth,i.containerHeight=e.clientHeight,i.contentWidth=e.scrollWidth,i.contentHeight=e.scrollHeight,e.contains(i.scrollbarXRail)||((t=s.queryChildren(e,".ps__scrollbar-x-rail")).length>0&&t.forEach((function(e){s.remove(e)})),s.appendTo(i.scrollbarXRail,e)),e.contains(i.scrollbarYRail)||((t=s.queryChildren(e,".ps__scrollbar-y-rail")).length>0&&t.forEach((function(e){s.remove(e)})),s.appendTo(i.scrollbarYRail,e)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=l(i,n.toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=n.toInt((i.negativeScrollAdjustment+e.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=l(i,n.toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=n.toInt(e.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),function(e,t){var i={width:t.railXWidth};t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-e.scrollTop:i.top=t.scrollbarXTop+e.scrollTop,s.css(t.scrollbarXRail,i);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,s.css(t.scrollbarYRail,n),s.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),s.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(e,i),i.scrollbarXActive?o.add(e,"ps--active-x"):(o.remove(e,"ps--active-x"),i.scrollbarXWidth=0,i.scrollbarXLeft=0,r(e,"left",0)),i.scrollbarYActive?o.add(e,"ps--active-y"):(o.remove(e,"ps--active-y"),i.scrollbarYHeight=0,i.scrollbarYTop=0,r(e,"top",0))}},646:function(e,t,i){(function(n){var o,s,a;!function(i,n){s=[],void 0===(a="function"==typeof(o=n)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(879).mobile.responsive;e.exports.canShowZoomModal=function(){return window.innerWidth>=t.zoomModal},e.exports.isMobileModeWideSearch=function(){return window.innerWidth>t.mobilePhone&&window.innerWidth<=t.mobileTablets},e.exports.shouldEnableMobileLayout=function(){return window.innerWidth<=t.mobileLayouts},e.exports.desktopMedium=function(){return window.innerWidth<=t.desktopMedium},e.exports.desktopSmall=function(){return window.innerWidth<=t.desktopSmall},e.exports.mobileMode=function(){return window.innerWidth<=t.mobileBig},e.exports.mobileTablets=function(){return n.browser&&window.innerWidth<=t.mobileTablets},e.exports.mobileTabletsSmall=function(){return window.innerWidth<=t.mobileTabletsSmall},e.exports.mobilePhone=function(){return window.innerWidth<=t.mobilePhone},e.exports.heightBigMode=function(){return window.innerHeight>=t.heightBigMode},e.exports.favoritesPanelIsVisible=function(){return window.innerWidth>=t.mobileTablets},e.exports.signUpSmallMode=function(){return window.innerHeight<=t.signUpSmallMode},e.exports.signUpMobileModeSafariFix=function(){return window.innerWidth<=t.signUpMobileModeSafariFix},e.exports.compactSearchSorting=function(){return window.innerWidth<=t.compactSearchSorting},e.exports.searchModalInMobileMode=function(){return window.innerHeight<=t.searchModalMobileHeight},e.exports.favoritesListTableInMobilePhoneMode=function(){return window.innerWidth<=t.favoritesListTableMobilePhoneWidth},e.exports.marketFoldersMobileMode=function(){return window.innerWidth<=t.marketFoldersMobileMode},e.exports.curatedCollectionBlockMobile=function(){return window.innerWidth<=t.curatedCollectionBlockMobile},e.exports.isGlobalStepSmall=function(){return window.innerWidth<=t.globalStepSmall},e.exports.isStepMobileStart=function(){return window.innerWidth<=t.globalMobileStepStart},e.exports.isGlobalStepPhone=function(){return window.innerWidth<=t.globalStepPhone},e.exports.defineStep=function(){return window.innerWidth<=t.globalStepTiny?t.mobileBig:window.innerWidth<=t.globalStepSmall?t.globalStepTiny:window.innerWidth<=t.globalStepMedium?t.globalStepSmall:t.globalStepMedium}}))}).call(this,i(23))},651:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t="MMM DD, YYYY",i="YYYY-MM-DD HH:mm:ssZZ",n="YYYY-MM-DD HH:mm:ss";e.exports={statisticsRequest:i,statisticsDays:t,licenseDays:t,enterpriseDownloads:t,downloadsRequest:i,datepickerCache:n,logsDate:"MMM DD, YYYY HH:mm:ss",logsRequest:i,logsRequestFilter:n}})?n.apply(t,o):n)||(e.exports=s)},652:function(e,t,i){"use strict";var n=i(627),o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,i){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===i)throw"You must provide a value to the update-scroll function";"top"===t&&i<=0&&(e.scrollTop=i=0,e.dispatchEvent(o("ps-y-reach-start"))),"left"===t&&i<=0&&(e.scrollLeft=i=0,e.dispatchEvent(o("ps-x-reach-start")));var s=n.get(e);"top"===t&&i>=s.contentHeight-s.containerHeight&&((i=s.contentHeight-s.containerHeight)-e.scrollTop<=1?i=e.scrollTop:e.scrollTop=i,e.dispatchEvent(o("ps-y-reach-end"))),"left"===t&&i>=s.contentWidth-s.containerWidth&&((i=s.contentWidth-s.containerWidth)-e.scrollLeft<=1?i=e.scrollLeft:e.scrollLeft=i,e.dispatchEvent(o("ps-x-reach-end"))),void 0===s.lastTop&&(s.lastTop=e.scrollTop),void 0===s.lastLeft&&(s.lastLeft=e.scrollLeft),"top"===t&&i<s.lastTop&&e.dispatchEvent(o("ps-scroll-up")),"top"===t&&i>s.lastTop&&e.dispatchEvent(o("ps-scroll-down")),"left"===t&&i<s.lastLeft&&e.dispatchEvent(o("ps-scroll-left")),"left"===t&&i>s.lastLeft&&e.dispatchEvent(o("ps-scroll-right")),"top"===t&&i!==s.lastTop&&(e.scrollTop=s.lastTop=i,e.dispatchEvent(o("ps-scroll-y"))),"left"===t&&i!==s.lastLeft&&(e.scrollLeft=s.lastLeft=i,e.dispatchEvent(o("ps-scroll-x")))}},653:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(833);var t=i(834),n=i(835),o=i(0),s=i(26),a=i(556),r=i(642),l={credits:{},subscription:{},ondemand:{},membership:{},imagepack:{}};l.credits.View=i(752),l.credits.template=i(786),l.subscription.View=i(746),l.subscription.template=i(792),l.ondemand.View=i(748),l.ondemand.template=i(793),l.imagepack.View=i(765),l.imagepack.template=i(794),l.membership.View=i(741),l.membership.template=i(795),e.exports=a.extend({name:"UserProductsList",el:!1,template:t,showBalance:!1,linksEnabled:!1,handleProductClick:!0,canShowRebillDiscount:!1,plans:void 0,events:{"click ._product":"onUserProductClick"},initialize:function(){this.listenTo(this.app.user,"sync",this.render)},prepareRender:function(){this.showBalance&&this.insertView("._list",new r({app:this.app,template:n,balance:this.app.user.get("balance")})),o.each(this.plans.serializeUserPlans(),(function(e){this.insertView("._list",this.getProductView(e))}),this)},serialize:function(){return{products:this.plans.serializeUserPlans()}},getProductView:function(e){var t=this.linksEnabled?this.app.makeUrl("subscribe",{backURL:!0}):"",i=l[e.type],n=this.app.user.products.findWhere({type:e.type,id:e.id});return i&&n?new i.View({app:this.app,template:i.template,product:n.serialize(),model:n,canShowRebillDiscount:this.canShowRebillDiscount,showRefillModalOnClick:this.handleProductClick,serializeParams:{href:t,shouldShowAsSelected:this.shouldShowAsSelected(n)}}):null},onUserProductClick:function(e){this.linksEnabled||(e.stopPropagation(),e.preventDefault()),e.stopImmediatePropagation(),this.chooseProductCallback(this.plans.serializeUserPlans()[s.$(e.currentTarget).index()])},shouldShowAsSelected:function(){return!1},chooseProductCallback:o.noop})}))},654:function(e,t,i){(function(n){var o,s,a;!function(i,n){s=[],void 0===(a="function"==typeof(o=n)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var e=i(5),o=i(35),s=[];t.reset=function(e){if(n.browser&&window.grecaptcha){var t=function(e){if(e&&e.length){var t=e.attr("id").split("g-recaptcha-response-");return t[1]?t[1]:void 0}}(e);try{grecaptcha.reset(t)}catch(e){}}},t.injectScript=function(){return new Promise((function(t,i){n.browser?window.grecaptcha?t():0===s.length?(s.push(t),window.onloadRecaptchaCallback=function(){s.forEach((function(e){return e()})),s=[]},o({id:"recaptcha",async:!0,src:e.client.recaptcha.apiUrl+"?onload=onloadRecaptchaCallback&render=explicit"})):s.push(t):i()}))},t.render=function(e){return new Promise((function(t,i){if(e)try{grecaptcha.render(e),t()}catch(e){i(e)}else i()}))}}))}).call(this,i(23))},655:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";function n(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var o=i(0),s=i(26).$,a=i(883),r=i(624),l=i(744),c=i(556),d=i(566),u=i(560);i(745);var h=a.sort((function(e,t){return e.country_name>t.country_name?1:-1})),p=c.extend({name:"PhoneNumber",el:!1,template:l,templateSelection:o.template('<i class="callingcodeselector-cc callingcodeselector-cc-selection"><%= label %></i><i class="callingcodeselector-flag callingcodeselector-flag-selection flag <%= flag %>"></i>'),templateResult:o.template('<div class="callingcodeselector-row"><span class="callingcodeselector-col callingcodeselector-col-left"><i class="callingcodeselector-cn callingcodeselector-cn-item"><%= name %></i></span><span class="callingcodeselector-col callingcodeselector-col-middle"><i class="callingcodeselector-cc callingcodeselector-cc-item">+<%= phone %></i></span><span class="callingcodeselector-col callingcodeselector-col-right"><i class="callingcodeselector-flag callingcodeselector-flag-selection flag <%= flag %>"></i></span></div>'),required:!1,phone:"",placeholder:"Phone",phoneFieldName:"phone",anDisallowedCharsRegex:/[^\d -]/gim,preDefineCode:!0,events:{click:"onClick","click .phonenumber-cc":"onCallingCodeClick","blur .phonenumber-an":"onBlur","focus .phonenumber-an":"onFocus","paste .phonenumber-an":"onPasteCleanAN","keydown .phonenumber-an":"onKeyDownPreventNonAllowedKeys","keyup .phonenumber-an":"onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN","change .phonenumber-an":"onChange"},globals:{click:"handleDocumentClick"},initialize:function(){this.on("change",this.setCompiledNumber.bind(this))},getCountriesData:function(e){var t=[],i={};return h.forEach((function(n){var o={code:n.country_code,title:n.country_name,phoneCode:n.phoneCode,flag:"flag-"+n.country_code.toLowerCase(),selected:n.phoneCode===e};o.selected&&(i=o),t.push(o)})),{list:t,selected:i}},serialize:function(){var e;if(this.phone)e=d.parseNumber(this.phone,this.app);else if(this.preDefineCode){var t=d.getContact(this.app)||{};e={code:(d.parseNumber(t.number,this.app)||{}).code}}var i=this.getCountriesData(e&&e.code);return{countries:i.list,phone:e&&e.number||"",required:this.options.required,placeholder:this.options.required?this.placeholder+" *":this.placeholder,phoneFieldName:this.phoneFieldName,selectedCountry:i.selected}},getPhoneNumber:function(){return this.$(".phonenumber-an").val()},getPhoneCode:function(){return this.$(".phonenumber-cc-value").val()},setCompiledNumber:function(){var e=!this.required||this.isValid()?this.getCompiledPhoneNumber():"";this.$("[name="+this.phoneFieldName+"]").val(e)},getCompiledPhoneNumber:function(){return this.getPhoneCode()&&this.getPhoneNumber()?"+"+this.getPhoneCode()+this.getPhoneNumber():""},clientAfterRender:function(){var e=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(o,s){var a=e.apply(t,i);function r(e){n(a,o,s,r,l,"next",e)}function l(e){n(a,o,s,r,l,"throw",e)}r(void 0)}))}}(t.default.mark((function n(){var o,s;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(26).then(i.t.bind(null,884,7));case 2:o=t.sent,s=o.default,e.initSelect2({helper:s});case 5:case"end":return t.stop()}}),n)})))()},initSelect2:function(e){var t=this,i=e.helper,n=this.$(".phonenumber-cc");n.height((function(){var e=s(this);e.height(e.parent().height()-2)}));var o=i.getConfig(),a=o.dropdownAdapter,r=o.resultsAdapter;n.addClass("phonenumber-select2").select2({theme:"phonenumber",width:"100%",placeholder:"&mdash;",dropdownAutoWidth:!0,preventWindowScroll:!0,allowClear:!1,minimumResultsForSearch:1/0,templateSelection:this.select2SelectionTemplate.bind(this),templateResult:this.select2ResultTemplate.bind(this),dropdownAdapter:a,resultsAdapter:r,escapeMarkup:function(e){return e},matcher:function(e,t){if(!e.term||!e.term.trim())return t;var i=t.text.trim().toLowerCase(),n=e.term.trim().toLowerCase();return i.substr(0,1)===n.substr(0,1)?t:null}}),this.$("._select-placeholder").remove();var l=this;n.on("select2:open",(function(){l.opened=!0,l.onFocus(),s(this).data("select2").$dropdown.width(n.closest(".phonenumber").outerWidth()),n.find(".select2").height((function(){var e=s(this);e.height(e.closest(".phonenumber-cell").height())}))})),n.on("select2:close",(function(){t.opened=!1,t.onBlur()})),n.on("select2:select",(function(){s(this).blur(),l.focusAbonentNumberInput()})),n.on("change",this.updateCCFromCC.bind(this)),this.updateCCFromCC()},select2SelectionTemplate:function(e){if(!e.id)return e.text;var t=e.element.getAttribute("data-cc"),i=t?"+"+t:"&#8212;&nbsp;&nbsp;&nbsp;";return this.templateSelection({label:i,flag:e.element.getAttribute("data-flag")})},select2ResultTemplate:function(e){return e.id&&e.element?this.templateResult({name:e.text,phone:e.element.getAttribute("data-cc"),flag:e.element.getAttribute("data-flag")}):e.text},onPasteCleanAN:function(){var e=this,t=this.$(".phonenumber-an"),i=t.attr("maxlength");t.removeAttr("maxlength"),clearTimeout(this.pasteTimer),this.pasteTimer=setTimeout((function(){e.cleanAN(),t=e.$(".phonenumber-an");var n=e.getAN();t.attr("maxlength",i),n=n.replace(/[^\d-]/gi,""),e.setAN(n.length>i?n.substring(0,i):n)}),30)},onKeyDownPreventNonAllowedKeys:function(e){[r.deleteKey,r.backspace,r.tab,r.esc,r.enter,r.space].includes(e.which)||!e.shiftKey&&[r.dash,r.subtract,173].includes(e.which)||!0===e.ctrlKey||!0===e.metaKey||e.which>=r.end&&e.which<=r.down||e.altKey&&e.shiftKey||(e.shiftKey||e.which<r.digit0||e.which>r.digit9)&&(e.which<r.numDigit0||e.which>r.numDigit9)&&e.preventDefault()},onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN:function(e){var t=this;clearTimeout(this.keyupTimer),this.keyupTimer=setTimeout((function(){e.which===r.alt&&t.cleanAN()}),30)},onChange:function(){this.required&&this.validateAndHighlight(),this.trigger("change",this)},cleanAN:function(){var e=this.getAN(),t=this.cleanANValue(e);e!==t&&this.setAN(t)},cleanANValue:function(e){return(e||0===e?e:"").toString().replace(this.options.anDisallowedCharsRegex,"")},updateCCFromCC:function(){var e=this.getCCSelected();this.setCCValue(e),this.trigger("change",this)},getCCSelected:function(){return this.$(".phonenumber-cc :selected").attr("data-cc")},getAN:function(){return this.$(".phonenumber-an").val()},setAN:function(e){this.$(".phonenumber-an").val(e)},getCCValue:function(){return this.$(".phonenumber-cc-value").val()},setCCValue:function(e){this.$(".phonenumber-cc-value").val(e)},handleDocumentClick:function(){this.opened&&(this.$(".phonenumber-cc").select2("close"),this.onBlur())},onCallingCodeClick:function(){return this.onFocus(),!1},onClick:function(){return this.resetHighlight(),!1},focusAbonentNumberInput:function(){this.$(".phonenumber-an").focus()},resetHighlight:function(){this.fieldReset(this.$el)},highlightInvalid:function(){this.fieldIncorrect(this.$el)},highlightValid:function(){this.fieldCorrect(this.$el)},validateAndHighlight:function(){var e=this.isValid();return e?this.highlightValid():this.highlightInvalid(),e},params:function(){var e=this.getCCValue();return{callingCode:"NONE"===e?"":e,abonentNumber:this.getAN()}},value:function(){var e=this.params();return""+e.callingCode+e.abonentNumber},isValid:function(){var e=this.params();return this.options.required?e.callingCode&&e.abonentNumber:!e.abonentNumber||!!e.callingCode},onFocus:function(){this.$el.addClass("phonenumber-focused")},onBlur:function(){this.$el.removeClass("phonenumber-focused")}});Object.assign(p.prototype,u),e.exports=p},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},656:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(558);e.exports=t.extend({name:"UserPlansTooltip",params:{type:"html",rootClose:!0,displayEffect:"increase",displayPosition:"fixed",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:2,left:0},pointerShow:!1},classes:{"tooltip_extra-shadow":!0,"tooltip_not-border":!0,tooltip_rounding:!0},prepareContent:function(){this.content=this.getContentView()},getContentView:function(){}})})?n.apply(t,o):n)||(e.exports=s)},658:function(e,t,i){"use strict";var n={};n.e=function(e,t){var i=document.createElement(e);return i.className=t,i},n.appendTo=function(e,t){return t.appendChild(e),e},n.css=function(e,t,i){return"object"==typeof t?function(e,t){for(var i in t){var n=t[i];"number"==typeof n&&(n=n.toString()+"px"),e.style[i]=n}return e}(e,t):void 0===i?function(e,t){return window.getComputedStyle(e)[t]}(e,t):function(e,t,i){return"number"==typeof i&&(i=i.toString()+"px"),e.style[t]=i,e}(e,t,i)},n.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},n.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},n.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return n.matches(e,t)}))},e.exports=n},739:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(155),n=t.allPatch,o=t.photoPatch,s=t.vectorPatch,a=t.videoPatch,r=t.illustrationPatch,l=t.crelloTemplatePatch,c=t.create,d=t.audioPatch,u=function(e,t){return Object.keys(t).every((function(i){return t[i]===e.get(i)}))},h=function(e,t){return e.find((function(e){return Object.entries(e.patch).every((function(e){var i=e[0],n=e[1];return t[i]===n}))}))};e.exports={isAllTypeApplied:function(e){return u(e,n)},isPhotoTypeApplied:function(e){return u(e,o)},isVectorTypeApplied:function(e){return u(e,s)},isVideoTypeApplied:function(e){return u(e,a)},isIllustrationTypeApplied:function(e){return u(e,r)},isCrelloTemplateTypeApplied:function(e){return u(e,l)},getActiveTypeByPatch:h,getActiveTypeFromModel:function(e,t){var i=c(t),n=e.mutable.type.reduce((function(t,i){return t[i]=e.get(i),t}),{});return h(i,n)||i.find((function(e){return e.isDefault}))},isAudioTypeApplied:function(e){return u(e,d)}}}))},740:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(743);e.exports={init3ds:function(e){var i=this,n=e.app,o=e.html;t.subscribe({client:this.webSocketClient,path:"api/payments/connectUser",payload:{userId:n.user.get("id")},onInit:function(){return i.on3dsInit(o)},onInitSuccess:function(e){i.webSocketClient=e,i.on3dsInitSuccess(o,i.webSocketClient)},onInitError:function(){return i.on3dsInitError(o)},onConnect:function(){return i.on3dsConnect(o)},onSuccess:function(){return i.on3dsSuccess.apply(i,arguments)},onError:function(e){return i.on3dsError(e)}})},open3dsBlankWindow:function(e){void 0===e&&(e="");var t=window.open("","3dsWindow");null!=t?(t.document.write(e),t.window.onload()):this.open3dsSameWindow(e)},open3dsSameWindow:function(e){window.document.write(e),window.onload()},on3dsInit:function(){},on3dsInitSuccess:function(){},on3dsInitError:function(){},on3dsConnect:function(){},on3dsSuccess:function(){},on3dsError:function(){}}},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},741:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(4),o=i(33),s=i(562);e.exports=s.extend({name:"Membership",showRefillModalOnClick:!0,originalEvents:Object.assign({},s.prototype.originalEvents,{click:"onClick","click ._buy-more":"onBuyMoreClick"}),onClick:function(e){this.$el.hasClass("_buy-more")&&this.showRefillModalOnClick&&(e.preventDefault(),this.showRefillMembershipModal())},onBuyMoreClick:function(e){e.preventDefault(),this.showRefillModalOnClick&&this.showRefillMembershipModal()},showRefillMembershipModal:function(){this.app.store.get("ModalsManager").show("RefillMembershipModal",{app:this.app,type:"buyMore"}).catch((function(){}))},getCuratedLabel:function(e){return void 0===e&&(e=this.product),e.basic||e.curated?this.tr("Downloads from the Free Collection: <b>Unlimited</b>"):""},getRenewLabel:function(e){if(void 0===e&&(e=this.product),!e.count)return"";var i=n.duration(n.unix(e.renewal).valueOf()),s=i.days()>0?"moreThanDay":"lessThanDay",a="lessThanDay"===s?[i.hours(),i.minutes()]:Math.round(i.asDays()),r=t.findWhere(o.productRenewLabels,{type:e.type,renewal:s});return r&&r.label?this.tr(r.label.trim(),a):""},getLeftLabel:function(e){return void 0===e&&(e=this.product),e.count||e.left?e.curated?this.tr("Downloads from the Main Collection: <b>%s</b>",e.left):s.prototype.getLeftLabel.call(this,e):""},getProductContent:function(e){var t;void 0===e&&(e=this.product);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var a=(t=s.prototype.getProductContent).call.apply(t,[this,e].concat(n));return a.action=this.tr("Buy Downloads"),e.curated&&a.info.push({key:"curated",value:this.getCuratedLabel(e)}),a.info.push({key:"renew",value:this.getRenewLabel(e)}),a}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},742:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(154).captchaErrors,n=i(654),o=".g-recaptcha-response";e.exports={getCaptchaErrMessage:function(){return"Please check the ReCaptcha check box."},shouldShowCaptcha:function(e){return Object.values(t).includes(e)},showCaptcha:function(){var e=this;this.isCaptchaAvailable()||n.injectScript().then((function(){return n.render(e.$("._captcha")[0])}))},resetCaptcha:function(){n.reset(this.$(o))},getCaptchaValue:function(){return this.$(o).val()||""},isCaptchaAvailable:function(){return this.$(o).length>0},isCaptchaValid:function(){return!this.isCaptchaAvailable()||""!==this.getCaptchaValue()}}}))},743:function(e,t,i){(function(e){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var n=i(5),o=i(26),s=(0,i(12).getLogger)(e),a=function(){return new Promise((function(e,t){return o.ajax({url:n.client.websocket.clientUrl,dataType:"script",success:function(){var i=new(window.ActionheroClient?window.ActionheroClient:window.ActionheroWebsocketClient)({strategy:"online, timeout, disconnect"});i.on("error",(function(e){s.error("WebSocket Error",e.stack)})),i.connect((function(n){return n?t(n):e(i)}))},error:function(e){return t(e)},async:!0})}))},r=function(e){var t=e.message,i=e.onSuccess,n=e.onError;t.success?i({message:t}):null!=t.error&&n({code:t.error.code,message:t.error.desc})};t.subscribe=function(e){void 0===e&&(e={});var t=e,i=t.client,n=t.path,o=void 0===n?"":n,s=t.payload,l=void 0===s?{}:s,c=t.onInitSuccess,d=void 0===c?function(){}:c,u=t.onInitError,h=void 0===u?function(){}:u,p=t.onInit,f=void 0===p?function(){}:p,b=t.onConnect,m=void 0===b?function(){}:b,v=t.onDisconnect,g=void 0===v?function(){}:v,y=t.onSuccess,w=void 0===y?function(){}:y,_=t.onError,x=void 0===_?function(){}:_,k=t.processMessage,T=void 0===k?r:k,C=function(e){e.on("message",(function(e){return T({message:e.message||e,onSuccess:w,onError:x})})),e.on("disconnected",g),e.action(o,l,m)};i?C(i):a().then((function(e){d(e),C(e)})).catch(h).finally(f)}}))}).call(this,i(8)(e))},744:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="phonenumber"><div class="phonenumber-container"><div class="phonenumber-cell phonenumber-cell-left"><select class="phonenumber-cc hidden" tabindex="-1" style="visibility: hidden;"><option></option>',n=e.countries;if(n)for(var o,s=-1,a=n.length-1;s<a;)i+='<option value="'+t((o=n[s+=1]).code)+'"data-cc="'+t(o.phoneCode)+'"data-flag="'+t(o.flag)+'" ',o.selected&&(i+=' selected="selected"'),i+=">"+t(o.title)+"</option>";return i+='</select><span class="select2 select2-container select2-container--phonenumber select2-container--below select2-container--open _select-placeholder"><span class="selection"><span class="select2-selection select2-selection--single"><span class="select2-selection__rendered"><i class="callingcodeselector-cc callingcodeselector-cc-selection">+'+t(e.selectedCountry.phoneCode)+'</i><i class="callingcodeselector-flag callingcodeselector-flag-selection flag '+t(e.selectedCountry.flag)+'"></i></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span></span><input class="phonenumber-cc-value" type="hidden"></div><div class="phonenumber-cell phonenumber-cell-right"><input class="phonenumber-an" type="tel" data-name="phone" maxlength="15" placeholder="'+this.tr("Phone"),e.required&&(i+=" *"),i+='" value="'+t(e.phone)+'"></div></div><input type="hidden" name="'+t(e.phoneFieldName)+'"></div>'}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},745:function(e,t,i){},746:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(33),o=i(561),s=i(91),a=i(4),r=i(562),l=i(556),c=i(787),d=i(790),u=i(558);e.exports=r.extend({name:"Subscription",periods:[30,90,180,360],prepareRender:function(){r.prototype.prepareRender.call(this),this.removeView("helpTooltip"),this.removeView("infoTooltip"),this.needToShowHelpTooltip()&&this.setView("helpTooltip",new u({params:o.Product,content:this.getHelpTooltipContent()})),this.setView("infoTooltip",new u({params:o.ProductInfo,content:this.getInfoTooltipContent()}))},serialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=r.prototype.serialize.apply(this,t);return this.product.installment.enabled&&(n.labels.installmentProgress=this.getInstallmentProgressLabel()),n},getProductContent:function(e){var t;void 0===e&&(e=this.product);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var s=(t=r.prototype.getProductContent).call.apply(t,[this,e].concat(n));return e.curated&&s.info.push({key:"curated",value:this.getCuratedLabel(e)}),s.info.push({key:"renew",value:this.getRenewLabel(e)}),s},getCuratedLabel:function(e){if(void 0===e&&(e=this.product),!e.curated)return"";var t=this.app.store.get("Stats"),i=t&&t.serialize().thousandsCuratedItems;return i?this.tr("Unlimited downloads from premium collection of %sk images",i):this.tr("Downloads from the Free Collection: <b>Unlimited</b>")},getInstallmentProgressLabel:function(){return this.tr("Payment: <b>%s of %s</b>",[this.product.installment.currentPeriod,this.product.installment.periodsCount])},needToShowHelpTooltip:function(){return!this.app.user.get("isSubaccount")||this.app.user.get("isSubaccount")&&this.product.owner},getSplitCountLabel:function(e){void 0===e&&(e=this.product);var t=e.split_count>0&&e.split_count<=10?"custom":"unlimit",i=n.productSplitCountLabels.find((function(i){return i.type===e.type&&i.value===t})).label;return this.tr(i,e.split_count)},getLeftLabel:function(e){if(void 0===e&&(e=this.product),e.curated)return"";if(e.unlimited)return this.tr("Downloads: <b>Unlimited</b>");var t=1===e.buy_period?"daily":"default",i=0===e.rebill_started?[e.left,e.count]:[0,0],n=e.rollover?{default:this.tr("Downloads left this month: <b>%s</b>",i),daily:this.tr("Downloads left today: <b>%s</b>",i)}:{default:this.tr("Downloads left this month: <b>%s of %s</b>",i),daily:this.tr("Downloads left today: <b>%s of %s</b>",i)};return n[t]||n.default},getHelpTooltipContent:function(e){return void 0===e&&(e=this.product),0===e.rebill_started?new c({app:this.app,product:this.product}):new d({app:this.app,product:this.product})},getInfoTooltipContent:function(e){return void 0===e&&(e=this.product),0===e.rebill_started?new l({el:!1,app:this.app,template:function(){return this.tr(s.DaysLeft)}}):new d({app:this.app,product:this.product})},getRenewLabel:function(e){void 0===e&&(e=this.product);var i,o=a.duration(a.unix(e.renewal).valueOf()),s="default",r=o.days()>0?"moreThanDay":"lessThanDay";1===e.buy_period&&(s="daily",r="lessThanDay"),i=1===e.rebill_started?"lessThanDay"===r?[0,0]:0:"lessThanDay"===r?[o.hours(),o.minutes()]:Math.round(o.asDays());var l=t.findWhere(n.productRenewLabels,{type:e.type,period:s,renewal:r,unlimited:e.unlimited});return l&&l.label?this.tr(l.label.trim(),i):""},getDaysLeft:function(e){if(void 0===e&&(e=this.product),"active"!==e.status)return 0;if(1===e.rebill_started)return 1;var t=e.installment.enabled?e.installment.expires:e.expires;return Math.round(a.unix(t).diff(a(),"d",!0))||1},showHelpTooltip:function(e){e.preventDefault(),this.getView("helpTooltip").show(e)},hideHelpTooltip:function(e){e.preventDefault(),this.getView("helpTooltip").hide(e)},showInfoTooltip:function(e){e.preventDefault(),this.getView("infoTooltip").show(e)},hideInfoTooltip:function(e){e.preventDefault(),this.getView("infoTooltip").hide(e)}})}))},747:function(e,t,i){},748:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(33),n=i(562);e.exports=n.extend({name:"OnDemand",getSplitCountLabel:function(e){void 0===e&&(e=this.product);var i=e.split_count>0&&e.split_count<=10?"custom":"unlimit",n=t.productSplitCountLabels.find((function(t){return t.type===e.type&&t.value===i})).label;return this.tr(n,e.split_count)},getRebillTitle:function(){return this.model.get("rebill").get("count")>0?this.tr("Auto-renewal <br />on %s downloads",this.model.get("rebill").get("count")):""},getExpiresLabel:function(e){void 0===e&&(e=this.product);var i=e.expires<86400?"today":"default",n=Math.floor(e.expires/86400),o=t.productExpiresLabels.find((function(t){return t.type===e.type&&t.period===i})).label;return this.tr(o,n)}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},750:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(755),n=i(556),o=i(635),s=i(756),a=i(15).classNames;i(760),e.exports=n.extend({name:"AdyenCardManager",el:!1,template:t,cards:null,useSavedCardsChecked:!0,isCompactMode:!1,events:{"change ._saved":"handleUseSavedCardsChange"},prepareRender:function(){this.setCardComponent()},serialize:function(){return{classNames:a({"adyen-card-manager_compact":this.isCompactMode}),savedCardsAvailable:this.savedCardsAvailable(),switcher:{tag:"span",name:"saved",checked:this.useMerchantCardManager(),className:"switcher_small",inputClass:"_saved"}}},savedCardsAvailable:function(){return this.cards&&this.cards.length},useMerchantCardManager:function(){return this.savedCardsAvailable()&&this.useSavedCardsChecked},getActiveCard:function(){return this.useMerchantCardManager()?this.getMerchantCard():this.getAdyenCard()},setCardComponent:function(){var e;e=this.useMerchantCardManager()?new o({app:this.app,savedCards:this.cards,isCompactMode:this.isCompactMode}):new s({app:this.app}),this.setView("._component",e).render()},getMerchantCard:function(){var e=this.getView("._component").getActiveCard();return e?e.serialize():null},getAdyenCard:function(){var e=this.getView("._component").getCardData();return e?{encrypted:e}:null},handleUseSavedCardsChange:function(e){this.useSavedCardsChecked=e.currentTarget.checked,this.setCardComponent(),this.onUseSavedChangeCallback(this.useSavedCardsChecked)},validate:function(){return this.useMerchantCardManager()?this.getView("._component").validate():this.getView("._component").isCardValid(!0)},onUseSavedChangeCallback:function(){}})}))},751:function(e,t,i){(function(i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports.collect=function(){if(!i.browser)return{};var e={screenWidth:"",screenHeight:"",colorDepth:"",language:"",userAgent:"",javaEnabled:!1,timeZoneOffset:(new Date).getTimezoneOffset()};return window.screen&&Object.assign(e,{screenWidth:window.screen.width,screenHeight:window.screen.height,colorDepth:window.screen.colorDepth}),window.navigator&&Object.assign(e,{javaEnabled:window.navigator.javaEnabled(),userAgent:window.navigator.userAgent,language:window.navigator.language?window.navigator.language:window.navigator.browserLanguage}),e}})?n.apply(t,o):n)||(e.exports=s)}).call(this,i(23))},752:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(33),n=i(4),o=i(562);e.exports=o.extend({name:"Credits",getRebillTitle:function(){return this.model.get("rebill").get("count")>0?this.tr("Auto-renewal <br />on %s credits",this.model.get("rebill").get("count")):""},getExpiresLabel:function(e){void 0===e&&(e=this.product);var i=n.unix(e.expires).diff(n(),"d"),o=i<1?"today":"default",s=t.productExpiresLabels.find((function(t){return t.type===e.type&&t.period===o})).label;return this.tr(s,i)}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},753:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="merchant-manager '+t(e.classes.holder)+'"><div class="merchant-manager_fields">';e.switcher.saved.isAvailable&&(i+='<div class="merchant-manager__item merchant-manager__item_saved"><label class="field-box switcher-box switcher-box_small"><span class="switcher-box-text">'+this.tr("Use my saved cards")+"</span><",e.switcher.saved.tag?i+=""+t(e.switcher.saved.tag):i+="label",i+=' class="switcher',e.switcher.saved.disabled&&(i+=" disabled _switcher-disabled"),i+=" "+t(e.switcher.saved.className||"")+'"><input class="switcher-checkbox '+t(e.switcher.saved.inputClass||"")+'" type="checkbox" name="'+t(e.switcher.saved.name)+'"',e.switcher.saved.value&&(i+=' value="'+t(e.switcher.saved.value)+'"'),e.switcher.saved.checked&&(i+=' checked="checked"'),e.switcher.saved.disabled&&(i+=" disabled"),i+=' /><span class="switcher-holder"><span class="switch-on"><span class="title">'+t(e.switcher.saved.labelOn||"On")+'</span></span><span class="switch-off"><span class="title">'+t(e.switcher.saved.labelOff||"Off")+'</span></span></span><i class="circle"></i></',e.switcher.saved.tag?i+=""+t(e.switcher.saved.tag):i+="label",i+="></label></div>"),i+='<div class="merchant-manager__item"><div class="fields-group _fields-group '+t(e.classes.fields)+'"><div class="fields-group__wrap"><div class="fields-group__part fields-group__part_half _fields-group-part"><div class="merchant-manager__field merchant-manager__field_number field-box field-box_light input-box input-box-xxl _cards-holder '+t(e.classes.number)+'"><i class="merchant-manager__card-type icon '+t(e.classes.cardIcon)+'"></i><i class="merchant-manager__select-arrow arrow arrow-strict arrow-down"></i><input type="hidden" name="cardId" value="'+t(e.card.id)+'"><input class="input input-xxl',e.state.empty.number&&(i+=" empty"),i+=' _cardNumber _field" type="text" name="number" value="'+t(e.card.number)+'" ',e.state.disabled.number&&(i+="disabled "),i+='maxlength="27" autofocus autocomplete="cc-number" inputmode="numeric"><span class="field-box__title">'+this.tr("Credit Card Number")+'</span><ul class="saved-cards-list hidden _cards-list">';var n=e.saved.list;if(n)for(var o,s=-1,a=n.length-1;s<a;)i+='<li><label class="saved-cards-list__item"><i class="saved-cards-list__icon icon icon-card-type-'+t((o=n[s+=1]).type)+'"></i>'+t(o.labels.number)+'<input class="saved-cards-list__radio _selected-card" type="radio" value="'+t(o.id)+'"',e.card.id===o.id&&(i+=" checked"),i+='><i class="saved-cards-list__active icon icon-ok-blue"></i></label></li>';return i+='</ul></div></div><div class="fields-group__part fields-group__part_fill _fields-group-part"><label class="merchant-manager__field merchant-manager__field_exp field-box field-box_light input-box input-box-xxl"><input class="input input-xxl _masked-exp _field',e.state.empty.expiry&&(i+=" empty"),i+='" type="text" name="expiry" value="'+e.card.labels.expireShort+'" placeholder="'+this.tr("mm / yy")+'"maxlength="5"',e.state.disabled.expiry&&(i+=" disabled"),i+=' autocomplete="cc-exp"><span class="field-box__title">'+this.tr("Expiration Date")+'</span></label><label class="merchant-manager__field merchant-manager__field_cvv field-box field-box_light input-box input-box-xxl"><input class="input input-xxl _cvv _field',e.state.empty.cvv&&(i+=" empty"),i+='" type="password" name="cvv" maxlength="4"value="'+e.card.cvv+'" ',e.state.disabled.cvv&&(i+=" disabled"),i+=' autocomplete="cc-csc"><span class="field-box__title">'+this.tr("CVV / CVC")+'</span></label></div></div><div class="fields-group__errors _fields-group-error"></div></div></div><div class="merchant-manager__item"><div class="g-recaptcha _captcha" data-sitekey="'+t(e.captcha.siteKey)+'"></div></div><div class="merchant-manager__item _errorHolder"><div class="merchant-manager__error-holder field-box"></div></div></div></div>'}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},754:function(e,t,i){},755:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="adyen-card-manager '+e.classNames+'">';return e.savedCardsAvailable&&(i+='<div class="adyen-card-manager__saved"><label class="field-box switcher-box switcher-box_small"><span class="switcher-box-text">'+this.tr("Use my saved cards")+"</span><",e.switcher.tag?i+=""+t(e.switcher.tag):i+="label",i+=' class="switcher',e.switcher.disabled&&(i+=" disabled _switcher-disabled"),i+=" "+t(e.switcher.className||"")+'"><input class="switcher-checkbox '+t(e.switcher.inputClass||"")+'" type="checkbox" name="'+t(e.switcher.name)+'"',e.switcher.value&&(i+=' value="'+t(e.switcher.value)+'"'),e.switcher.checked&&(i+=' checked="checked"'),e.switcher.disabled&&(i+=" disabled"),i+=' /><span class="switcher-holder"><span class="switch-on"><span class="title">'+t(e.switcher.labelOn||"On")+'</span></span><span class="switch-off"><span class="title">'+t(e.switcher.labelOff||"Off")+'</span></span></span><i class="circle"></i></',e.switcher.tag?i+=""+t(e.switcher.tag):i+="label",i+="></label></div>"),i+='<div class="_component"></div></div>'}})?n.apply(t,o):n)||(e.exports=s)},756:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var n=i(757),o=i(636).supportedCardTypes,s=i(556),a=i(758);e.exports=s.extend({name:"AdyenCardWidget",el:!1,template:n,card:null,serialize:function(){return{mountClass:this.getMountClass()}},clientAfterRender:function(){var e=this;a.getAdyenPaymentsClient({lang:this.app.lang,host:this.app.parsedUrl.host}).then((function(t){return e.initCardComponent(t)}))},initCardComponent:function(e){if(e&&!this.card){var t=document.querySelector("."+this.getMountClass());t&&(this.card=e.create("card",{brands:o}).mount(t))}},isCardValid:function(e){if(!this.card.state)return!1;var t=this.card.state.isValid;return!t&&e&&this.card.showValidation(),t},getMountClass:function(){return"_adyen-card_"+this.cid},getCardData:function(){return this.card&&this.card.data?t({},this.card.data.paymentMethod):null}})}))},757:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="adyen-card-widget"><div class="'+e.mountClass+'"></div></div>'}})?n.apply(t,o):n)||(e.exports=s)},758:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(e){"use strict";function n(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}e=function(e){return e&&e.__esModule?e:{default:e}}(e);var o,s,a=i(5),r=i(26),l=i(636),c=l.devKeys,d=l.prodKeys,u=i(759),h=function(e){return a.client.adyen.depUrl.replace("%e",a.client.adyen.environment).replace("%v",a.client.adyen.sdkVer).replace("%t",e)},p=function(e){var t={en:"en-US",de:"de-DE",fr:"fr-FR",sp:"es-ES",ru:"ru-RU",it:"it-IT",pt:"pt-BR",pl:"pl-PL",nl:"nl-NL",jp:"ja-JP",se:"sv-SE",cn:"zh-CN",mx:"es-ES",ko:"ko-KR",br:"pt-BR"};return t[e]||t.en},f=function(e,t){return(t?d:c)[e]};t.getAdyenPaymentsClient=function(){var t=function(e){return function(){var t=this,i=arguments;return new Promise((function(o,s){var a=e.apply(t,i);function r(e){n(a,o,s,r,l,"next",e)}function l(e){n(a,o,s,r,l,"throw",e)}r(void 0)}))}}(e.default.mark((function t(i){var n,l,c;return e.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(n=void 0===i?{}:i).lang,c=n.host,null!=o){e.next=6;break}return u({id:"adyenStyles",href:h("css")}),e.next=5,new Promise((function(e,t){return r.ajax({url:h("js"),dataType:"script",success:function(){window.AdyenCheckout?e(window.AdyenCheckout):t(new Error("adyen lib loaded but not found"))},error:function(e){return t(e)},async:!0})}));case 5:o=e.sent;case 6:return null==s&&(s=new o({environment:a.client.adyen.environment,originKey:f(c,a.isProduction),locale:p(l)})),e.abrupt("return",s);case 8:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},759:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return new Promise((function(t){if(e.id&&document.getElementById(e.id))t();else{var i=Object.assign(document.createElement("link"),{type:"text/css",rel:"stylesheet",id:"webpackPreventEnsure-"+e.id});i.setAttribute("data-href",e.href),document.head.appendChild(i);var n=document.createElement("link"),o=e.preload&&n.relList&&n.relList.supports("preload"),s={type:"text/css",rel:"stylesheet",onload:o?null:t()},a={rel:"preload",as:"style",onload:function(){return Object.assign(n,s)&&t()}};Object.assign(n,o?a:s,e),document.body.appendChild(n)}}))}})?n.apply(t,o):n)||(e.exports=s)},760:function(e,t,i){},761:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports={Autorenewal:"Rebill-Step",Unsubscribe:"UnsubscribePage"}})?n.apply(t,o):n)||(e.exports=s)},762:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(6);e.exports=t.extend({url:function(){return this.force?"ForceRebill":"Rebill"},isHttps:!0,force:!1,defaults:{cardId:null,productId:null,productType:null,rebillState:null,billingName:null},validation:{cardId:{required:!1,pattern:"number"},productId:{required:!0,pattern:"number"},productType:{required:!0},rebillState:{required:!0,boolean:!0},billingName:{required:!0}}})})?n.apply(t,o):n)||(e.exports=s)},763:function(e,t,i){},764:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(6),n="applied",o="scheduled";e.exports=t.extend({url:"UnsubscribeInfo",defaults:{isEligible:!1,bonusStatus:null},parse:function(e){return{isEligible:e.is_eligible,bonusStatus:e.bonus_status}},isApplied:function(){return this.get("bonusStatus")===n},isScheduled:function(){return this.get("bonusStatus")===o}})})?n.apply(t,o):n)||(e.exports=s)},765:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(33),n=i(562);e.exports=n.extend({name:"ImagePack",getExpiresLabel:function(e){void 0===e&&(e=this.product);var i=t.productExpiresLabels.find((function(t){return t.type===e.type})).label;return this.tr(i)}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},767:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";function n(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(o,s){var a=e.apply(t,i);function r(e){n(a,o,s,r,l,"next",e)}function l(e){n(a,o,s,r,l,"throw",e)}r(void 0)}))}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var a=i(0),r=i(26),l=i(564).to,c=i(774),d=i(556),u=i(637),h=i(152),p=i(638),f=i(639),b=i(559),m=i(740),v=i(565),g=i(625),y=i(768),w=600,_=d.extend(m).extend({name:"CardEditor",el:!1,template:c,opened:!1,countries:[],userGroupInfo:void 0,savedCards:[],events:{"click ._close":"onCloseClick","click ._submit":"onSubmitClick"},initialize:function(){this.model||(this.model=new h({},{app:this.app})),this.virtual=new h(this.model.toJSON(),{app:this.app})},prepareRender:function(){this.setViews({"._card":new u({app:this.app,model:this.virtual,mode:"edit",size:"large"}),"._sep":new d({tagName:"i",className:"card-editor__sep"}),"._form":this.getCardEditorForm()})},getCardEditorForm:function(){return"adyen"===this.app.user.get("billingName")?this.getAdyenForm():this.getMerchantForm()},getAdyenForm:function(e){return new f(s({app:this.app,model:new h({id:this.model.get("id"),billingName:this.model.get("billingName")},{app:this.app}),formId:this.cid,cards:this.savedCards,isCompactMode:!0,handleModelRequest:this.onStartMerchantSubmit.bind(this),onModelResponseCallback:this.onFinishMerchantSubmit.bind(this),onModelSuccessResponseCallback:this.onSuccessMerchantSubmit.bind(this)},e))},getMerchantForm:function(e){return new p(s({app:this.app,model:new h({id:this.model.get("id"),expiryMonth:this.model.get("expiryMonth"),expiryYear:this.model.get("expiryYear"),billingName:this.model.get("billingName")},{app:this.app}),savedCards:this.savedCards,formId:this.cid,onStartFormSubmit:this.onStartMerchantSubmit.bind(this),onFinishFormSubmit:this.onFinishMerchantSubmit.bind(this),onSuccessFormSubmit:this.onSuccessMerchantSubmit.bind(this),onCardChangeCallback:this.onMerchantModelChangeCallback.bind(this),onModelExternalError:this.onMerchantExternalError.bind(this)},e))},serialize:function(){return{formId:this.cid}},clientAfterRender:function(){v(this.$el,r.$),g(this.$("._submit"))},onCloseClick:function(){this.close()},onSubmitClick:function(e){e.preventDefault(),this.submitForm()},open:function(){var e=this;return o(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isOpened()){t.next=5;break}return t.next=3,new Promise((function(t){return e.$el.stop().show().animate({marginTop:0},w,t)}));case 3:t.next=10;break;case 5:return t.next=7,e.render().promise();case 7:return t.next=9,new Promise((function(t){return e.$el.show().animate({marginTop:0},w,t)}));case 9:e.onFinishOpeningAnimation();case 10:e.opened=!0;case 11:case"end":return t.stop()}}),i)})))()},close:function(){var e=this;return o(t.default.mark((function i(){var n;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getView("._billing-address-editor"))){t.next=4;break}return t.next=4,n.toggle(!1);case 4:return t.next=6,new Promise((function(t){return e.$el.stop().animate({marginTop:"-"+e.$el.outerHeight()},w,t)}));case 6:e.opened=!1,e.onClose(),e.remove();case 9:case"end":return t.stop()}}),i)})))()},isOpened:function(){return this.opened},submitForm:function(){this.getView("._form").$el.trigger("submit")},onFinishOpeningAnimation:function(){var e=this.$el.offset().top-(document.documentElement.clientHeight-this.$el.height())/2;r.$("html, body").animate({scrollTop:e+"px"},w)},onStartMerchantSubmit:function(){this.$("._submit").trigger("loading")},onFinishMerchantSubmit:function(){this.$("._submit").trigger("loaded")},onSuccessMerchantSubmit:function(e,t){var i=this;void 0===t&&(t={}),t.errors||(t.data&&t.data.is3dsTransaction?this.init3ds({app:this.app,html:t.data.html}):this.close().then((function(){return i.onCardEditSuccess(e)})))},on3dsInit:function(){this.$("._submit").trigger("loading")},on3dsInitSuccess:function(e){this.open3dsBlankWindow(e)},on3dsInitError:function(e){this.open3dsSameWindow(e)},on3dsSuccess:function(e){var i=this;return o(t.default.mark((function n(){var o,s,a;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.message,i.$("._submit").trigger("loaded"),s=i.getView("._form"),a=s.model,t.next=5,l(a.set({id:o.cardId,billingName:o.psName}).promiseFetch());case 5:t.sent[0]||i.close().then((function(){return i.onCardEditSuccess(a)}));case 8:case"end":return t.stop()}}),n)})))()},on3dsError:function(e){var t=e.code,i=e.message;this.$("._submit").trigger("loaded"),this.getView("._form").markError(void 0,i,t)},onMerchantModelChangeCallback:function(e){this.virtual.set(e.toJSON())},onMerchantExternalError:function(e){var i=this;return o(t.default.mark((function n(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e={}),!a.isEmpty(e)){t.next=3;break}return t.abrupt("return");case 3:if(!a.size(b.filterOwn(e,Object.keys(i.app.user)))){t.next=7;break}return t.next=6,i.showAddressEditor();case 6:i.getView("._billing-address-editor").showErrors(i.app.user,e);case 7:case"end":return t.stop()}}),n)})))()},onBillingAddressEditorSave:function(){this.getView("._billing-address-editor").toggle(!1)},onCardEditSuccess:function(){},onClose:function(){}});Object.assign(_.prototype,y),e.exports=_},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},768:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],void 0===(s="function"==typeof(n=function(t){"use strict";function n(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var o=i(769);e.exports={showAddressEditor:function(){var e=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(o,s){var a=e.apply(t,i);function r(e){n(a,o,s,r,l,"next",e)}function l(e){n(a,o,s,r,l,"throw",e)}r(void 0)}))}}(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setNotExistView("._billing-address-editor",o,{app:e.app,togglingMethod:"simple",countries:e.countries,userGroupInfo:e.userGroupInfo,onCloseCallback:function(){return e.$("._inner").toggle(!0)},onSaveSuccessCallback:e.onBillingAddressEditorSave.bind(e)}),t.next=3,e.toggleBillingAddressEditor(!0);case 3:case"end":return t.stop()}}),i)})))()},toggleBillingAddressEditor:function(e){return this.$("._inner").toggle(!e),this.getView("._billing-address-editor").toggle(e)}}})?n.apply(t,o):n)||(e.exports=s)},769:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";function n(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(o,s){var a=e.apply(t,i);function r(e){n(a,o,s,r,l,"next",e)}function l(e){n(a,o,s,r,l,"throw",e)}r(void 0)}))}}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var s=i(0),a=i(26),r=i(157),l=i(779),c=i(556),d=i(655),u=i(15),h=i(565),p=i(625),f=i(560),b=i(559),m=c.extend({name:"BillingAddressEditor",el:!1,template:l,countries:[],togglingMethod:"slide",togglingInProgress:!1,opened:!1,events:{"change [data-capitalize]":"onCapitalizeEvent","keyup [data-capitalize]":"onCapitalizeEvent","input [data-capitalize]":"onCapitalizeEvent","paste [data-capitalize]":"onCapitalizeEvent","click ._close-btn":"onCloseClick","focusin input":"onFieldFocusIn","focusin select":"onFieldFocusIn","submit ._form":"onSubmit"},initialize:function(){this.listenTo(this.app.user,"invalid",this.showErrors),this.setViews({"._phone":new d({app:this.app,phone:this.app.user.get("phone")})})},serialize:function(){var e=(this.userGroupInfo?this.userGroupInfo:this.app.user).toProfileJSON(),t=this.countries.length&&this.countries.findWhere({code:e.country}).serialize();return{countries:s.isFunction(this.countries.serialize)?this.countries.serialize():[],userCountry:(t||{}).title,userInfo:s.extend({fullName:e.firstName||e.lastName?e.firstName+"&nbsp;"+e.lastName:e.fullName},e)}},clientAfterRender:function(){h(this.$el,a.$),p(this.$('[type="submit"]'))},open:function(){var e=this;return o(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.render().promise();case 2:if("slide"!==e.togglingMethod){t.next=6;break}return e.togglingInProgress=!0,t.next=6,new Promise((function(t){return e.$("._form").css({marginTop:"-500px"}).animate({marginTop:0},800,t)}));case 6:e.togglingInProgress=!1,e.opened=!0;case 8:case"end":return t.stop()}}),i)})))()},close:function(){var e=this;return o(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("slide"!==e.togglingMethod){t.next=6;break}return e.togglingInProgress=!0,t.next=4,new Promise((function(t){return e.$("._form").stop().animate({marginTop:"-500px"},800,t)}));case 4:t.next=7;break;case 6:e.$el.remove();case 7:e.togglingInProgress=!1,e.opened=!1,e.onCloseCallback();case 10:case"end":return t.stop()}}),i)})))()},toggle:function(e){var i=this;return o(t.default.mark((function n(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null!=e?e:!i.opened)){t.next=6;break}return t.next=4,i.open();case 4:t.next=8;break;case 6:return t.next=8,i.close();case 8:case"end":return t.stop()}}),n)})))()},showErrors:function(e,t){var i=this;s.each(this.$("label:not(.field-box_correct) input"),(function(e){return i.fieldReset(i.$(e).parent())})),s.each(b.filterOwn(t,s.keys(e.defaults)),(function(e,t){return i.fieldIncorrect(i.$("[name="+t+"]").parent(),{errorMessage:e})}))},handleErrors:function(e,t){var i={};s.each(t.errors,(function(e){var t=r[e.error_code]||r.byDefault;void 0===i[t]&&(i[t]=[]),i[t].push(e.error_message)})),this.showErrors(e,i)},onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=u.serializeForm(this.$el.find("._form"));this.$('[type="submit"]').trigger("loading"),this.app.user.save(t,{parse:!1,success:this.onFormSaveSuccess.bind(this)})},onFormSaveSuccess:function(e,t){this.$('[type="submit"]').trigger("loaded"),t.errors?(this.handleErrors(e,t),this.onSaveErrorCallback()):this.onSaveSuccessCallback()},onFieldFocusIn:function(e){this.fieldReset(this.$(e.currentTarget).parent())},onCloseClick:function(){this.toggle(!1)},onCloseCallback:s.noop,onSaveSuccessCallback:s.noop,onSaveErrorCallback:s.noop});s.extend(m.prototype,f),e.exports=m},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},770:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(4),n=i(561),o=i(651),s=i(782),a=i(558),r=i(556);e.exports=a.extend({name:"ProductRebillDiscountTooltip",params:n.RebillProductDiscount,prepareContent:function(){var e=this;this.content=new r({template:s,serialize:function(){return{product:e.model.serialize(),expiresDate:t.unix(e.model.get("expires")).format(o.statisticsDays)}}})}})}))},771:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";function n(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(o,s){var a=e.apply(t,i);function r(e){n(a,o,s,r,l,"next",e)}function l(e){n(a,o,s,r,l,"throw",e)}r(void 0)}))}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var a=i(0),r=i(564).to,l=i(761),c=i(93),d=i(637),u=i(762),h=i(773),p=i(780),f=i(781),b=i(770),m=i(783),v=i(784),g=i(764),y=i(559),w=i(563),_=["membership"];e.exports={additionalEvents:{"mouseenter ._rebill-help":"showRebillHelpTooltip","mouseleave ._rebill-help":"hideRebillHelpTooltip","mouseenter ._rebill-discount":"showRebillDiscountTooltip","mouseleave ._rebill-discount":"hideRebillDiscountTooltip",'change [name="rebill-checkbox"]':"handleRebillCheckboxChange","click ._switcher-disabled":"handleDisabledSwitcherClick","click ._settings":"handleSettingsClick","click ._card":"handleCardClick"},initRebillProduct:function(){if(this.shouldShowCard()&&this.getRebillCard()&&this.setView("._card",new d({app:this.app,model:this.getRebillCard(),mode:"view",size:"small"})),this.shouldEnableRebill()){this.removeView("rebillTooltip");var e=new p({app:this.app,model:this.model});"subscription"===this.model.get("type")&&this.model.isInstallment()&&(e=new f({app:this.app})),this.setView("rebillTooltip",e)}this.model.get("rebill").get("discount")?(this.removeView("rebillDiscountTooltip"),this.setView("rebillDiscountTooltip",new b({app:this.app,model:this.model}))):this.getView("rebillTooltip")&&(this.getView("rebillTooltip").params.templatePosition="rt")},getUnsubscribeInfoModel:function(){return this.unsubscribeInfo||(this.unsubscribeInfo=new g({},{app:this.app})),this.unsubscribeInfo},initRebillManager:function(){this.rebillManager||(this.rebillManager=new u({app:this.app}))},initProductCardEditor:function(e){var t=this,i="enable"===e?this.app.store.get("CreditCards").first():this.getRebillCard();return this.setView("._editor",new h({app:this.app,model:i,savedCards:this.app.store.get("CreditCards"),countries:this.countries,userGroupInfo:this.userGroupInfo,onClose:this.onEditorClose.bind(this),onCardEditSuccess:function(i){return t.processRebill(e,i)}}))},getAdditionalSerializeParams:function(){return s({},this.serializeParams,{isRebillEnabled:this.shouldEnableRebill(),rebillTitle:a.result(this,"getRebillTitle")||this.tr("Auto-Renewal"),product:this.model.serialize(),switcher:this.getRebillSwitcherData(),isSettingsOpened:this.isSettingsOpened,shouldShowCard:this.shouldShowCard()})},getRebillSwitcherData:function(){var e=this.model.get("rebill");return{checked:e&&e.get("enabled"),disabled:!e||!e.get("editable"),className:"product-item__switcher switcher_red",name:"rebill-checkbox"}},getRebillCard:function(){var e=this.model.get("rebill");return null!=e?e.getRebillCard():null},enableRebill:function(){this.shouldEnableRebill()||this.initProductCardEditor("enable").open()},updateRebillCard:function(){var e=this.getRebillCard();e&&"apple_pay"===e.get("paymentTokenType")||!this.shouldEnableRebill()||this.initProductCardEditor("update").open()},disableRebill:function(){var e=this;this.shouldEnableRebill()?this.insertView("AutoRenewalModal",new m({app:this.app,onCancelCallback:function(){e.onRebillDisablingCancel()},onSubmitCallback:function(){e.processRebill("disable",e.getRebillCard())}})).show():this.shouldShowCardEditor()&&this.getView("._editor").close()},processRebill:function(e,t){var i=this;if(t){var n={cardId:t.get("id"),billingName:t.get("billingName"),paymentTokenType:t.get("paymentTokenType")};"enable"===e?this.saveRebillState(s({},n,{rebillState:!0})).then((function(e){var n=e.editable,o=e.enabled;return i.onProductRebillChange({editable:n,enabled:o,card:t,visibility:!0})})):"update"===e?this.saveRebillState(s({},n,{rebillState:!0})).then((function(e){var n=e.editable,o=e.enabled;return i.onProductRebillChange({editable:n,enabled:o,card:t,visibility:!0})})):"disable"===e&&this.saveRebillState(s({},n,{rebillState:!1})).then((function(e){var n=e.editable,o=e.enabled;return i.onProductRebillChange({editable:n,enabled:o,card:t,visibility:!1})})).catch((function(){return i.onRebillDisablingCancel()}))}},redirectToDisable:function(e){var t=e.type;t&&this.app.router.redirect(this.app.makeUrl({route:"Autorenewal",step:"status",type:t,transactionId:this.model.get("id")}))},shouldBePossibleRebill:function(e,t){var i=e.type,n=e.rebill.purchaseMethod,o=["subscription"];return this.app.features.isFeatureOnValue("Cancellation Feedback for Membership")&&o.push("membership"),!o.includes(i)||t||!c.billings.list.includes(n)},saveRebillState:function(e){var i=this,n=void 0===e?{}:e,s=n.cardId,a=n.billingName,c=n.paymentTokenType,d=n.rebillState;return new Promise(function(){var e=o(t.default.mark((function e(n,o){var u;return t.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i.model.get("type"),d||!_.includes(u)){e.next=14;break}return e.next=4,r(i.getUnsubscribeInfoModel().promiseFetch());case 4:if(e.sent[0]||!i.unsubscribeInfo.get("isEligible")&&!i.unsubscribeInfo.isScheduled()){e.next=10;break}return i.trackFlowStart(l.Unsubscribe),i.redirectToUnsubscribe(),e.abrupt("return");case 10:if(!i.unsubscribeInfo.isApplied()){e.next=14;break}return i.trackFlowStart(l.Unsubscribe),i.redirectToFeedback(),e.abrupt("return");case 14:if(i.shouldBePossibleRebill(i.model.serialize(),d)){e.next=17;break}return["subscription","membership"].includes(u)&&(i.trackFlowStart(l.Autorenewal),i.redirectToDisable({type:u})),e.abrupt("return");case 17:i.initRebillManager(),i.rebillManager.save({cardId:s,billingName:a,productId:parseInt(i.model.get("id"),10),productType:u,rebillState:d},{success:function(e,t){if(t.errors&&t.errors.length)i.showErrorModal(t.errors),o();else{var s=i.model.get("rebill").get("editable");!e.get("rebillState")&&s&&"apple_pay"===c&&(s=!1),n({enabled:e.get("rebillState"),editable:s}),i.app.observer.broadcast("Track:UE:Autorenewal:Rebill",{status:d})}}});case 19:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}())},trackFlowStart:function(e){this.app.observer.broadcast("Track:UE:UnsubscribePage:Click",{flow:e,step:"Start",model:this.model,label:"Click-Start"})},redirectToUnsubscribe:function(){var e=this;return o(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e.app.userSettings.promiseSave({cancellationRebill:[{step:"unsubscribe",type:e.model.get("type"),id:""+e.model.id}]}));case 2:e.app.router.redirect(e.app.makeUrl({route:"Unsubscribe",type:e.model.get("type"),step:"main-page",transactionId:e.model.get("id")}));case 3:case"end":return t.stop()}}),i)})))()},redirectToFeedback:function(){var e=this;return o(t.default.mark((function i(){return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e.app.userSettings.promiseSave({cancellationRebill:[{step:"feedback",type:e.model.get("type"),id:""+e.model.id}]}));case 2:e.app.router.redirect(e.app.makeUrl({route:"Unsubscribe",step:"feedback",type:e.model.get("type"),transactionId:e.model.id}));case 3:case"end":return t.stop()}}),i)})))()},showErrorModal:function(e){var t=y.parse(this.app,e);new w({app:this.app,title:this.tr("Error"),message:a.first(t).message}).show()},showUnableAutoRenewalModal:function(){this.insertView("UnableAutoRenewalModal",new v({app:this.app,rebillInfo:this.model.get("rebill"),product:this.model})).show()},showRebillHelpTooltip:function(e){this.getView("rebillTooltip").show(e)},hideRebillHelpTooltip:function(e){this.getView("rebillTooltip").hide(e)},showRebillDiscountTooltip:function(e){this.getView("rebillDiscountTooltip").show(e)},hideRebillDiscountTooltip:function(e){this.getView("rebillDiscountTooltip").hide(e)},shouldShowCard:function(){var e=this.model.get("rebill");return e&&e.get("possible")&&e.get("enabled")&&e.get("editable")},shouldShowCardEditor:function(){return this.getView("._editor")&&this.getView("._editor").isOpened()},shouldEnableRebill:function(){var e=this.model.get("rebill");return e&&e.get("possible")&&e.get("enabled")},handleRebillCheckboxChange:function(e){e.currentTarget.checked?this.enableRebill():this.disableRebill()},handleSettingsClick:function(){this.toggleSettings()},handleCardClick:function(){this.getView("._editor")?this.getView("._editor").close():this.updateRebillCard()},onEditorClose:function(){this.model.get("rebill").get("enabled")||this.$('[name="rebill-checkbox"]').attr({checked:!1})},onRebillDisablingCancel:function(){this.$('[name="rebill-checkbox"]').click()},handleDisabledSwitcherClick:function(e){e.preventDefault();var t=this.model.get("rebill");t.get("enabled")&&!t.get("editable")&&this.showUnableAutoRenewalModal()},onProductRebillChange:function(e){var t=void 0===e?{}:e,i=t.editable,n=t.enabled,o=t.card,s=t.visibility;this.model.get("rebill").set({editable:i,enabled:n,card:o}),this.app.store.get("CreditCards").add(o,{merge:!0}),this.getView("._editor")&&this.getView("._editor").close(),this.toggleVisibility(s)},toggleSettings:function(){var e=this,t=this.$(".product-item__rebill-block, .product-item__card-holder"),i=!this.isSettingsOpened,n=function(i){t[i?"slideDown":"slideUp"](500,(function(){t.removeClass("product-item__rebill-block_hidden")})),e.$("._settings .arrow").removeClass("arrow-top, arrow-bottom").addClass(i?"arrow-top":"arrow-bottom"),e.$el.toggleClass("product-item__rebill-detailed",i)};!i&&this.shouldShowCardEditor()?this.getView("._editor").close().then((function(){return n(i)})):n(i),this.isSettingsOpened=i},toggleVisibility:function(e){var t=this;this.$el.slideUp(500,(function(){t.isSettingsOpened=e,t.render().promise().then((function(){t.$el.slideDown(500).addClass("product-item__rebill-detailed")}))}))}}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},772:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="card-box '+t(e.classes)+'" data-count-number="'+t(e.numberLength)+'"><i class="card-box__type-icon"></i><span class="card-box__number">',n=e.model.labels.number;if(n)for(var o=-1,s=n.length-1;o<s;)i+='<span class="card-box__symbol" data-value="'+t(r=n[o+=1])+'">'+t(r)+"</span>";i+='</span><span class="card-box__expired">';var a=e.model.labels.expire;if(a)for(var r,l=-1,c=a.length-1;l<c;)i+='<span class="card-box__symbol card-box__symbol_exp" data-value="'+t(r=a[l+=1])+'">'+t(r)+"</span>";return i+='</span><span class="card-box__valid">valid thru</span><span class="card-box__cvv"></span><span class="card-box__backside"><i class="card-box__magnetic-stripe"></i><span class="card-box__cvc-title">CVV/CVC</span><span class="card-box__cvc-value">'+e.model.labels.cvv+"</span></span></div>"}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},773:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[i(151)],n=function(t){"use strict";function n(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}t=function(e){return e&&e.__esModule?e:{default:e}}(t);var o=i(564).to,s=i(152),a=i(767),r=i(638),l=i(639);e.exports=a.extend({getMerchantCardModel:function(){var e=this.model.get("id")?{id:this.model.get("id"),expiryMonth:this.model.get("expiryMonth"),expiryYear:this.model.get("expiryYear"),billingName:this.model.get("billingName")}:{};return new s(e,{app:this.app})},getMerchantForm:function(){return a.prototype.getMerchantForm.call(this,{model:this.getMerchantCardModel(),submit:function(){if(this.getView("._merchant-card-manager").isUseSavedEnabled())this.onSuccessFormSubmit(this.getView("._merchant-card-manager").getActiveCard());else{for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.prototype.submit.apply(this,t)}}})},getAdyenForm:function(){return a.prototype.getAdyenForm.call(this,{model:new s({},{app:this.app}),submit:function(){if(this.getView("._card-manager").useSavedCardsChecked)return this.model.set(this.getView("._card-manager").getActiveCard()),void this.onModelSuccessResponseCallback(this.model);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];l.prototype.submit.apply(this,t)}})},onSuccessMerchantSubmit:function(e,t){void 0===t&&(t={}),t.errors||(t.data&&t.data.is3dsTransaction?this.init3ds({app:this.app,html:t.data.html}):this.onCardEditSuccess(e))},on3dsSuccess:function(e){var i=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(o,s){var a=e.apply(t,i);function r(e){n(a,o,s,r,l,"next",e)}function l(e){n(a,o,s,r,l,"throw",e)}r(void 0)}))}}(t.default.mark((function n(){var s,a,r;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.message,i.$("._submit").trigger("loaded"),a=i.getView("._form"),r=a.model,t.next=5,o(r.set({id:s.cardId,billingName:s.psName}).promiseFetch());case 5:t.sent[0]||i.onCardEditSuccess(r);case 8:case"end":return t.stop()}}),n)})))()}})},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},774:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="cards-list__editor card-editor"><div class="cards-list__editor_inner _inner"><div class="card-editor__top"><div class="card-editor__left _card"></div><div class="card-editor__right"><div class="_sep"></div><div class="_form"></div></div></div><div class="card-editor__bottom"><button class="card-editor__button button button-blue button-xl _submit" type="submit" form="'+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}())(e.formId)+'">'+this.tr("Save Information")+'</button><button class="card-editor__button button button-white button-xl _close">'+this.tr("Cancel")+'</button></div><i class="card-editor__close icon icon-close-cross _close"></i></div><div class="_billing-address-editor"></div></div>'}})?n.apply(t,o):n)||(e.exports=s)},775:function(e,t,i){},776:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<form id="'+t(e.formId)+'" class="merchant-form '+t(e.classNames)+'"><div class="merhcant-form_inner _merchant-card-manager"></div></form>'}})?n.apply(t,o):n)||(e.exports=s)},777:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<form id="'+t(e.formId)+'" class="'+t(e.classNames)+' adyen-card-form"><div class="adyen-card-form__inner _card-manager"></div><div class="_error-holder"></div></form>'}})?n.apply(t,o):n)||(e.exports=s)},778:function(e,t,i){},779:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="billing-address-editor"><div class="billing-address-editor__wrapper"><form novalidate class="billing-address-form _form" method="POST"><i class="billing-address-form__close-btn icon-close-cross _close-btn"></i><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="firstName" value="'+t(e.userInfo.firstName)+'" placeholder="'+this.tr("First Name")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="lastName" value="'+t(e.userInfo.lastName)+'" placeholder="'+this.tr("Last Name")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl _phone"><input class="input input-xl" type="tel" name="phone" value="'+t(e.userInfo.phone)+'" placeholder="'+this.tr("Phone Number")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="address" value="'+t(e.userInfo.address)+'" placeholder="'+this.tr("Address")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl billing-address-form__field-city"><input data-capitalize class="input input-xl" type="text" name="city" value="'+t(e.userInfo.city)+'" placeholder="'+this.tr("City")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl billing-address-form__field-zip"><input class="input input-xl" type="text" name="zip" value="'+t(e.userInfo.zip)+'" placeholder="'+this.tr("Zip/Postal Code")+'" /></div><div class="billing-address-form__field field-box select-box select-box-xl"><select class="select select-xl" name="country">',n=e.countries;if(n)for(var o,s=-1,a=n.length-1;s<a;)i+='<option value="'+t((o=n[s+=1]).code)+'"',o.code===e.userInfo.country&&(i+=" selected"),i+=">"+t(o.title)+"</option>";return i+='</select><i class="arrow arrow-black arrow-bottom"></i></div><button class="billing-address-form__submit button button-xxl button-blue" type="submit">'+this.tr("Save Information")+"</button></form></div></div>"}},void 0===(s="function"==typeof n?n.apply(t,o):n)||(e.exports=s)},780:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(4),n=i(561),o=i(33),s=i(556),a=i(558);e.exports=a.extend({name:"ProductRebillTooltip",params:n.RebillProduct,prepareContent:function(){var e=this;this.content=new s({template:function(){return e.getRebillLabel()}})},getRebillLabel:function(){var e=this.model.get("type"),i="credits"===e?"ondemand":e,n=o.productRebillLabel.find((function(e){return e.key===i})).label;switch(e){case"subscription":case"membership":return this.tr(n,t.unix(this.model.get("expires")).diff(t(),"d"));default:return this.tr(n)}}})}))},781:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(561),n=i(641),o=i(556),s=i(558);e.exports=s.extend({name:"ProductInstallmentRebillTooltip",params:t.RebillProduct,prepareContent:function(){this.content=new o({template:n})}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},782:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="rebill-tooltip">';return e.product.rebill.discount>0&&(t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("A %s discount on your current plan's future renewals has been successfully activated.",[e.product.rebill.discount+"%"])+"</div>"),"membership"===e.product.type&&e.product.rollover&&(t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("While you keep the auto-renewal <b>turned ON</b> your downloads newer expire and transfer month to month.")+"</div>"),t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("Your plans price protected for %s-month and will not change until <b>%s</b>",[24,e.expiresDate])+"</div></div>"}})?n.apply(t,o):n)||(e.exports=s)},783:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";i(763);var t=i(91),n=i(563);e.exports=n.extend({name:"AutoRenewal",el:!1,initialize:function(e){var i=this;n.prototype.initialize.apply(this,e),this.title=this.tr("Auto-Renewal"),this.message=function(){return i.tr("Do you really want to cancel the auto-renewal?")},this.footer=[{label:t.CancelBtn,hide:!0,callback:this.onCancelCallback.bind(this)},{label:t.YesIDoBtn,hide:!0,color:"blue",defaultAction:!0,callback:this.onSubmitCallback.bind(this)}]}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},784:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(785),n=i(641),o=i(91),s=i(33),a=i(556),r=i(563);e.exports=r.extend({name:"AutoRenewalCancel",el:!1,title:o.AutoRenewalCancelTitle,destroyOnHide:!0,rebillInfo:null,product:null,initialize:function(){var e=this;this.body=function(){return new a({el:!1,template:t,serialize:function(){return{username:e.app.user.getFullName(),showSupportMessage:!e.product.isInstallment()}},views:{"._message":new a({el:!1,template:e.getTemplate()})}})},this.footer=[{label:o.OkBtn,color:"blue",hide:!0,defaultAction:!0}],this.rebillInfo&&this.getBillingServiceInfo()&&this.footer.unshift({label:this.getBillingLabel(),hide:!0,color:"blue",callback:function(){return e.redirectToBillingService()}})},getTemplate:function(){return this.product.isInstallment()?n:this.rebillInfo.get("isOwner")?"<span>"+o.AutoRenewalCancelMessage+"</span>":"<span>"+this.tr("The auto-renewal of this plan is controlled by Administrator of your account.")+"</span>"},getBillingServiceInfo:function(){var e=this;return s.billingServicesLinks.find((function(t){return t.key===e.rebillInfo.get("purchaseMethod")}))},getBillingLabel:function(){var e=this.getBillingServiceInfo();return e?e.label:null},redirectToBillingService:function(){this.app.router.redirect(this.rebillInfo.get("billingServiceLink")||this.app.makeUrl(this.rebillInfo.get("purchaseMethod")))}})}))},785:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="auto-renewal-cancel-modal"><p><b>'+this.tr("Dear")+" "+t(e.username)+'!</b></p><p class="_message"></p>';return e.showSupportMessage&&(i+="<p>"+this.tr('In case you have any further questions or problems canceling the automatic renewal of your plan, please feel free to contact our <a class="%s" href="%s">support service</a>.',["link-blue",this.app.makeUrl("contact_us")])),i+="</div>"}})?n.apply(t,o):n)||(e.exports=s)},786:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item';return e.needToShowHelpTooltip&&(i+=" user-plans-list__item_help"),i+=' _product"',e.href&&(i+=' href="'+e.href+'"'),i+=' data-bit="'+t(e.product.bit_price)+'"  data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</b></span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_credits"></i>',e.rebill.showDiscount&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}})?n.apply(t,o):n)||(e.exports=s)},787:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";i(788);var t=i(789),n=i(33),o=i(0),s=i(4),a=i(556);e.exports=a.extend({el:!1,template:t,serialize:function(){return{isRenew:this.app.user.get("isSubaccount")&&!this.product.owner,isStatusVisible:this.isStatusVisible(),status:this.getRechargeStatus(),labels:{renew:this.getRenewLabel(),status:this.getStatusLabel(),info:this.getInfoLabel()}}},isStatusVisible:function(){var e=this.getRechargeStatus();return"wait"===e||"fail"===e},getRenewLabel:function(e){var t,i;if(void 0===e&&(e=this.product),1===e.buy_period){t="daily";var a=s.duration(s.unix(e.renewal).valueOf());i=[a.hours(),a.minutes()]}else t="monthly",i=s.duration(s.unix(e.renewal).valueOf()).days();var r=o.findWhere(n.subscriptionsRenewLabels,{period:t,type:"renew"}).label.trim();return this.tr(r,i)},getRechargeStatus:function(){return this.app.user.get("subscriptionRechargeInfo")&&this.app.user.get("subscriptionRechargeInfo").status||""},getStatusLabel:function(){return this.isStatusVisible()?this.tr(o.findWhere(n.subscriptionsRenewLabels,{type:"status",value:this.getRechargeStatus()}).label.trim()):""},getInfoLabel:function(e){return void 0===e&&(e=this.product),this.tr(o.findWhere(n.subscriptionsRenewLabels,{period:1===e.buy_period?"daily":"monthly",type:"info"}).label.trim())}})}))},788:function(e,t,i){},789:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t='<div class="subscription-renew"><p class="subscription-renew__row';return e.isRenew&&(t+=" subscription-renew__row_green"),t+='"><b>'+e.labels.renew+"</b></p>",e.isStatusVisible&&(t+='<p class="subscription-renew__row',"wait"===e.status&&(t+=" subscription-renew__row_red"),"fail"===e.status&&(t+=" subscription-renew__row_orange"),t+='">'+e.labels.status+"</p>"),t+='<p class="subscription-renew__row_last"><b>'+this.tr("Note")+": </b>"+e.labels.info+"</p></div>"}})?n.apply(t,o):n)||(e.exports=s)},790:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(33),o=i(791),s=i(556);e.exports=s.extend({el:!1,template:o,serialize:function(){return{labels:{base:this.tr(t.findWhere(n.subscriptionExpiredLabels,{type:"base"}).label.trim()),info:this.tr(t.findWhere(n.subscriptionExpiredLabels,{type:"info",period:this.product.buy_period}).label.trim())}}}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},791:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="subscription-rebill base"><p class="subscription-rebill__row"><b>'+e.labels.base+'</b></p><p class="subscription-rebill__row_last">'+e.labels.info+"</p></div>"}})?n.apply(t,o):n)||(e.exports=s)},792:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item';return e.needToShowHelpTooltip&&(i+=" user-plans-list__item_help"),e.product.rebill.discount>0&&(i+=" user-plans-list__item_discount"),i+=' _product"',e.href&&(i+=' href="'+e.href+'"'),i+=' data-id="'+t(e.product.id)+'" data-bit="'+t(e.product.bit_price)+'"data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+="</span>",e.labels.left&&(i+='<span class="user-plans-list__text">'+e.labels.left+"</span>"),e.labels.curated&&(i+='<span class="user-plans-list__text">'+e.labels.curated+"</span>"),i+='<span class="user-plans-list__text">'+e.labels.renew+"</span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),e.product.unlimited?i+='<i class="user-plans-list__icon user-plans-list__icon_subscription-unlimited"></i>':i+='<i class="user-plans-list__icon user-plans-list__icon_subscription _info">'+e.labels.daysLeft+"</i>",e.shouldShowAsSelected?i+='<i class="user-plans-list__selected icon icon-ok icon-ok-blue _help"></i>':e.needToShowHelpTooltip&&(i+='<i class="user-plans-list__help icon icon-help _help"></i>'),e.rebill.showDiscount&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}})?n.apply(t,o):n)||(e.exports=s)},793:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item';return e.product.rebill.discount>0&&(i+=" user-plans-list__item_discount"),i+=' _product" ',e.href&&(i+=' href="'+e.href+'"'),i+=' data-id="'+t(e.product.id)+'" data-bit="'+t(e.product.bit_price)+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_ondemand"></i>',e.shouldShowAsSelected&&(i+='<i class="user-plans-list__selected icon icon-ok icon-ok-blue _help"></i>'),e.rebill.showDiscount&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}})?n.apply(t,o):n)||(e.exports=s)},794:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item _product"';return e.href&&(i+=' href="'+e.href+'"'),i+=' data-bit="'+t(e.product.bit_price)+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_imagepack"></i></a>'}})?n.apply(t,o):n)||(e.exports=s)},795:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<a class="user-plans-list__item';return e.product.rebill.discount>0&&(i+=" user-plans-list__item_discount"),i+=' _product _buy-more" ',e.href&&(i+=' href="'+e.href+'"'),i+=' data-id="'+t(e.product.id)+'" data-bit="'+t(e.product.bit_price)+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.curated+'</span><span class="user-plans-list__text">'+e.labels.renew+'</span><i class="user-plans-list__icon user-plans-list__icon_membership _info"></i>',e.rebill.showDiscount&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}})?n.apply(t,o):n)||(e.exports=s)},797:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}();return'<a class="user-bar-item user-bar-item_hover balance-box earned-money-box" href="'+this.app.makeUrl("request_earnings")+'"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-earned-money"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-earned-money-hover"></i><span class="user-bar-item__text">$'+t(e.balance)+"</span></span></a>"}})?n.apply(t,o):n)||(e.exports=s)},833:function(e,t,i){},834:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<div class="user-plans-list _list"></div>'}})?n.apply(t,o):n)||(e.exports=s)},835:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){return'<a class="user-plans-list__item" href="'+this.app.makeUrl("request_earnings")+'"><span class="user-plans-list__title">'+this.tr("Earned Money")+'</span><span class="user-plans-list__text">'+this.tr("Balance: $<b>%s</b>",e.balance)+'</span><i class="user-plans-list__icon icon icon-earned-money"></i></a>'}})?n.apply(t,o):n)||(e.exports=s)},863:function(e,t,i){"use strict";t.add=function(e,t){e.classList?e.classList.add(t):function(e,t){var i=e.className.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):function(e,t){var i=e.className.split(" "),n=i.indexOf(t);n>=0&&i.splice(n,1),e.className=i.join(" ")}(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},879:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports.mobile={responsive:{desktopMedium:1250,desktopSmall:1100,mobileBig:990,mobileTablets:770,mobileTabletsSmall:650,mobilePhone:450,mobileLayouts:990,heightBigMode:1e3,zoomModal:540,marketFoldersMobileMode:820,signUpSmallMode:640,signUpMobileModeSafariFix:1010,compactSearchSorting:1024,searchModalMobileHeight:500,favoritesListTableMobilePhoneWidth:420,curatedCollectionBlockMobile:600,globalStepLarge:1680,globalStepMedium:1440,globalStepSmall:1290,globalStepTiny:1024,globalMobileStepStart:1020,globalStepPhone:540}}})?n.apply(t,o):n)||(e.exports=s)},882:function(e,t,i){"use strict";e.exports=i(989)},938:function(e,t,i){(function(n){var o,s,a;!function(i,n){s=[],void 0===(a="function"==typeof(o=n)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(879).mobile.responsive,o=i(646);e.exports={setMatchMedia:function(e){n.browser&&!this.matchMedia&&(this.matchMedia=window.matchMedia("(max-width: "+t.mobileBig+"px)"),this.matchMediaCallback=function(){return e()},this.matchMedia.addListener(this.matchMediaCallback),this.listenTo(this.app.observer,"Responsive:ClearMatchMedia",this.clearMatchMedia))},clearMatchMedia:function(){this.matchMedia&&this.matchMediaCallback&&(this.matchMedia.removeListener(this.matchMediaCallback),this.matchMedia=void 0)},isMobileModeEnabled:function(){return this.app.device.isMobile||(n.browser?o.mobileMode():this.isMobileMode)}}}))}).call(this,i(23))},939:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=["ContentTypeIndexPhotos","ContentTypeIndexVectors","ContentTypeIndexEditorial","ContentTypeIndexVideos"],o={photo:["landingPhotos"],vector:["landingVectors"],editorial:["landingEditorial"],video:["landingVideos1","landingVideos2"]},s={index:["indexMainSlider"].concat(n),photo:["landingPhotosMain"],vector:["landingVectorsMain"],editorial:["landingEditorialMain"],video:["landingVideosMain"],dribbble:["dribbble"].concat(n),vecteezy:["vecteezy"].concat(n),picjumbo:["picjumbo"].concat(n),dealjumbo:["dealjumbo"].concat(n),mockupworld:["mockupworld"].concat(n),pixelbuddha:["pixelbuddha"].concat(n),sendpulse:["sendpulse"].concat(n)};t.each(o,(function(e,t){s[t]=s[t].concat(e)})),e.exports.seriesModelDefault={name:null,alone:!1,random:!1,slider:!1,elements:null,limit:0},e.exports.seriesElementModelDefault={title:null,resource:null},e.exports.series=[{name:"indexMainSlider",alone:!0,random:!0,className:"series-box_poster"},{name:"landingPhotosMain",alone:!0,random:!0,className:"series-box_typed-poster"},{name:"landingVectorsMain",alone:!0,random:!0,className:"series-box_typed-poster"},{name:"landingEditorialMain",alone:!0,random:!0,className:"series-box_typed-poster"},{name:"landingVideosMain",alone:!0,random:!0,className:"series-box_typed-poster series-box_typed-poster_video"},{name:"dribbble",alone:!0},{name:"vecteezy",alone:!0},{name:"picjumbo",alone:!0},{name:"dealjumbo",alone:!0},{name:"mockupworld",alone:!0},{name:"pixelbuddha",alone:!0},{name:"sendpulse",alone:!0},{name:"ContentTypeIndexPhotos"},{name:"ContentTypeIndexVectors"},{name:"ContentTypeIndexEditorial"},{name:"ContentTypeIndexVideos"},{name:"landingPhotos",grid:{rows:3,columns:4,spans:{"0:0":{rowspan:2},"1:1":{colspan:2}}}},{name:"landingVectors",grid:{rows:3,columns:4,spans:{"1:1":{colspan:2}}}},{name:"landingEditorial",grid:{rows:3,columns:4,spans:{"0:0":{rowspan:2},"0:3":{rowspan:2},"1:1":{colspan:2}}}},{name:"landingVideos1",grid:{rows:1,columns:3,spans:{"0:0":{className:"series-table__link_third"},"0:1":{className:"series-table__link_third"},"0:2":{className:"series-table__link_third"}}}},{name:"landingVideos2",grid:{rows:2,columns:4,spans:{"0:1":{colspan:2}}}},{name:"landingCuratedCollectionPhoto",grid:{rows:4,columns:4,spans:{"0:0":{colspan:2},"0:2":{rowspan:2},"1:0":{rowspan:2},"2:1":{colspan:2},"2:3":{rowspan:2},"3:0":{colspan:2}}}},{name:"landingCuratedCollectionVector",grid:{rows:4,columns:4,spans:{"0:1":{rowspan:2},"0:2":{colspan:2},"1:3":{rowspan:2},"2:0":{rowspan:2},"2:1":{colspan:2},"3:2":{colspan:2}}}},{name:"landingCuratedCollectionEditorial",grid:{rows:4,columns:4,spans:{"0:0":{rowspan:2},"0:2":{colspan:2},"1:1":{colspan:2},"1:3":{rowspan:2},"2:1":{rowspan:2},"3:2":{colspan:2}}}},{name:"curatedCollectionPoster",alone:!0,className:"series-box_link"},{name:"curatedCollectionPosterMedium",alone:!0},{name:"AboutUs",slider:!0}],e.exports.seriesByPages=s,e.exports.customPageGridSeries=o},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},943:function(e,t,i){(function(n){var o,s,a;!function(i,n){s=[],void 0===(a="function"==typeof(o=n)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var o=i(0),s=i(26),a=i(1566),r=i(1567),l=i(96).formatToAppLangDateString,c=i(739).isAudioTypeApplied,d={dummy:{href:{params:"",options:""}},contributor:{href:{params:"contributor"},rel:"nofollow"},examination:{href:{params:"examination"},rel:"nofollow"},agreement:{href:{params:"member-agreement"}},license:{href:{params:"license-comparison"}},policy:{href:{params:"privacy-policy"}},documents:{href:{params:"legal-information"}},"terms-of-use":{href:{params:"terms-of-use"}},"privacy-policy":{href:{params:"privacy-policy"}},"bird-in-flight":{href:{params:"birdinflight"},target:"_blank"},"bird-in-flight-prize":{href:{params:"birdinflightPrize"},target:"_blank"}},u={image:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Stock Image #%s",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Stock Photo #%s",i)}},vector:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Stock Illustration #%s",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Stock Vector #%s",i)}},video:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Stock Footage #%s",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Stock Video #%s",i)}}},h={image:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Free Stock Image",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Free Stock Photo",i)}},vector:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Free Stock Illustration",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Free Stock Vector",i)}},video:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Free Stock Footage",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s  Free Stock Video",i)}}},p={image:[{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Photo",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Images",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Image",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Photos",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Picture",i)}}],vector:[{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Vector",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Vectors",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Illustration",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Illustrations",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Vector Graphics",i)}}],video:[{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Footage",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Footage",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Video",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Video",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Video Clip",i)}}]};e.exports={imitateLangLinksEnabled:function(e){var t=e.router.routeName,i=e.store.get("SearchQuery");return{Folder:!0,Bundle:!0,CustomFolder:!0,get Search(){return i&&!i.isNewResults()&&!i.isCategory()&&!i.isPortfolio()}}[t]},transformToGeneratedLink:function(e,t){var i=t.getAttribute("data-seolink"),n=d[i]||d.dummy,o="";"lang"===i?o=e.getLanguages().find((function(e){return e.key===t.getAttribute("data-seolink-langkey")})).url:o=e.makeUrl(n.href.params,n.href.options);var a=Object.assign({},n,{href:o,class:t.className});e.device.isMobile?"_blank"===a.target?e.router.redirectToBlank(a.href):e.router.redirect(a.href):s.$(t).replaceWith(s.$("<a>"+t.innerHTML+"</a>").attr(a).removeClass("_pseudolink"))},transformToLink:function(e,t){var i={href:t||e.getAttribute("data-seolink")};Object.values(e.attributes).forEach((function(e){"data-seolink"!==e.name&&(i[e.name]=e.value)}));var n=s.$("<a>"+e.innerHTML+"</a>").attr(i).removeClass("_pseudolink");return s.$(e).replaceWith(n),n},transformOrRedirect:function(e,t,i){var n=this.transformToLink(t,i);e.device.isMobile&&("_blank"===n.getAttribute("target")?e.router.redirectToBlank(n.getAttribute("href")):e.router.redirect(n.getAttribute("href")))},isCanonicalWithPage:function(e){return["br"].includes(e.lang)},injectFilesSEOMeta:function(e,i,n){var o=i instanceof Array,s=!o&&i.free?h:u,a=function(i,o){void 0===o&&(o=0);var a=i.type,r=i.alt,l=i.title,c=s[a],d=n?p[a]:s[a];return c&&d?(n&&(d=d[o%d.length]),t({},i,{seoTitle:c.title(e,l,"").replace(/\s#$/,""),seoAlt:d.alt(e,r,"").replace(/\s#$/,"")})):t({},i,{seoTitle:l,seoAlt:r})};return o?i.map(a):a(i)},useClearSearchUrls:function(e){if(e.queryParams.content)return!1;var t=e.store.get("SearchQuery");if(function(e){var t=e.store.get("SearchInfo");return!!t&&t.isRefineSearchActive()}(e)&&c(t))return!1;var i=t.getFilterKeys(),o=1===i.length&&"seller"===i[0]&&!t.get("query");return 1===i.length&&"category"===i[0]&&!t.get("query")||o||!i.length&&!!t.get("sorting")||!n.browser&&t.get("query")},generateClearSearchUrl:function(e,i,n,s){void 0===n&&(n={}),void 0===s&&(s={});var a=t({query:{}},s),r=o.difference(["query","photo","offset","illustration","crelloTemplate","vector","video","category","sorting","audio"],Object.keys(n)),l=i.filters.getDefaultSorting(),c=n.sorting||i.getFilters("sorting");return l!==c&&(a.query.sorting=c),null!=e.queryParams.correction_required&&(a.query.correction_required=e.queryParams.correction_required),e.makeUrl(t({route:e.router.routeName},n,o.pick(i.getQueryParams(),r)),a)},formatFilePublicationDate:function(e,t){return l(e,t,"lll")},getFilesListLayout:function(e){return e.features.isFeatureOnValue("Show 600 thumb on search")?"xwide":"wide"},getStructuredData:function(e){var i=e.component,n=i.app;return n.features.isFeatureOnValue("Enable Structured Data")?[r.build(n),a.build(n)].concat(i.getStructuredData()).map((function(e){return t({},e,{json:JSON.stringify(e.json)})})):[]},generateHeaderLinkCanonical:function(e){return"<"+encodeURI(e)+'>; rel="canonical"'}}}))}).call(this,i(23))},944:function(e,t,i){var n,o,s;!function(i,a){o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(0),n=i(939),o=i(6),s=i(34),a=i(945);e.exports=o.extend({url:"Series",defaults:n.seriesModelDefault,getQueryParams:function(){return t.extend({},t.pick(this.attributes,"name","lang","random"),{limit:this.get("alone")?1:this.get("limit")})},parse:function(e){var i=this.get("elements")?this.get("elements").reset(e.elements||[],{parse:!0}):new s(e.elements||[],{app:this.app,model:a,parse:!0});return t.extend({},e,{elements:i})},toJSON:function(){var e=t.omit(this.attributes,"elements");return e.elements=[],this.get("elements")&&this.get("elements").each((function(t){e.elements.push(t.toJSON())})),this.get("grid")&&(e.grid=this.makeGrid()),e},makeGrid:function(){var e=this.get("grid"),i=[],n=[];return t.each(t.range(e.rows),(function(o){var s=[];t.each(t.range(e.columns),(function(i){var a=o+":"+i;if(!(t.indexOf(n,a)>-1)){var r={};e.spans&&e.spans[a]&&(t.extend(r,e.spans[a]),t.each(t.range(1,e.spans[a].colspan||1),(function(e){n.push(o+":"+(i+e))})),t.each(t.range(1,e.spans[a].rowspan||1),(function(s){n.push(o+s+":"+i),t.each(t.range(1,e.spans[a].colspan||1),(function(e){n.push(o+s+":"+(i+e))}))}))),s.push(r)}})),s.length&&i.push(s)})),i},getFirstImage:function(){var e=this.get("elements").first();if(!e)return null;var t=e.get("resource");return t?(t.get("src")||{}).jpg:null},getImagesList:function(e,t){void 0===e&&(e="name");var i=(void 0===t?{}:t).includeDimensions,n=void 0!==i&&i;return this.get("elements").reduce((function(t,i){var o=i.get("resource");if(o){var s=(o.get("src")||{}).jpg;t[i.get(e)]=n?{width:o.get("width"),height:o.get("height"),src:s}:s}return t}),{})}})}))},945:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(6),o=i(946);e.exports=n.extend({parse:function(e){var i=new o(t.pick(e,"elementResource","type","imageUrl","videoUrl"),{parse:!0});return t.extend({},t.omit(e,"elementResource","type","imageUrl","videoUrl"),{resource:i})},toJSON:function(){var e=t.omit(this.attributes,"resource");return e.resource=this.get("resource").toJSON(),e.urlVar&&(e.urlVar=this.app.makeUrl(e.urlVar)),e}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},946:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(6);e.exports=t.extend({parse:function(e){var t={};return e.imageUrl&&(t[e.imageUrl.split(".").pop()]=e.imageUrl),e.videoUrl&&(t[e.videoUrl.split(".").pop()]=e.videoUrl),{type:e.type||null,width:e.elementResource.resourceInfo&&e.elementResource.resourceInfo[0]?e.elementResource.resourceInfo[0]:null,height:e.elementResource.resourceInfo&&e.elementResource.resourceInfo[1]?e.elementResource.resourceInfo[1]:null,src:t}}})})?n.apply(t,o):n)||(e.exports=s)},947:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";var t=i(6);e.exports=t.extend({defaults:{id:null,imageUrl:"",width:null,height:null,type:"",alt:""},parse:function(e){return void 0===e&&(e={}),this.pickDefaultsFrom(e)},isVideo:function(){return"video"===this.get("type")},isCrelloTemplate:function(){return"crelloTemplate"===this.get("type")}})})?n.apply(t,o):n)||(e.exports=s)},951:function(e,t,i){},970:function(e,t,i){(function(n){var o,s,a;!function(n,r){s=[i(151)],void 0===(a="function"==typeof(o=r)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(t){"use strict";function o(e,t,i,n,o,s,a){try{var r=e[s](a),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,o)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t=function(e){return e&&e.__esModule?e:{default:e}}(t),i(977),i(951);var a=i(0),r=i(856).videoPlayer,l=i(978),c=i(26),d=i(857),u=i(556),h=i(749),p=null;e.exports=u.extend({name:"FilePreviewVideo",el:!1,template:l,file:null,RAWVideoFiles:null,$mount:void 0,$poster:void 0,mountMethod:"append",mountOn:"ready",playerId:null,preload:!0,loop:!0,shouldSetSizes:!0,width:0,height:0,controls:!0,resizeManager:!1,autoplay:!0,hasPoster:!0,muted:!1,controlBar:{muteToggle:!1,volumeControl:!0},spinner:{top:void 0,left:void 0,color:void 0},startPoint:0,startPointAutoCalculation:!0,blackBackground:!1,viewMode:"modal",initialize:function(){var e=this;this.spinner=new d(a.defaults(this.spinner,a.clone(r))),this.app&&this.app.device&&this.app.device.isMobile?this.on("ready loadstart",(function(){e.toggleSpinner(),e.$el.addClass("video-playing"),e.$(".video-js").addClass("vjs-has-started")})):this.once("playing",(function(){return e.$el.addClass("video-playing")})),this.$mount&&this.once(this.mountOn,this.mountHandler)},serialize:function(){return s({files:this.RAWVideoFiles||this.file.getVideoThumbs(this.getVideoThumbsSize(!1)),isEditorial:this.file&&this.file.get("editorial"),showTitle:this.getShowTitle(),title:this.file&&this.file.get("title"),isWebmAllowed:this.app.features.isFeatureOnValue("Is webm video thumb allowed"),shouldSetSizes:this.shouldSetSizes,autoplay:this.autoplay,muted:this.muted},this.makeVideoInfo(),this.makePlayerOptions())},clientAfterRender:function(){this.initVideoPlayer()},getShowTitle:function(){return this.app&&this.app.features&&this.app.features.isFeatureOnValue("Show file title in preview")},initVideoPlayer:function(){var e=this;return function(e){return function(){var t=this,i=arguments;return new Promise((function(n,s){var a=e.apply(t,i);function r(e){o(a,n,s,r,l,"next",e)}function l(e){o(a,n,s,r,l,"throw",e)}r(void 0)}))}}(t.default.mark((function n(){var o,a;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.toggleSpinner(!0),p){t.next=9;break}return t.next=4,i.e(27).then(i.t.bind(null,1131,7));case 4:return o=t.sent,a=o.default,t.next=8,i.e(27).then(i.bind(null,1133));case 8:p=a;case 9:e.destroyInactivePlayers(),e.playerId=p(e.getPlayerElement(),s({},e.makePlayerOptions(),e.makeVideoInfo())).id(),e.initPlayerEvents();case 12:case"end":return t.stop()}}),n)})))()},initPlayerEvents:function(){var e=this,t=this.getPlayer();t&&t.ready((function(){e.trigger("ready",e),t.muted(e.muted),t.userActive(!1),t.currentTime(e.makeStartPoint()),t.rotatePlayerPlugin(),t.on("loadeddata",(function(){e.checkVideoSoundTrack(),e.getPlayerElement().currentTime=e.makeStartPoint()})),t.on("loadstart",(function(){e.toggleSpinner(!0),e.trigger("loadstart",e)})),t.on("playing",(function(){e.toggleSpinner(!1),e.trigger("playing",e)})),t.on("error",(function(){return e.onPlayerError()})),t.on("dispose",(function(){e.stopListening(),e.undelegateEvents()})),t.on("touchend",(function(i){e.el.getElementsByClassName("vjs-control-bar")[0].contains(i.target)||(t.paused()?e.startPlayer():e.pausePlayer())})),e.autoplay&&t.paused()&&e.startPlayer()}))},calculateStartPoint:function(){var e=this.file&&this.file.get("mp")||0;return e>5?Math.floor(e/5):0},makeStartPoint:function(){return this.startPointAutoCalculation?this.calculateStartPoint():this.startPoint},makeVideoInfo:function(){var e={width:this.width,height:this.height};if(this.file){var t=h.getThumbSizes(this.file.serialize(),"huge");e.width=this.width||t.w,e.height=this.height||t.h}return e},makePlayerOptions:function(){return{controls:this.controls,preload:!!n.browser&&this.preload,loop:this.loop,blackBackground:this.blackBackground,poster:this.hasPoster?this.makePoster():null,controlBar:this.controlBar,resizeManager:this.resizeManager}},makePoster:function(){var e=this.file&&this.file.getVideoThumbs(this.getVideoThumbsSize(!0));return e&&e.jpg?e.jpg:this.RAWVideoFiles&&this.RAWVideoFiles.jpg?this.RAWVideoFiles.jpg:null},getVideoThumbsSize:function(e){var t=["modal","page"].includes(this.viewMode)?"huge":"wide";return e?t:h.getVideoClipThumbSize(this.file.serialize(),t)},getPlayerElement:function(){return"video"===this.el.tagName.toLowerCase()?this.el:this.$("video").get(0)},mountHandler:function(){this.mountPreview();var e=this.getPlayer();this.autoplay&&e&&e.paused()&&this.startPlayer(),this.app.observer.fire("Responsive:VideoPreviewMounted")},mountPreview:function(){return"html"===this.mountMethod?this.$mount.html(this.$el):-1===this.mountMethod.indexOf("insert")?this.$mount[this.mountMethod](this.$el):this.$el[this.mountMethod](this.$mount)},onPlayerError:function(){this.spinner.stop(),this.spinner=new d(a.extend(a.clone(r),{color:"#ff0000"})),this.toggleSpinner(!0)},checkVideoSoundTrack:function(){var e=this.getPlayer();if(e){var t=this.$("video").get(0),i=a.isUndefined(t.webkitAudioDecodedByteCount||t.mozHasAudio);e.toggleClass("vjs-silent-video",i)}},toggleSpinner:function(e){e?this.spinner.spin(this.$mount&&this.$mount.get(0)||this.el):this.spinner.stop()},getPlayer:function(){return p&&this.playerId?p.getPlayers()[this.playerId]:null},startPlayer:function(){var e=this.getPlayer();e&&e.play().catch((function(){}))},pausePlayer:function(){var e=this.getPlayer();e&&e.pause()},destroyInactivePlayers:function(){p&&a.each(p.getPlayers(),(function(e,t){e?c.$("#"+t).length||e.dispose():delete p.players[t]}))},cleanup:function(){this.toggleSpinner(),this.pausePlayer()}})}))}).call(this,i(23))},975:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";function t(e){var n="function"==typeof Map?new Map:void 0;return(t=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return i(e,arguments,s(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)})(e)}function i(e,t,s){return(i=n()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var s=new(Function.bind.apply(e,n));return i&&o(s,i.prototype),s}).apply(null,arguments)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(e){function t(t){var i;if(i=e.call(this)||this,!t.code)throw new Error('"code" required');return i.code=t.code,i.message=t.message,i.payload=t.payload,i}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(t(Error));e.exports={Exception:a}})?n.apply(t,o):n)||(e.exports=s)},977:function(e,t,i){},978:function(e,t,i){var n,o,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(s="function"==typeof(n=function(){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,(function(e){return t[e]||e}))}}(),i='<div class="vjs-container"><noscript><video class="video-js vjs-deposit-skin ';return e.blackBackground&&(i+=" vjs-bg-black"),i+='"',e.shouldSetSizes&&(i+='style="width: '+t(e.width)+"px; height: "+t(e.height)+'px;"'),i+='width="'+t(e.width)+'" height="'+t(e.height)+'" ',e.controls&&(i+=" controls"),e.muted&&(i+=" muted"),e.autoplay&&(i+=" autoplay"),e.poster&&(i+=' poster="'+t(e.poster)+'"'),e.preload&&(i+=" preload"),e.loop&&(i+=" loop"),i+=">",e.files.mp4&&(i+='<source type="video/mp4" src="'+e.files.mp4+'"></source>'),e.isWebmAllowed&&e.files.webm&&(i+='<source type="video/webm" src="'+e.files.webm+'"></source>'),e.files.ogg&&(i+='<source type="video/ogg" src="'+e.files.ogg+'"></source>'),i+='</video></noscript><video class="video-js vjs-deposit-skin ',e.blackBackground&&(i+=" vjs-bg-black"),i+='"',e.shouldSetSizes&&(i+='style="width: '+t(e.width)+"px; height: "+t(e.height)+'px;"'),i+='width="'+t(e.width)+'" height="'+t(e.height)+'" ',e.controls&&(i+=" controls"),e.muted&&(i+=" muted"),e.autoplay&&(i+=" autoplay"),e.poster&&(i+=' poster="'+t(e.poster)+'"'),e.preload&&(i+=" preload"),e.loop&&(i+=" loop"),i+=">",e.files.mp4&&(i+='<source type="video/mp4" src="'+e.files.mp4+'"></source>'),e.isWebmAllowed&&e.files.webm&&(i+='<source type="video/webm" src="'+e.files.webm+'"></source>'),e.files.ogg&&(i+='<source type="video/ogg" src="'+e.files.ogg+'"></source>'),i+="</video></div>"}})?n.apply(t,o):n)||(e.exports=s)},987:function(e,t,i){(function(n){var o,s,a;!function(i,n){s=[],void 0===(a="function"==typeof(o=n)?o.apply(t,s):o)||(e.exports=a)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,(function(){"use strict";var t=i(988),o=i(941);e.exports=t.extend({name:"BaseList",listSelector:null,partialItems:null,intersectionObserver:null,partialMountNode:null,initIntersecObserver:function(){this.intersectionObserver=new IntersectionObserver(this.listIntersectionCallback.bind(this),{root:null,rootMargin:"0px",threshold:[.1,.2,.5,1]})},observeLastItem:function(){if(n.browser){this.intersectionObserver||this.initIntersecObserver();var e=this.el.querySelector(this.listSelector),t=e&&e.lastElementChild;t&&this.intersectionObserver&&this.intersectionObserver.observe(t)}},getPartialMountNode:function(){return this.$(this.partialMountNode)||this.$el},_applyTemplate:function(e,t){this.partialItems?this.__applyPartialTemplate(e):o.prototype._applyTemplate.apply(this,[e,t])},__applyPartialTemplate:function(e){var t=this.getPartialMountNode();this.__partialPrepend?t.prepend(e):t.append(e)},__renderPartialTemplate:function(e,t){return this.mutateContextWithPartial(t),this.endless=!1,this.templatePartial.call(this,t).trim()},renderTemplate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Array.isArray(this.partialItems)?this.__renderPartialTemplate.apply(this,t):o.prototype.renderTemplate.apply(this,t)},_onCollectionUpdate:function(e,t){this.__partialPrepend=0===t.at,this.partialItems=this.endless&&t.add?t.changes.added:null,this.render(),this.scrollToStart()},_onCollectionReset:function(){this.partialItems=null,this.render(),this.scrollToStart()},mutateContextWithPartial:function(){},listIntersectionCallback:function(){}})}))}).call(this,i(23))},988:function(e,t,i){var n,o,s,a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(){"use strict";var t=i(0),n=i(941);e.exports=n.extend({name:"List",el:!1,templatePartial:function(){return"Setup templatePartial for "+this.name+".js"},collection:null,autoScrollToStart:!0,autoScrollPadding:150,endless:!1,__needPartialRender:!1,__partialPrepend:!1,__applyPartialTemplate:function(e){this.__partialPrepend?this.$el.prepend(e):this.$el.append(e)},_applyTemplate:function(e,t){this.__needPartialRender?this.__applyPartialTemplate(e):n.prototype._applyTemplate.apply(this,[e,t])},__renderPartialTemplate:function(e,t){return this.templatePartial.call(this,t).trim()},renderTemplate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.__needPartialRender?this.__renderPartialTemplate.apply(this,t):n.prototype.renderTemplate.apply(this,t)},initialize:function(){this.listenToCollection()},listenToCollection:function(){this.listenTo(this.collection,{update:this._onCollectionUpdate,reset:this._onCollectionReset})},scrollToStart:function(){if(!this.endless&&this.autoScrollToStart){var e=this.$el.offset().top-this.autoScrollPadding,t=Math.max(0,e);window.scrollTo(0,t)}},_onCollectionUpdate:function(e,i){this.__needPartialRender=this.endless,this.__partialPrepend=0===t.result(i,"at"),this.render(),this.scrollToStart()},_onCollectionReset:function(){this.__needPartialRender=!1,this.render(),this.scrollToStart()}})},o=[],void 0===(s="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=s)},989:function(e,t,i){"use strict";var n=i(990),o=i(994),s=i(1002);e.exports={initialize:o,update:s,destroy:n}},990:function(e,t,i){"use strict";var n=i(644),o=i(658),s=i(627);e.exports=function(e){var t=s.get(e);t&&(t.event.unbindAll(),o.remove(t.scrollbarX),o.remove(t.scrollbarY),o.remove(t.scrollbarXRail),o.remove(t.scrollbarYRail),n.removePsClasses(e),s.remove(e))}},991:function(e,t,i){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},992:function(e,t,i){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var i=void 0!==t;this.events[e]=this.events[e].filter((function(n){return!(!i||n===t)||(this.element.removeEventListener(e,n,!1),!1)}),this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return void 0===t&&(t=new n(e),this.eventElements.push(t)),t},o.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},o.prototype.unbind=function(e,t,i){this.eventElement(e).unbind(t,i)},o.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},o.prototype.once=function(e,t,i){var n=this.eventElement(e),o=function(e){n.unbind(t,o),i(e)};n.bind(t,o)},e.exports=o},993:function(e,t,i){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},994:function(e,t,i){"use strict";var n=i(644),o=i(863),s=i(627),a=i(645),r={"click-rail":i(995),"drag-scrollbar":i(996),keyboard:i(997),wheel:i(998),touch:i(999),selection:i(1e3)},l=i(1001);e.exports=function(e,t){t="object"==typeof t?t:{},o.add(e,"ps");var i=s.add(e);i.settings=n.extend(i.settings,t),o.add(e,"ps--theme_"+i.settings.theme),i.settings.handlers.forEach((function(t){r[t](e)})),l(e),a(e)}},995:function(e,t,i){"use strict";var n=i(627),o=i(645),s=i(652);e.exports=function(e){!function(e,t){function i(e){return e.getBoundingClientRect()}var n=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",n),t.event.bind(t.scrollbarYRail,"click",(function(n){var a=n.pageY-window.pageYOffset-i(t.scrollbarYRail).top>t.scrollbarYTop?1:-1;s(e,"top",e.scrollTop+a*t.containerHeight),o(e),n.stopPropagation()})),t.event.bind(t.scrollbarX,"click",n),t.event.bind(t.scrollbarXRail,"click",(function(n){var a=n.pageX-window.pageXOffset-i(t.scrollbarXRail).left>t.scrollbarXLeft?1:-1;s(e,"left",e.scrollLeft+a*t.containerWidth),o(e),n.stopPropagation()}))}(e,n.get(e))}},996:function(e,t,i){"use strict";var n=i(644),o=i(658),s=i(627),a=i(645),r=i(652);e.exports=function(e){var t=s.get(e);!function(e,t){var i=null,s=null;function l(o){var s=i+o*t.railXRatio,a=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=s<0?0:s>a?a:s;var l=n.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;r(e,"left",l)}var c=function(t){l(t.pageX-s),a(e),t.stopPropagation(),t.preventDefault()},d=function(){n.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",c)};t.event.bind(t.scrollbarX,"mousedown",(function(a){s=a.pageX,i=n.toInt(o.css(t.scrollbarX,"left"))*t.railXRatio,n.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",c),t.event.once(t.ownerDocument,"mouseup",d),a.stopPropagation(),a.preventDefault()}))}(e,t),function(e,t){var i=null,s=null;function l(o){var s=i+o*t.railYRatio,a=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=s<0?0:s>a?a:s;var l=n.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));r(e,"top",l)}var c=function(t){l(t.pageY-s),a(e),t.stopPropagation(),t.preventDefault()},d=function(){n.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",c)};t.event.bind(t.scrollbarY,"mousedown",(function(a){s=a.pageY,i=n.toInt(o.css(t.scrollbarY,"top"))*t.railYRatio,n.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",c),t.event.once(t.ownerDocument,"mouseup",d),a.stopPropagation(),a.preventDefault()}))}(e,t)}},997:function(e,t,i){"use strict";var n=i(644),o=i(658),s=i(627),a=i(645),r=i(652);function l(e,t){var i=!1;t.event.bind(e,"mouseenter",(function(){i=!0})),t.event.bind(e,"mouseleave",(function(){i=!1}));t.event.bind(t.ownerDocument,"keydown",(function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)){var l=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(i||l){var c=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(c){if("IFRAME"===c.tagName)c=c.contentDocument.activeElement;else for(;c.shadowRoot;)c=c.shadowRoot.activeElement;if(n.isEditable(c))return}var d=0,u=0;switch(s.which){case 37:d=s.metaKey?-t.contentWidth:s.altKey?-t.containerWidth:-30;break;case 38:u=s.metaKey?t.contentHeight:s.altKey?t.containerHeight:30;break;case 39:d=s.metaKey?t.contentWidth:s.altKey?t.containerWidth:30;break;case 40:u=s.metaKey?-t.contentHeight:s.altKey?-t.containerHeight:-30;break;case 33:u=90;break;case 32:u=s.shiftKey?90:-90;break;case 34:u=-90;break;case 35:u=s.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:u=s.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}r(e,"top",e.scrollTop-u),r(e,"left",e.scrollLeft+d),a(e),function(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===s&&i<0||s>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(d,u)&&s.preventDefault()}}}))}e.exports=function(e){l(e,s.get(e))}},998:function(e,t,i){"use strict";var n=i(627),o=i(645),s=i(652);function a(e,t){var i=!1;function n(n){var a=function(e){var t=e.deltaX,i=-1*e.deltaY;return void 0!==t&&void 0!==i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!=t&&i!=i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}(n),r=a[0],l=a[1];(function(t,i){var n=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(n){var o=window.getComputedStyle(n);if(![o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/))return!1;var s=n.scrollHeight-n.clientHeight;if(s>0&&!(0===n.scrollTop&&i>0||n.scrollTop===s&&i<0))return!0;var a=n.scrollLeft-n.clientWidth;if(a>0&&!(0===n.scrollLeft&&t<0||n.scrollLeft===a&&t>0))return!0}return!1})(r,l)||(i=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(s(e,"top",l?e.scrollTop-l*t.settings.wheelSpeed:e.scrollTop+r*t.settings.wheelSpeed),i=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(s(e,"left",r?e.scrollLeft+r*t.settings.wheelSpeed:e.scrollLeft-l*t.settings.wheelSpeed),i=!0):(s(e,"top",e.scrollTop-l*t.settings.wheelSpeed),s(e,"left",e.scrollLeft+r*t.settings.wheelSpeed)),o(e),(i=i||function(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===s&&i<0||s>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(r,l))&&(n.stopPropagation(),n.preventDefault()))}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)}e.exports=function(e){a(e,n.get(e))}},999:function(e,t,i){"use strict";var n=i(644),o=i(627),s=i(645),a=i(652);e.exports=function(e){(n.env.supportsTouch||n.env.supportsIePointer)&&function(e,t,i,n){function r(i,n){var o=e.scrollTop,s=e.scrollLeft,a=Math.abs(i),r=Math.abs(n);if(r>a){if(n<0&&o===t.contentHeight-t.containerHeight||n>0&&0===o)return!t.settings.swipePropagation}else if(a>r&&(i<0&&s===t.contentWidth-t.containerWidth||i>0&&0===s))return!t.settings.swipePropagation;return!0}function l(t,i){a(e,"top",e.scrollTop-i),a(e,"left",e.scrollLeft-t),s(e)}var c={},d=0,u={},h=null,p=!1,f=!1;function b(){p=!0}function m(){p=!1}function v(e){return e.targetTouches?e.targetTouches[0]:e}function g(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function y(e){if(g(e)){f=!0;var t=v(e);c.pageX=t.pageX,c.pageY=t.pageY,d=(new Date).getTime(),null!==h&&clearInterval(h),e.stopPropagation()}}function w(e){if(!f&&t.settings.swipePropagation&&y(e),!p&&f&&g(e)){var i=v(e),n={pageX:i.pageX,pageY:i.pageY},o=n.pageX-c.pageX,s=n.pageY-c.pageY;l(o,s),c=n;var a=(new Date).getTime(),h=a-d;h>0&&(u.x=o/h,u.y=s/h,d=a),r(o,s)&&(e.stopPropagation(),e.preventDefault())}}function _(){!p&&f&&(f=!1,t.settings.swipeEasing&&(clearInterval(h),h=setInterval((function(){o.get(e)&&(u.x||u.y)?Math.abs(u.x)<.01&&Math.abs(u.y)<.01?clearInterval(h):(l(30*u.x,30*u.y),u.x*=.8,u.y*=.8):clearInterval(h)}),10)))}i?(t.event.bind(window,"touchstart",b),t.event.bind(window,"touchend",m),t.event.bind(e,"touchstart",y),t.event.bind(e,"touchmove",w),t.event.bind(e,"touchend",_)):n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",b),t.event.bind(window,"pointerup",m),t.event.bind(e,"pointerdown",y),t.event.bind(e,"pointermove",w),t.event.bind(e,"pointerup",_)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",b),t.event.bind(window,"MSPointerUp",m),t.event.bind(e,"MSPointerDown",y),t.event.bind(e,"MSPointerMove",w),t.event.bind(e,"MSPointerUp",_)))}(e,o.get(e),n.env.supportsTouch,n.env.supportsIePointer)}}}]);